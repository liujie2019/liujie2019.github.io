<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3. JS基础知识总结 | 砥砺前行</title>
    <meta name="description" content="Stay hungry，Stay foolish">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.718111f3.css" as="style"><link rel="preload" href="/assets/js/app.c2739f0d.js" as="script"><link rel="preload" href="/assets/js/2.fd8d7b4d.js" as="script"><link rel="preload" href="/assets/js/23.d6967120.js" as="script"><link rel="preload" href="/assets/js/29.03c53af3.js" as="script"><link rel="prefetch" href="/assets/js/10.da3108ea.js"><link rel="prefetch" href="/assets/js/100.67a883ce.js"><link rel="prefetch" href="/assets/js/101.3bacadc1.js"><link rel="prefetch" href="/assets/js/102.39233cbd.js"><link rel="prefetch" href="/assets/js/103.7443483a.js"><link rel="prefetch" href="/assets/js/104.67980602.js"><link rel="prefetch" href="/assets/js/105.74a6cc40.js"><link rel="prefetch" href="/assets/js/106.5f5c004f.js"><link rel="prefetch" href="/assets/js/107.ee0c71a5.js"><link rel="prefetch" href="/assets/js/108.d9584ccd.js"><link rel="prefetch" href="/assets/js/109.c3cafe46.js"><link rel="prefetch" href="/assets/js/11.b84d7d32.js"><link rel="prefetch" href="/assets/js/110.8450e818.js"><link rel="prefetch" href="/assets/js/111.5b7e7ede.js"><link rel="prefetch" href="/assets/js/112.c9d6d4ca.js"><link rel="prefetch" href="/assets/js/113.7ad6cc7d.js"><link rel="prefetch" href="/assets/js/114.a7526e87.js"><link rel="prefetch" href="/assets/js/115.befcefa7.js"><link rel="prefetch" href="/assets/js/116.a505bc90.js"><link rel="prefetch" href="/assets/js/117.17001fe4.js"><link rel="prefetch" href="/assets/js/118.b0389afa.js"><link rel="prefetch" href="/assets/js/119.c2ed753a.js"><link rel="prefetch" href="/assets/js/12.3c941db7.js"><link rel="prefetch" href="/assets/js/120.91c7ec2a.js"><link rel="prefetch" href="/assets/js/121.441a3952.js"><link rel="prefetch" href="/assets/js/122.1467c2d8.js"><link rel="prefetch" href="/assets/js/123.52f7b868.js"><link rel="prefetch" href="/assets/js/124.4dc070e2.js"><link rel="prefetch" href="/assets/js/125.c88f9a64.js"><link rel="prefetch" href="/assets/js/126.8ed7a3b3.js"><link rel="prefetch" href="/assets/js/127.cc3d0412.js"><link rel="prefetch" href="/assets/js/128.f124681d.js"><link rel="prefetch" href="/assets/js/129.a906eb9a.js"><link rel="prefetch" href="/assets/js/13.526e0105.js"><link rel="prefetch" href="/assets/js/130.4c234e18.js"><link rel="prefetch" href="/assets/js/131.db0f782e.js"><link rel="prefetch" href="/assets/js/132.f43fc74d.js"><link rel="prefetch" href="/assets/js/133.c84d2c2d.js"><link rel="prefetch" href="/assets/js/134.7d555c41.js"><link rel="prefetch" href="/assets/js/135.13836bf9.js"><link rel="prefetch" href="/assets/js/136.7a354be1.js"><link rel="prefetch" href="/assets/js/137.2c51e755.js"><link rel="prefetch" href="/assets/js/138.f249c06b.js"><link rel="prefetch" href="/assets/js/139.968b10de.js"><link rel="prefetch" href="/assets/js/14.febc7306.js"><link rel="prefetch" href="/assets/js/140.41dbeb42.js"><link rel="prefetch" href="/assets/js/141.9c495b21.js"><link rel="prefetch" href="/assets/js/142.ff512f1d.js"><link rel="prefetch" href="/assets/js/143.03c629eb.js"><link rel="prefetch" href="/assets/js/144.6a6e7823.js"><link rel="prefetch" href="/assets/js/145.23393fef.js"><link rel="prefetch" href="/assets/js/146.26221a77.js"><link rel="prefetch" href="/assets/js/147.87c76c63.js"><link rel="prefetch" href="/assets/js/148.3eefdf63.js"><link rel="prefetch" href="/assets/js/149.9f0152ae.js"><link rel="prefetch" href="/assets/js/15.053966fe.js"><link rel="prefetch" href="/assets/js/150.1d1bcf63.js"><link rel="prefetch" href="/assets/js/151.c48d6620.js"><link rel="prefetch" href="/assets/js/152.13fa8ce6.js"><link rel="prefetch" href="/assets/js/153.c20f5a74.js"><link rel="prefetch" href="/assets/js/154.d13e9b75.js"><link rel="prefetch" href="/assets/js/155.ec85dcda.js"><link rel="prefetch" href="/assets/js/156.b6ca8381.js"><link rel="prefetch" href="/assets/js/157.d788f2b8.js"><link rel="prefetch" href="/assets/js/158.139f4a19.js"><link rel="prefetch" href="/assets/js/159.b74e2655.js"><link rel="prefetch" href="/assets/js/16.11c5c1b1.js"><link rel="prefetch" href="/assets/js/160.9a6d3f50.js"><link rel="prefetch" href="/assets/js/161.92650050.js"><link rel="prefetch" href="/assets/js/162.a72dff28.js"><link rel="prefetch" href="/assets/js/163.fa57e123.js"><link rel="prefetch" href="/assets/js/164.78e761f7.js"><link rel="prefetch" href="/assets/js/165.20f19016.js"><link rel="prefetch" href="/assets/js/166.a4fd5c3e.js"><link rel="prefetch" href="/assets/js/167.75575276.js"><link rel="prefetch" href="/assets/js/168.e145208a.js"><link rel="prefetch" href="/assets/js/169.435f50da.js"><link rel="prefetch" href="/assets/js/17.5201d689.js"><link rel="prefetch" href="/assets/js/170.244210dd.js"><link rel="prefetch" href="/assets/js/171.a78dfe3b.js"><link rel="prefetch" href="/assets/js/172.4df4d58e.js"><link rel="prefetch" href="/assets/js/173.d552ef15.js"><link rel="prefetch" href="/assets/js/174.97873065.js"><link rel="prefetch" href="/assets/js/175.ed7e4b07.js"><link rel="prefetch" href="/assets/js/176.0de278ca.js"><link rel="prefetch" href="/assets/js/177.55576f41.js"><link rel="prefetch" href="/assets/js/178.e990e347.js"><link rel="prefetch" href="/assets/js/179.e702b656.js"><link rel="prefetch" href="/assets/js/18.cc72ab49.js"><link rel="prefetch" href="/assets/js/180.f6d9473e.js"><link rel="prefetch" href="/assets/js/181.1ee11ad2.js"><link rel="prefetch" href="/assets/js/182.b0767d83.js"><link rel="prefetch" href="/assets/js/183.ec7fb558.js"><link rel="prefetch" href="/assets/js/184.d84c6f29.js"><link rel="prefetch" href="/assets/js/185.3e88a3ce.js"><link rel="prefetch" href="/assets/js/186.f3c9b254.js"><link rel="prefetch" href="/assets/js/187.6d686e40.js"><link rel="prefetch" href="/assets/js/188.6dbbee5a.js"><link rel="prefetch" href="/assets/js/189.0baaccdd.js"><link rel="prefetch" href="/assets/js/19.a4378585.js"><link rel="prefetch" href="/assets/js/190.a9603823.js"><link rel="prefetch" href="/assets/js/191.04c4f3a2.js"><link rel="prefetch" href="/assets/js/192.e05b35f8.js"><link rel="prefetch" href="/assets/js/193.38f3b579.js"><link rel="prefetch" href="/assets/js/194.da6a76c7.js"><link rel="prefetch" href="/assets/js/195.4e428a49.js"><link rel="prefetch" href="/assets/js/196.afe44b88.js"><link rel="prefetch" href="/assets/js/197.523ceb84.js"><link rel="prefetch" href="/assets/js/198.f56f4750.js"><link rel="prefetch" href="/assets/js/199.08eaf3d5.js"><link rel="prefetch" href="/assets/js/20.186842d4.js"><link rel="prefetch" href="/assets/js/200.be743fec.js"><link rel="prefetch" href="/assets/js/201.57e24f9e.js"><link rel="prefetch" href="/assets/js/202.368a2898.js"><link rel="prefetch" href="/assets/js/203.a5e566d1.js"><link rel="prefetch" href="/assets/js/204.8f87525f.js"><link rel="prefetch" href="/assets/js/205.85b66555.js"><link rel="prefetch" href="/assets/js/206.5896f019.js"><link rel="prefetch" href="/assets/js/207.741e52ca.js"><link rel="prefetch" href="/assets/js/208.53af3b6c.js"><link rel="prefetch" href="/assets/js/209.92d59fab.js"><link rel="prefetch" href="/assets/js/21.db4b44a5.js"><link rel="prefetch" href="/assets/js/210.7e69c4c4.js"><link rel="prefetch" href="/assets/js/211.1e397264.js"><link rel="prefetch" href="/assets/js/212.12376fd9.js"><link rel="prefetch" href="/assets/js/213.7fa2e3af.js"><link rel="prefetch" href="/assets/js/214.b8d20041.js"><link rel="prefetch" href="/assets/js/215.f6d2eb34.js"><link rel="prefetch" href="/assets/js/216.741a20bd.js"><link rel="prefetch" href="/assets/js/217.ecf73230.js"><link rel="prefetch" href="/assets/js/218.322edf0c.js"><link rel="prefetch" href="/assets/js/219.44146753.js"><link rel="prefetch" href="/assets/js/22.48bc71dd.js"><link rel="prefetch" href="/assets/js/220.f862f514.js"><link rel="prefetch" href="/assets/js/221.997f25f7.js"><link rel="prefetch" href="/assets/js/222.fc54bcbd.js"><link rel="prefetch" href="/assets/js/223.fd2fd4e7.js"><link rel="prefetch" href="/assets/js/224.67908e13.js"><link rel="prefetch" href="/assets/js/225.8eba032f.js"><link rel="prefetch" href="/assets/js/226.8a42d999.js"><link rel="prefetch" href="/assets/js/227.3eb98c4c.js"><link rel="prefetch" href="/assets/js/228.bcdc3b25.js"><link rel="prefetch" href="/assets/js/229.a3d52cd4.js"><link rel="prefetch" href="/assets/js/230.f23cd2e4.js"><link rel="prefetch" href="/assets/js/231.9bdf0e40.js"><link rel="prefetch" href="/assets/js/232.2f12f1e7.js"><link rel="prefetch" href="/assets/js/233.f0733f2e.js"><link rel="prefetch" href="/assets/js/234.b178c9bc.js"><link rel="prefetch" href="/assets/js/235.35628e21.js"><link rel="prefetch" href="/assets/js/236.df116729.js"><link rel="prefetch" href="/assets/js/237.f1381c37.js"><link rel="prefetch" href="/assets/js/238.8313d86e.js"><link rel="prefetch" href="/assets/js/239.8a7706c8.js"><link rel="prefetch" href="/assets/js/24.7389deb5.js"><link rel="prefetch" href="/assets/js/240.10559cab.js"><link rel="prefetch" href="/assets/js/241.3496b2af.js"><link rel="prefetch" href="/assets/js/242.ce42e1c8.js"><link rel="prefetch" href="/assets/js/243.03fa6a36.js"><link rel="prefetch" href="/assets/js/244.8b5b81e5.js"><link rel="prefetch" href="/assets/js/245.af03337c.js"><link rel="prefetch" href="/assets/js/246.886ba71c.js"><link rel="prefetch" href="/assets/js/247.0322fa45.js"><link rel="prefetch" href="/assets/js/248.ca7b4c74.js"><link rel="prefetch" href="/assets/js/249.6a20a5fc.js"><link rel="prefetch" href="/assets/js/25.65e19f51.js"><link rel="prefetch" href="/assets/js/250.89bc5046.js"><link rel="prefetch" href="/assets/js/251.cdbf3ff2.js"><link rel="prefetch" href="/assets/js/252.492911cd.js"><link rel="prefetch" href="/assets/js/253.38d507a6.js"><link rel="prefetch" href="/assets/js/254.58298afa.js"><link rel="prefetch" href="/assets/js/255.7b68ffd4.js"><link rel="prefetch" href="/assets/js/256.13359a56.js"><link rel="prefetch" href="/assets/js/257.148d21ee.js"><link rel="prefetch" href="/assets/js/26.9e01c3c6.js"><link rel="prefetch" href="/assets/js/27.a8c6418a.js"><link rel="prefetch" href="/assets/js/28.7fceae21.js"><link rel="prefetch" href="/assets/js/3.b732fc70.js"><link rel="prefetch" href="/assets/js/30.0a3af1db.js"><link rel="prefetch" href="/assets/js/31.012abf40.js"><link rel="prefetch" href="/assets/js/32.b5accef7.js"><link rel="prefetch" href="/assets/js/33.331fc1ef.js"><link rel="prefetch" href="/assets/js/34.8f3b1537.js"><link rel="prefetch" href="/assets/js/35.0a02b86a.js"><link rel="prefetch" href="/assets/js/36.1813f5a1.js"><link rel="prefetch" href="/assets/js/37.5880bc8e.js"><link rel="prefetch" href="/assets/js/38.72e3bf6a.js"><link rel="prefetch" href="/assets/js/39.aba6807f.js"><link rel="prefetch" href="/assets/js/4.c269f2f9.js"><link rel="prefetch" href="/assets/js/40.58bbe976.js"><link rel="prefetch" href="/assets/js/41.437fbef8.js"><link rel="prefetch" href="/assets/js/42.9cca5be4.js"><link rel="prefetch" href="/assets/js/43.a18fe210.js"><link rel="prefetch" href="/assets/js/44.009c5209.js"><link rel="prefetch" href="/assets/js/45.bb4bc150.js"><link rel="prefetch" href="/assets/js/46.5c8c01b0.js"><link rel="prefetch" href="/assets/js/47.78acc2cb.js"><link rel="prefetch" href="/assets/js/48.3b552c56.js"><link rel="prefetch" href="/assets/js/49.a0206703.js"><link rel="prefetch" href="/assets/js/5.83bd2558.js"><link rel="prefetch" href="/assets/js/50.3c00c5f4.js"><link rel="prefetch" href="/assets/js/51.c0cabdda.js"><link rel="prefetch" href="/assets/js/52.6dfb647e.js"><link rel="prefetch" href="/assets/js/53.f5ba32bd.js"><link rel="prefetch" href="/assets/js/54.31f728cb.js"><link rel="prefetch" href="/assets/js/55.101847bb.js"><link rel="prefetch" href="/assets/js/56.ec897929.js"><link rel="prefetch" href="/assets/js/57.dccd7ae5.js"><link rel="prefetch" href="/assets/js/58.c3831a30.js"><link rel="prefetch" href="/assets/js/59.056663c0.js"><link rel="prefetch" href="/assets/js/6.89468a4d.js"><link rel="prefetch" href="/assets/js/60.7f836f89.js"><link rel="prefetch" href="/assets/js/61.2549e4ff.js"><link rel="prefetch" href="/assets/js/62.8f073b3b.js"><link rel="prefetch" href="/assets/js/63.a5c807d2.js"><link rel="prefetch" href="/assets/js/64.6aa077b2.js"><link rel="prefetch" href="/assets/js/65.4f068940.js"><link rel="prefetch" href="/assets/js/66.f66784c3.js"><link rel="prefetch" href="/assets/js/67.1a4f1a45.js"><link rel="prefetch" href="/assets/js/68.0473bb47.js"><link rel="prefetch" href="/assets/js/69.9367fa27.js"><link rel="prefetch" href="/assets/js/7.5da70ec5.js"><link rel="prefetch" href="/assets/js/70.9a44c62c.js"><link rel="prefetch" href="/assets/js/71.07364a28.js"><link rel="prefetch" href="/assets/js/72.ce0eea8f.js"><link rel="prefetch" href="/assets/js/73.e4590a8f.js"><link rel="prefetch" href="/assets/js/74.ac831ede.js"><link rel="prefetch" href="/assets/js/75.f5d88311.js"><link rel="prefetch" href="/assets/js/76.8363320f.js"><link rel="prefetch" href="/assets/js/77.36d7f80a.js"><link rel="prefetch" href="/assets/js/78.f151fe46.js"><link rel="prefetch" href="/assets/js/79.7eb5e29c.js"><link rel="prefetch" href="/assets/js/8.c5ba852e.js"><link rel="prefetch" href="/assets/js/80.43907670.js"><link rel="prefetch" href="/assets/js/81.800f11e4.js"><link rel="prefetch" href="/assets/js/82.a97ca1d7.js"><link rel="prefetch" href="/assets/js/83.1801fbf1.js"><link rel="prefetch" href="/assets/js/84.f79b7088.js"><link rel="prefetch" href="/assets/js/85.d5e69a1e.js"><link rel="prefetch" href="/assets/js/86.f5f948c9.js"><link rel="prefetch" href="/assets/js/87.377736f7.js"><link rel="prefetch" href="/assets/js/88.666132e6.js"><link rel="prefetch" href="/assets/js/89.3ffee588.js"><link rel="prefetch" href="/assets/js/9.a9be74d1.js"><link rel="prefetch" href="/assets/js/90.8870b432.js"><link rel="prefetch" href="/assets/js/91.161389bc.js"><link rel="prefetch" href="/assets/js/92.9eee2b04.js"><link rel="prefetch" href="/assets/js/93.33330e58.js"><link rel="prefetch" href="/assets/js/94.7c5f8c9f.js"><link rel="prefetch" href="/assets/js/95.dcaaa597.js"><link rel="prefetch" href="/assets/js/96.eadc40dd.js"><link rel="prefetch" href="/assets/js/97.d1c2f241.js"><link rel="prefetch" href="/assets/js/98.0b0e21b3.js"><link rel="prefetch" href="/assets/js/99.76ac6e42.js">
    <link rel="stylesheet" href="/assets/css/0.styles.718111f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">砥砺前行</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript/" class="nav-link">重学JS基础</a></li><li class="dropdown-item"><!----> <a href="/frontend/jsTopic/" class="nav-link">JS专题</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">React全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">Vue全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/babel/" class="nav-link">Babel</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack4/" class="nav-link">Webpack4配置实战</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">每天学点typescript</a></li><li class="dropdown-item"><!----> <a href="/frontend/web/" class="nav-link">浏览器相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/backend/koa/" class="nav-link">Koa</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/backend/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/backend/http/" class="nav-link">HTTP协议</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">前端杂谈</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">每日一题</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/more/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/liujie2019/VuePress-Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript/" class="nav-link">重学JS基础</a></li><li class="dropdown-item"><!----> <a href="/frontend/jsTopic/" class="nav-link">JS专题</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">React全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">Vue全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/babel/" class="nav-link">Babel</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack4/" class="nav-link">Webpack4配置实战</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">每天学点typescript</a></li><li class="dropdown-item"><!----> <a href="/frontend/web/" class="nav-link">浏览器相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/backend/koa/" class="nav-link">Koa</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/backend/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/backend/http/" class="nav-link">HTTP协议</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">前端杂谈</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">每日一题</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/more/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/liujie2019/VuePress-Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>每日一题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/" class="sidebar-link">题目汇总</a></li><li><a href="/interview/01.HTML基础知识汇总.html" class="sidebar-link">1. HTML基础知识总结</a></li><li><a href="/interview/02.CSS基础知识总结.html" class="sidebar-link">2. CSS基础知识总结</a></li><li><a href="/interview/03.JS基础知识总结.html" class="active sidebar-link">3. JS基础知识总结</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/interview/04.手写代码.html" class="sidebar-link">4. 手写代码和算法题</a></li><li><a href="/interview/05.ES6基础知识汇总.html" class="sidebar-link">5. ES6基础知识点汇总</a></li><li><a href="/interview/06.框架相关.html" class="sidebar-link">6. 框架相关</a></li><li><a href="/interview/07.HTTP知识总结.html" class="sidebar-link">7. HTTP知识点汇总</a></li><li><a href="/interview/08.浏览器相关知识总结.html" class="sidebar-link">8. 浏览器相关知识总结</a></li><li><a href="/interview/09.每日一题.html" class="sidebar-link">9. 每日一题</a></li><li><a href="/interview/10.前端工程化.html" class="sidebar-link">10. 前端工程化</a></li><li><a href="/interview/11.常用js函数.html" class="sidebar-link">11. js常用函数代码封装</a></li><li><a href="/interview/12.JavaScript题目集锦.html" class="sidebar-link">11. JavaScript题目集锦</a></li><li><a href="/interview/13. 算法题.html" class="sidebar-link">13. 算法题</a></li><li><a href="/interview/test.html" class="sidebar-link">13. 如何居中一个浮动元素?</a></li><li><a href="/interview/var、let及const区别.html" class="sidebar-link">var、let及const区别</a></li><li><a href="/interview/事件循环&amp;同步异步.html" class="sidebar-link">第17题 setTimeout、Promise、Async/Await的区别</a></li><li><a href="/interview/前端工程师必备技能.html" class="sidebar-link">前端工程师必备技能</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>[TOC]</p> <h3 id="js数据类型"><a href="#js数据类型" aria-hidden="true" class="header-anchor">#</a> js数据类型</h3> <ul><li>栈：基本数据类型(Undefined，Null，Boolean，Number，String，Symbol，Bigint)</li> <li>堆：引用数据类型(对象、数组和函数)</li></ul> <p>两者的区别是：存储位置不同；
基本数据类型是直接存储在**栈(stack)**中的简单数据段，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储；</p> <p>引用数据类型存储在**堆(heap)**中的对象，占据空间大、大小不固定，如果存储在栈中，将会影响程序运行的性能；引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。</p> <p><strong>栈和堆的区别：</strong> 栈(stack)会自动分配内存空间，会自动释放。堆(heap)动态分配的内存，大小不定也不会自动释放。</p> <h4 id="如何判断类型"><a href="#如何判断类型" aria-hidden="true" class="header-anchor">#</a> 如何判断类型</h4> <p>typeof()，instanceof，Object.prototype.toString.call()</p> <h4 id="typeof和instanceof有什么区别？"><a href="#typeof和instanceof有什么区别？" aria-hidden="true" class="header-anchor">#</a> typeof和instanceof有什么区别？</h4> <p>相同点：
都可以用来检测变量的数据类型。</p> <p>不同点：</p> <ul><li>typeof：返回值是一个字符串，用来说明变量的数据类型，不能判断null</li> <li>instanceof：用于判断一个变量是否属于某个对象的实例</li></ul> <h4 id="为啥typeof-null-object"><a href="#为啥typeof-null-object" aria-hidden="true" class="header-anchor">#</a> 为啥<code>typeof null === 'object'</code></h4> <img src="/assets/img/image-20200707141702064.7d892066.png" alt="image-20200707141702064" style="zoom:50%;"> <h4 id="如何判断一个变量是对象还是数组"><a href="#如何判断一个变量是对象还是数组" aria-hidden="true" class="header-anchor">#</a> 如何判断一个变量是对象还是数组</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="判断是否是数组"><a href="#判断是否是数组" aria-hidden="true" class="header-anchor">#</a> 判断是否是数组</h4> <ol><li>Array.isArray(arr)</li> <li>Object.prototype.toString.call(arr) === '[Object Array]'</li> <li>arr instanceof Array</li> <li>array.constructor === Array</li></ol> <h4 id="字符串转数字"><a href="#字符串转数字" aria-hidden="true" class="header-anchor">#</a> 字符串转数字</h4> <p>parseInt(string, radix)</p> <h3 id="bom与dom"><a href="#bom与dom" aria-hidden="true" class="header-anchor">#</a> BOM与DOM</h3> <p>BOM</p> <ol><li>BOM是Browser Object Model的缩写，即浏览器对象模型。</li> <li>BOM没有相关标准。</li> <li>BOM的最根本对象是window。</li></ol> <p>从1可以看出来：BOM和浏览器关系密切。浏览器的很多东西可以通过JavaScript控制的，例如打开新窗口、打开新选项卡（标签页）、关闭页面，把网页设为主页，或加入收藏夹，等等…这些涉及到的对象就是BOM。</p> <p>DOM</p> <ol><li>DOM是Document Object Model的缩写，即文档对象模型。</li> <li>DOM是W3C的标准。</li> <li>DOM最根本对象是document（实际上是window.document）。</li></ol> <p>从1可以看出来：DOM和文档有关，这里的文档指的是网页，也就是HTML文档。网页是由服务器发送给客户端浏览器的，无论用什么浏览器，接收到的HTML都是一样的，所以DOM和浏览器无关，它关注的是网页本身的内容。由于和浏览器关系不大，所以标准就好定了。</p> <p>DOM  指的是文档对象模型，它指的是把文档当做一个对象来对待，这个对象主要定义了处理网页内容的方法和接口。</p> <p>BOM  指的是浏览器对象模型，它指的是把浏览器当做一个对象来对待，这个对象主要定义了与浏览器进行交互的法和接口。BOM的核心是 window，而 window 对象具有双重角色，它既是通过 js 访问浏览器窗口的一个接口，又是一个 Global（全局）对象。这意味着在网页中定义的任何对象，变量和函数，都作为全局对象的一个属性或者方法存在。window 对象含有 location 对象、navigator 对象、screen 对象等子对象，并且 DOM 的最根本的对象 document 对象也是 BOM 的 window 对象的子对象。</p> <h3 id="对作用域和作用域链的理解"><a href="#对作用域和作用域链的理解" aria-hidden="true" class="header-anchor">#</a> 对作用域和作用域链的理解</h3> <h4 id="作用域"><a href="#作用域" aria-hidden="true" class="header-anchor">#</a> 作用域</h4> <ol><li>全局作用域
浏览器打开一个页面时，浏览器会给JS代码提供一个全局的运行环境，那么这个环境就是全局作用域
一个页面只有一个全局作用域，全局作用域下有一个window对象
window是全局作用域下的最大的一个内置对象（全局作用域下定义的变量和函数都会存储在window下）
如果是全局变量，都会给window新增一个键值对；属性名就是变量名，属性值就是变量所存储的值
如果变量只被var过，那么存储值是undefined
在私有作用域中是可以获取到全局变量的，但是在全局作用域中不能获取私有变量</li> <li>局部作用域
函数执行会形成一个新的私有的作用域（执行多次，形成多个私有作用域）
私有作用域在全局作用域中形成，具有包含的关系；
在一个全局作用域中，可以有很多个私有作用域
在私有作用域下定义的变量都是私有变量
形参也是私有变量
函数体中通过function定义的函数也是私有的，在全局作用域不能使用；</li> <li>块级作用域
es6中新引入的一种作用域
在js中常见到的if{}、for{}、while{}、try{}、catch{}、switch case{}都是块级作用域
var obj = {} //对象的大括号不是块级作用域
块级作用域中的同一变量不能被重复声明（块级下var和function不能重名，否则会报错）
作用域链</li> <li>父级作用域
函数的父级作用域就是该函数定义的地方，和函数在哪个作用域下执行没有关系。也就是说作用域是在函数定义时就已经确定了的。这需要跟执行上下文区分开来，函数没执行一次，都会创建一个新的执行上下文。</li></ol> <p>作用域链：当获取变量所对应的值时，首先看变量是否是私有变量，如果不是私有变量，要继续向上一级作用域中查找，如果上一级也没有，那么会继续向上一级查找，直到找到全局作用域为止；如果全局作用域也没有，则会报错；这样一级一级向上查找，就会形成作用域链
当前作用域没有的，则会继续向上一级作用域查找
当前函数的上一级作用域跟函数在哪个作用域下执行没有关系，只跟函数在哪定义有关（重点）</p> <p><strong>作用域链的作用是:</strong> 保证对执行环境有权访问的所有变量和函数的有序访问。
作用域链的变量只能向上访问，变量访问到window对象即被终止，作用域链向下访问变量是不被允许的。内部环境可以通过作用域链访问所有的外部环境，但是外部环境不能访问内部环境中的任何变量和函数。</p> <p>js中的作用域分为两种：全局作用域和函数作用域。函数作用域中定义的变量，只能在函数中调用，外界无法访问。没有块级作用域导致了if或for这样的逻辑语句中定义的变量可以被外界访问，因此ES6中新增了let和const命令来进行块级作用域的声明。</p> <h3 id="谈谈你对闭包的理解？应用的场景？"><a href="#谈谈你对闭包的理解？应用的场景？" aria-hidden="true" class="header-anchor">#</a> 谈谈你对闭包的理解？应用的场景？</h3> <p><strong>闭包是指有权访问另一个函数作用域内变量的函数</strong>。</p> <p>创建闭包的最常见的方式就是<strong>在一个函数内创建另一个函数</strong>，创建的函数可以访问到当前函数的局部变量。</p> <p>本质上说闭包就是在函数内部和函数外部搭建起一座桥梁，使得子函数可以访问父函数中所有的局部变量，但是反之不可以，这只是闭包的作用之一，另一个作用，则是保护变量不受外界污染，使其一直存在内存中，在工作中我们还是少使用闭包的好，因为闭包太消耗内存，不到万不得已的时候尽量不使用。</p> <p>函数声明的时候，会生成一个独立的作用域，同一作用域的对象可以互相访问，作用域呈层级包含状态，形成作用域链，子作用域的对象可以访问父作用域的对象，反之不能；另外子作用域会使用最近的父作用域的对象。</p> <p><strong>闭包使用场合:</strong> 使用闭包主要是为了设计私有的方法和变量以及特权方法(在某些函数中，只能通过特权方法才能访问相应的变量)。<strong>比如说插件的封装，一般在插件中定义的都是私有的变量和函数，我们对外提供访问这些变量和函数的接口</strong>。</p> <p><strong>使用闭包的优点:</strong></p> <ul><li>希望一个变量长期驻扎在内存中(使用不当导致内存泄漏);</li> <li>避免全局变量的污染，实现局部变量的累加;</li> <li>私有成员的存在。
<strong>缺点是:</strong> 闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。</li></ul> <p><strong>闭包有三个特性:</strong></p> <ul><li>函数嵌套函数;</li> <li>函数内部可以包含函数的参数和变量;</li> <li>参数和变量不会被垃圾回收机制回收(因为其被闭包引用)。</li></ul> <h3 id="js对象"><a href="#js对象" aria-hidden="true" class="header-anchor">#</a> js对象</h3> <h4 id="创建对象方式"><a href="#创建对象方式" aria-hidden="true" class="header-anchor">#</a> 创建对象方式</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1.对象字面量</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">}</span>

<span class="token comment">// 2.构造函数</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">)</span>

<span class="token comment">// 3.Object.create(proto, [propertiesObject])</span>
<span class="token comment">// Object.create()方法创建的对象时，属性是在原型下面的</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="new操作符做了什么？"><a href="#new操作符做了什么？" aria-hidden="true" class="header-anchor">#</a> new操作符做了什么？</h4> <ol><li>创建一个新的实例对象；</li> <li>将构造函数中的this指向新创建的实例对象；</li> <li>将新创建的实例对象通过<code>__proto__</code>绑定到构造函数的prototype上；</li> <li>如果构造函数中没有返回其它对象，那么返回 this，即这个新创建的实例对象，否则，返回构造函数中返回的对象。</li></ol> <blockquote><p>、创建一个空对象</p></blockquote> <blockquote><p>2、让空对象的__proto__（IE没有该属性）成员指向了构造函数的prototype成员对象</p></blockquote> <blockquote><p>3、使用apply调用构造器函数，属性和方法被添加到 this 引用的对象中</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 第一步 创建新对象</span>
    <span class="token keyword">let</span> obj<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 第二步 空对象的_proto_指向了构造函数的prototype成员对象</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> func<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token comment">// 一二步合并就相当于 let obj=Object.create(func.prototype)</span>

    <span class="token comment">// 第三步 使用apply调用构造器函数，属性和方法被添加到 this 引用的对象中</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果构造函数执行的结果返回的是一个对象，那么返回这个对象</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果构造函数返回的不是一个对象，返回创建的新对象</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="instanceof-原理"><a href="#instanceof-原理" aria-hidden="true" class="header-anchor">#</a> instanceof 原理</h4> <blockquote><p>用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性</p></blockquote> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">//显示改变Foo.prototype指向Person的实例对象（原型继承）</span>

<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__proto__<span class="token operator">===</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token operator">===</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

<span class="token comment">// 这个时候改变Foo.prototype的指向</span>

<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Foo.prototype已经不在a的原型链上面了</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__proto__<span class="token operator">===</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>

<span class="token comment">//Person.prototype依然在a的原型链上面</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="谈谈对原型和原型链的理解"><a href="#谈谈对原型和原型链的理解" aria-hidden="true" class="header-anchor">#</a> 谈谈对原型和原型链的理解</h3> <p>原型：所有的函数数据类型都天生自带一个prototype属性，该属性的属性值是一个对象
prototype的属性值中天生自带一个constructor属性，其constructor属性值指向当前原型所属的类
所有的对象数据类型，都天生自带一个<code>__proto__</code>(隐式原型)属性，该属性的属性值指向当前实例所属构造函数的原型。</p> <p>把所有的对象共用的属性全部放在堆内存的一个对象（共用属性组成的对象），然后让每一个对象的 __proto__存储这个「共用属性组成的对象」的地址。而这个共用属性就是原型，原型出现的目的就是为了减少不必要的内存消耗。而原型链就是对象通过__proto__向当前实例所属类的原型上查找属性或方法的机制，如果找到Object的原型(即Object.prototype)上还是没有找到想要的属性或者是方法则查找结束，最终会返回undefined。</p> <p>原型链中对象属性查找过程：首先在对象本身上面找 -&gt; 没找到再到对象的原型上找 -&gt; 还是找不到就到原型的原型上找 —&gt; 直到Object.prototype找不到 -&gt; 返回undefined。</p> <p>原型链的最顶端是null。
<img src="/assets/img/image-20200526233917769.0b6cdc9c.png" alt=""></p> <p>原型继承的原理：原型继承是借助已有的对象创建新的对象，将子类的原型指向父类，就相当于加入了父类这条原型链。</p> <p>什么是原型链：只要是对象就有原型, 并且原型也是对象, 因此只要定义了一个对象, 那么就可以找到他的原型, 如此反复, 就可以构成一个对象的序列, 这个结构就被称为原型链。
所有的实例有一个内部指针(prototype)，指向它的原型对象，并且可以访问原型对象上的所有属性和方法。</p> <h3 id="js继承"><a href="#js继承" aria-hidden="true" class="header-anchor">#</a> js继承</h3> <p>1、原型链继承，将父类的实例作为子类的原型，他的特点是实例是子类的实例也是父类的实例，父类新增的原型方法/属性，子类都能够访问，并且原型链继承简单易于实现，缺点是来自原型对象的所有属性被所有实例共享，无法实现多继承，无法向父类构造函数传参。</p> <p>2、构造继承，使用父类的构造函数来增强子类实例，即复制父类的实例属性给子类，构造继承可以向父类传递参数，可以实现多继承，通过call多个父类对象。但是构造继承只能继承父类的实例属性和方法，不能继承原型属性和方法，无法实现函数服用，每个子类都有父类实例函数的副本，影响性能</p> <p>3、实例继承，为父类实例添加新特性，作为子类实例返回，实例继承的特点是不限制调用方法，不管是new 子类（）还是子类（）返回的对象具有相同的效果，缺点是实例是父类的实例，不是子类的实例，不支持多继承
4、拷贝继承：特点：支持多继承，缺点：效率较低，内存占用高（因为要拷贝父类的属性）无法获取父类不可枚举的方法（不可枚举方法，不能使用for in 访问到）
5、组合继承：通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现函数复用
6、寄生组合继承：通过寄生方式，砍掉父类的实例属性，这样，在调用两次父类的构造的时候，就不会初始化两次实例方法/属性，避免的组合继承的缺点</p> <p>原型链继承
核心： 将父类的实例作为子类的原型</p> <p>构造继承
核心：使用父类的构造函数来增强子类实例，等于是复制父类的实例属性给子类</p> <p>实例继承
核心：为父类实例添加新特性，作为子类实例返回</p> <p>拷贝继承</p> <p>组合继承
核心：通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现	函数复用</p> <p>寄生组合继承
核心：通过寄生方式，砍掉父类的实例属性，这样，在调用两次父类的构造的时候，就不会初始化两次实	例方法/属性，避免的组合继承的缺点。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义一个父类</span>
<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&quot;father&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 实例方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 原型方法</span>
<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="原型链继承"><a href="#原型链继承" aria-hidden="true" class="header-anchor">#</a> 原型链继承</h4> <p>实现思路：将父类的实例作为子类的原型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&quot;son&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">&quot;s1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">&quot;s2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    s1<span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//s1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['red','blue','black']</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//18</span>
    s1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//18</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//s2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['red','blue','black']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>优点：</p> <ol><li>简单，易于实现</li> <li>父类新增原型方法、原型属性，子类都能访问到</li></ol> <p>缺点：</p> <ol><li>无法实现多继承，因为原型一次只能被一个实例更改</li> <li>来自原型对象的所有属性被所有实例共享（上诉例子中的color属性）</li> <li>创建子类实例时，无法向父构造函数传参</li></ol> <h4 id="寄生组合继承"><a href="#寄生组合继承" aria-hidden="true" class="header-anchor">#</a> 寄生组合继承</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;My name is &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> grade</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span>

<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayMyGrade</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;My grade is &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>我了解的 js 中实现继承的几种方式有：</p> <p>（1）第一种是以原型链的方式来实现继承，但是这种实现方式存在的缺点是，在包含有引用类型的数据时，会被所有的实例对象所共享，容易造成修改的混乱。还有就是在创建子类型的时候不能向超类型传递参数。</p> <p>（2）第二种方式是使用借用构造函数的方式，这种方式是通过在子类型的函数中调用超类型的构造函数来实现的，这一种方法解决了不能向超类型传递参数的缺点，但是它存在的一个问题就是无法实现函数方法的复用，并且超类型原型定义的方法子类型也没有办法访问到。</p> <p>（3）第三种方式是组合继承，组合继承是将原型链和借用构造函数组合起来使用的一种方式。通过借用构造函数的方式来实现类型的属性的继承，通过将子类型的原型设置为超类型的实例来实现方法的继承。这种方式解决了上面的两种模式单独使用时的问题，但是由于我们是以超类型的实例来作为子类型的原型，所以调用了两次超类的构造函数，造成了子类型的原型中多了很多不必要的属性。</p> <p>（4）第四种方式是原型式继承，原型式继承的主要思路就是基于已有的对象来创建新的对象，实现的原理是，向函数中传入一个对象，然后返回一个以这个对象为原型的对象。这种继承的思路主要不是为了实现创造一种新的类型，只是对某个对象实现一种简单继承，ES5 中定义的 Object.create() 方法就是原型式继承的实现。缺点与原型链方式相同。</p> <p>（5）第五种方式是寄生式继承，寄生式继承的思路是创建一个用于封装继承过程的函数，通过传入一个对象，然后复制一个对象的副本，然后对象进行扩展，最后返回这个对象。这个扩展的过程就可以理解是一种继承。这种继承的优点就是对一个简单对象实现继承，如果这个对象不是我们的自定义类型时。缺点是没有办法实现函数的复用。</p> <p>（6）第六种方式是寄生式组合继承，组合继承的缺点就是使用超类型的实例做为子类型的原型，导致添加了不必要的原型属性。寄生式组合继承的方式是使用超类型的原型的副本来作为子类型的原型，这样就避免了创建不必要的属性。</p> <ul><li>构造函数继承：使用父类的构造函数来增强子类实例，即复制父类的实例属性给子类，构造继承可以向父类传递参数，可以实现多继承，通过call多个父类对象。但是构造继承只能继承父类的实例属性和方法，不能继承原型属性和方法，无法实现函数服用，每个子类都有父类实例函数的副本，影响性能。</li> <li>原型链继承：将父类的实例作为子类的原型，他的特点是实例是子类的实例也是父类的实例，父类新增的原型方法/属性，子类都能够访问，并且原型链继承简单易于实现，缺点是来自原型对象的所有属性被所有实例共享，无法实现多继承，无法向父类构造函数传参。</li> <li>组合继承：通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现函数复用。</li> <li>实例继承，为父类实例添加新特性，作为子类实例返回，实例继承的特点是不限制调用方法，不管是new 子类()还是子类()返回的对象具有相同的效果，缺点是实例是父类的实例，不是子类的实例，不支持多继承。</li> <li>拷贝继承：特点：支持多继承，缺点：效率较低，内存占用高（因为要拷贝父类的属性）无法获取父类不可枚举的方法（不可枚举方法，不能使用for in 访问到）。</li> <li>寄生组合继承：通过寄生方式，砍掉父类的实例属性，这样，在调用两次父类的构造的时候，就不会初始化两次实例方法/属性，避免的组合继承的缺点。</li></ul> <h4 id="es5和es6实现继承的区别"><a href="#es5和es6实现继承的区别" aria-hidden="true" class="header-anchor">#</a> ES5和ES6实现继承的区别</h4> <h3 id="this指向"><a href="#this指向" aria-hidden="true" class="header-anchor">#</a> this指向</h3> <ol><li>全局作用域下的this指向window</li> <li>如果给DOM元素的事件行为绑定函数，那么函数中的this指向当前被绑定的那个DOM元素</li> <li>函数中的this，要看函数执行前有没有<code>.</code>，有<code>.</code>的话，点前面是谁，this就指向谁，如果没有点，指向window</li> <li>自执行函数中的this永远指向window</li> <li>定时器中函数的this指向window</li> <li>构造函数中的this指向当前的实例</li> <li>call、apply、bind可以改变函数的this指向</li> <li>箭头函数中没有this，如果输出this，就会输出箭头函数定义时所在的作用域中的this</li></ol> <h4 id="this指向分类"><a href="#this指向分类" aria-hidden="true" class="header-anchor">#</a> this指向分类</h4> <ol><li>默认绑定：全局环境中，this默认绑定到window。</li> <li>隐式绑定：一般地，被直接对象所包含的函数调用时，也称为方法调用，this隐式绑定到该直接对象。</li> <li>隐式丢失：隐式丢失是指被隐式绑定的函数丢失绑定对象，从而默认绑定到window。显式绑定：通过call、apply、bind方法把对象绑定到this上，叫做显式绑定。</li> <li>new绑定：如果函数或者方法调用之前带有关键字new，它就构成构造函数调用。对于this绑定来说，称为new绑定。</li></ol> <p>构造函数通常不使用return关键字，它们通常初始化新对象，当构造函数的函数体执行完毕时，它会显式返回。在这种情况下，构造函数调用表达式的计算结果就是这个新对象的值。</p> <p>如果构造函数使用return语句但没有指定返回值，或者返回一个原始值，那么这时将忽略返回值，同时使用这个新对象作为调用结果。</p> <p>如果构造函数显式地使用return语句返回一个对象，那么调用表达式的值就是这个对象。</p> <h4 id="改变函数内部this指针的指向函数（bind-apply-call的区别）"><a href="#改变函数内部this指针的指向函数（bind-apply-call的区别）" aria-hidden="true" class="header-anchor">#</a> 改变函数内部this指针的指向函数（bind/apply/call的区别）</h4> <ul><li>相同点：
<ul><li>三者都能指定函数中的this指向(this指向的永远是调用该方法的对象)。</li></ul></li> <li>不同点：
<ul><li>call/apply是立即执行对应函数；</li> <li>bind是给对应函数绑定this指向，然后返回该函数；</li> <li><strong>call和bind传参方式一样</strong>，从第二个参数开始直接传入，apply传参的第二个参数是数组或者类数组，所传参数放在数组里。</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span><span class="token function">prototype</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 作用: 将函数内的this绑定为obj, 并将函数返回</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>三个函数的作用都是将函数绑定到上下文中，用来改变函数中this的指向；三者的不同点在于语法的不同。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">[</span><span class="token punctuation">,</span> arg1<span class="token punctuation">[</span><span class="token punctuation">,</span> arg2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token punctuation">[</span>argsArray<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所以，apply和call的唯一区别是：call接受的是若干个参数列表，而apply接收的是一个包含多个参数的数组或者类数组。
而bind方法创建一个新的函数, 当被调用时，将其this关键字设置为提供的值，在调用新函数时，在任何提供之前提供一个给定的参数序列。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> bindFn <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">[</span><span class="token punctuation">,</span> arg1<span class="token punctuation">[</span><span class="token punctuation">,</span> arg2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">bindFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'window'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is:'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">',my param is '</span> <span class="token operator">+</span> param<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//my name is:window,my param is window param</span>
<span class="token function">sayName</span><span class="token punctuation">(</span><span class="token string">'window param'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> callObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'call'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//my name is:call,my param is call param</span>
<span class="token function">sayName</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>callObj<span class="token punctuation">,</span> <span class="token string">'call param'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> applyObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'apply'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//my name is:apply,my param is apply param</span>
<span class="token function">sayName</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>applyObj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'apply param'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> bindObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'bind'</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> bindFn <span class="token operator">=</span> <span class="token function">sayName</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>bindObj<span class="token punctuation">,</span> <span class="token string">'bind param'</span><span class="token punctuation">)</span>
<span class="token comment">//my name is:bind,my param is bind param</span>
<span class="token function">bindFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="arguments-的对象是什么？"><a href="#arguments-的对象是什么？" aria-hidden="true" class="header-anchor">#</a> arguments 的对象是什么？</h3> <p><strong>arguments对象是函数中传递的参数值的集合</strong>。它是一个类似数组的对象，因为它有一个length属性，我们可以使用数组索引表示法arguments[1]来访问单个值，<strong>但它没有数组中的内置方法，如：forEach、reduce、filter和map</strong>。</p> <h4 id="将arguments对象转换成一个数组的方法"><a href="#将arguments对象转换成一个数组的方法" aria-hidden="true" class="header-anchor">#</a> 将arguments对象转换成一个数组的方法</h4> <ul><li>Array.prototype.slice</li> <li>Array.from</li> <li>扩展运算符</li></ul> <h3 id="js事件机制"><a href="#js事件机制" aria-hidden="true" class="header-anchor">#</a> js事件机制</h3> <h4 id="三种事件模型是什么"><a href="#三种事件模型是什么" aria-hidden="true" class="header-anchor">#</a> 三种事件模型是什么</h4> <ul><li>IE事件模型</li> <li>DOM0</li> <li>DOM2</li></ul> <h4 id="js事件流"><a href="#js事件流" aria-hidden="true" class="header-anchor">#</a> js事件流</h4> <p>一个完整的JS事件流是从window开始，最后回到window的过程。
<img src="https://github.com/liujie2019/static_data/blob/master/img/20191217185044.png?raw=true" alt="">
事件流被分为三个阶段<code>(1~5)</code>捕获过程、<code>(5~6)事</code>件触发过程、<code>(6~10)</code>冒泡过程。</p> <p>DOM2级事件模型中规定了事件流的三个阶段：</p> <ul><li>捕获阶段(ie8及以下版本不支持捕获阶段)</li> <li>处于目标阶段</li> <li>冒泡阶段</li></ul> <p><strong>事件捕获:</strong> 当某个元素触发某个事件(如 onclick)，顶层对象document就会发出一个事件流，随着DOM树的节点向目标元素节点流去，直到到达事件真正发生的目标元素。在这个过程中，事件相应的监听函数是不会被触发的。</p> <p><strong>事件目标:</strong>  当到达目标元素之后，执行目标元素该事件应的处理函数。如果没有绑定监听函数，那就不执行。</p> <p><strong>事件冒泡:</strong>  从目标元素开始，往顶层元素传播。途中如果有节点绑定了相应的事件处理函数，这些函数都会被一次触发。</p> <h4 id="阻止事件冒泡和默认事件"><a href="#阻止事件冒泡和默认事件" aria-hidden="true" class="header-anchor">#</a> 阻止事件冒泡和默认事件</h4> <ul><li><strong>阻止事件冒泡:</strong> 如果想阻止事件冒泡，可以使用<code>e.stopPropagation()</code>或者<code>e.cancelBubble=true(IE)</code>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">stopBubble</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果提供了事件对象event，则这是一个非IE浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span>
        <span class="token comment">//因此它支持W3C的stopPropagation()方法</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//否则，我们需要使用IE的方式来取消事件冒泡</span>
        window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong>阻止默认事件:</strong>  IE 中使用<code>e.returnVlaue = false;</code>现代高级浏览器使用<code>e.preventDeflaut();</code>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 阻止浏览器的默认行为</span>
<span class="token keyword">function</span> <span class="token function">stopDefault</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认浏览器动作(W3C)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// IE中阻止函数器默认动作的方式</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="stopimmediatepropagation"><a href="#stopimmediatepropagation" aria-hidden="true" class="header-anchor">#</a> stopImmediatePropagation</h4> <p>stopImmediatePropagation 既能阻止事件向父元素冒泡，也能阻止元素同事件类型的其它监听器被触发。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// stopImmediatePropagation 既能阻止事件向父元素冒泡，也能阻止元素同事件类型的其它监听器被触发</span>
          	<span class="token comment">// 这里不使用stopImmediatePropagation的话，点击按钮将会输出两次click</span>
          	e<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="event-target-event-currenttarget"><a href="#event-target-event-currenttarget" aria-hidden="true" class="header-anchor">#</a> event.target &amp; event.currentTarget</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;outer&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;inner&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;child&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">const</span> outer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#outer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> inner <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#inner'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#child'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        outer<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'target:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'===currentTarget:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        inner<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'target:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'===currentTarget:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        child<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'target:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'===currentTarget:'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>当我们点击最里层的粉色div的时候，会依次输出:
<img src="/assets/img/image-20200525182654728.60f54847.png" alt=""></p> <p>从输出中我们可以看到，event.target指向引起触发事件的元素，而event.currentTarget则是事件绑定的元素，<strong>只有被点击的那个目标元素的event.target才会等于event.currentTarget</strong>。也就是说，event.currentTarget始终是监听事件者，而event.target是事件的真正发出者。</p> <h4 id="事件级别"><a href="#事件级别" aria-hidden="true" class="header-anchor">#</a> 事件级别</h4> <p>DOM 0级</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>el<span class="token punctuation">.</span><span class="token function-variable function">οnclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>当希望为同一个元素/标签绑定多个同类型事件的时候（如给上面的这个btn元素绑定3个点击事件），是不被允许的。DOM0事件绑定，给元素的事件行为绑定方法，这些方法都是在当前元素事件行为的冒泡阶段(或者目标阶段)执行的。</p></blockquote> <p>DOM 2级</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>eventName: 事件名称，可以是标准的DOM事件</li> <li>callback: 回调函数，当事件触发时，函数会被注入一个参数为当前的事件对象 event</li> <li>useCapture: 默认是false，代表事件句柄在冒泡阶段执行</li></ul> <p>DOM 3级写法和DOM2级一致，只是在DOM 2级事件的基础上添加了更多的事件类型</p> <h4 id="事件代理原理"><a href="#事件代理原理" aria-hidden="true" class="header-anchor">#</a> 事件代理原理</h4> <p>事件代理，又称之为事件委托。是JS中常用绑定事件的常用技巧。顾名思义，事件代理即把子元素需要绑定的事件委托给父元素，让父元素担当事件监听的职务。给父元素绑定事件，用来监听子元素的冒泡事件，并找到是哪个子元素的事件。事件代理的原理是: 事件冒泡。使用事件代理的好处是可以提高性能。
**优点: **</p> <ol><li>能够有效减少页面上事件处理程序的数量，减少内存消耗，提高性能(不需要为每一个子元素绑定事件)</li> <li>动态绑定事件，对于动态生成的节点的事件绑定依然生效</li></ol> <p>来看个🌰：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> ulTag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ulTag<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;li&gt;1/2/3&lt;/li&gt;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'li'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>事件委托<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第一个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第二个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第三个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第四个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第五个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//  兼容获取event对象</span>
           <span class="token keyword">var</span> env <span class="token operator">=</span> env <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
          <span class="token comment">//  兼容获取目标对象   env.target为标准  env.srcElement为IE</span>
           <span class="token keyword">var</span> target <span class="token operator">=</span> env<span class="token punctuation">.</span>target <span class="token operator">||</span> env<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
           <span class="token comment">// 判断目标对象是否是li</span>
           <span class="token comment">// target.nodeName 可以获取节点名称，通过toLowerCase()可以将节点名称的大小转换为小写</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span> <span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="自定义事件"><a href="#自定义事件" aria-hidden="true" class="header-anchor">#</a> <strong>自定义事件</strong></h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>test event<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  	<span class="token comment">// 创建事件, Event是无法传递参数的</span>
    <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">'event-test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'event-test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发自定义事件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        btn<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 支持传递参数，detail是固定写法</span>
  <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'event-test'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>detail<span class="token punctuation">:</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'event-test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发自定义事件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;lisi&quot;}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      btn<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="手写eventemitter-发布订阅模式-乞丐版"><a href="#手写eventemitter-发布订阅模式-乞丐版" aria-hidden="true" class="header-anchor">#</a> <strong>手写EventEmitter(发布订阅模式--乞丐版)</strong></h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 手写发布订阅模式</span>
<span class="token keyword">class</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 订阅</span>
    <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>events <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个空对象</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 取消订阅</span>
    <span class="token function">off</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">!==</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 只执行一次订阅事件</span>
    <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行一次就会取消订阅</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 触发事件</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">cb</span> <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 订阅</span>
event<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 触发</span>
event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 取消订阅</span>
event<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 取消后再次触发不生效</span>
event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

event<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'click-once'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'once'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click-once'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click-once'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h4 id="事件如何先捕获后冒泡？"><a href="#事件如何先捕获后冒泡？" aria-hidden="true" class="header-anchor">#</a> 事件如何先捕获后冒泡？</h4> <p>在DOM标准事件模型中，是先捕获后冒泡。但是如果要实现先冒泡后捕获的效果，
对于同一个事件，监听捕获和冒泡，分别对应相应的处理函数，监听到捕获事件，先暂缓执行，直到冒泡事件被捕获后再执行捕获事件。</p> <p>哪些事件不支持冒泡事件：</p> <ul><li>鼠标事件：mouserleave  mouseenter</li> <li>焦点事件：blur focus</li> <li>UI事件：scroll resize</li></ul> <h3 id="js-延迟加载的方式有哪些？"><a href="#js-延迟加载的方式有哪些？" aria-hidden="true" class="header-anchor">#</a> js 延迟加载的方式有哪些？</h3> <p>js 的加载、解析和执行会阻塞页面的渲染过程，因此我们希望 js 脚本能够尽可能的延迟加载，提高页面的渲染速度。</p> <p>有几种方式是：</p> <ol><li>将js脚本放在文档的底部，来使 js 脚本尽可能的在最后来加载执行。</li> <li>给js脚本添加<strong>defer</strong>属性，这个属性会让脚本的加载与文档的解析同步解析，然后在文档解析完成后再执行这个脚本文件，这样的话就能使页面的渲染不被阻塞。多个设置了 defer 属性的脚本按规范来说最后是顺序执行的，但是在一些浏览器中可能不是这样。</li> <li>js脚本添加<strong>async</strong>属性，这个属性会使脚本异步加载，不会阻塞页面的解析过程，但是当脚本加载完成后立即执行 js脚本，这个时候如果文档没有解析完成的话同样会阻塞。多个 async 属性的脚本的执行顺序是不可预测的，一般不会按照代码的顺序依次执行。</li> <li>动态创建DOM标签的方式，<strong>可以对文档的加载事件进行监听，当文档加载完成后再动态的创建script标签来引入js脚本</strong>。</li></ol> <p><a href="https://blog.csdn.net/meijory/article/details/76389762" target="_blank" rel="noopener noreferrer">JS延迟加载的几种方式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="js深拷贝和浅拷贝"><a href="#js深拷贝和浅拷贝" aria-hidden="true" class="header-anchor">#</a> js深拷贝和浅拷贝</h3> <ul><li>浅拷贝(只拷贝一层)：创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。</li> <li>深拷贝(循环递归拷贝)：将一个对象从内存中完整的拷贝一份出来，在<strong>堆内存中开辟一个新的区域存放新对象</strong>，且修改新对象不会影响原对象。</li></ul> <h4 id="浅拷贝的实现方式"><a href="#浅拷贝的实现方式" aria-hidden="true" class="header-anchor">#</a> 浅拷贝的实现方式</h4> <ul><li>Object.assign方法：用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</li> <li>**Array.prototype.slice()：**slice() 方法返回一个新的数组对象，这一对象是一个由 begin和end（不包括end）决定的原数组的浅拷贝。原始数组不会被改变。</li> <li>拓展运算符(...)</li></ul> <h4 id="深拷贝实现"><a href="#深拷贝实现" aria-hidden="true" class="header-anchor">#</a> 深拷贝实现</h4> <p>乞丐版：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>oldObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="简单版深拷贝"><a href="#简单版深拷贝" aria-hidden="true" class="header-anchor">#</a> 简单版深拷贝</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>oldObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>局限性 ：</p> <ol><li>无法实现函数、RegExp、Date等特殊对象的克隆</li> <li>会抛弃对象的constructor，所有的构造函数会指向Object</li> <li>不能解决循环引用，对象存在循环引用，会报错</li> <li>会忽略undefined、symbol、函数；</li></ol> <h4 id="深拷贝-递归拷贝"><a href="#深拷贝-递归拷贝" aria-hidden="true" class="header-anchor">#</a> 深拷贝(递归拷贝)</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 递归拷贝</span>
<span class="token comment">// hash = new WeakMap 解决循环引用问题</span>
<span class="token comment">// WeakMap 弱引用，不能用Map，会导致内存泄露</span>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先把特殊情况全部过滤掉</span>
    <span class="token comment">// null == undefined // true</span>
    <span class="token comment">// 排除null和undefined</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// null和undefined 是不需要拷贝的，直接返回</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 处理正则</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 处理日期</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 函数是不需要拷贝的</span>
    <span class="token comment">// 排除不是对象类型，包括函数和基本数据类型</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 根据constructor来区分对象和数组</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">value<span class="token punctuation">.</span>constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 说明是一个对象类型</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 有拷贝的就直接返回</span>
        <span class="token keyword">return</span> hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 制作一个映射表，解决循环引用问题</span>
    <span class="token comment">// 区分对象和数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不拷贝原型链上的属性</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 递归拷贝</span>
            obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="描述一下原生js中ajax请求的整个过程"><a href="#描述一下原生js中ajax请求的整个过程" aria-hidden="true" class="header-anchor">#</a> 描述一下原生js中ajax请求的整个过程</h3> <p>原生jax的四个步骤</p> <ol><li>创建ajax实例</li> <li>执行open 确定要访问的链接 以及同步异步</li> <li>监听请求状态</li> <li>发送请求</li></ol> <ul><li><ol><li>创建XMLHttpRequest对象;</li></ol></li> <li><ol start="2"><li>调用该对象的open方法创建一个新的 HTTP 请求,并指定该 HTTP 请求的方法、URL 及验证信息;</li></ol></li> <li><ol start="3"><li>设置响应HTTP请求状态变化的函数(onreadystatechange);</li></ol></li> <li><ol start="4"><li>调用该对象的send方法发送 HTTP 请求;</li></ol></li> <li><ol start="5"><li>获取异步调用返回的数据;</li></ol></li> <li><ol start="6"><li>使用JavaScript和DOM实现局部刷新。</li></ol></li></ul> <ul><li>xhr.readyState：XMLHttpRequest对象的状态，等于4表示数据已经接收完毕。</li> <li>xhr.status：服务器返回的状态码，等于200表示一切正常。</li> <li>xhr.responseText：服务器返回的文本数据。</li> <li>xhr.statusText：服务器返回的状态文本。</li></ul> <h3 id="fetch、axios以及ajax区别"><a href="#fetch、axios以及ajax区别" aria-hidden="true" class="header-anchor">#</a> fetch、axios以及ajax区别</h3> <p>juqery ajax
优点：</p> <ul><li>对原生XHR的封装</li> <li>针对MVC的编程</li> <li>完美的兼容性</li> <li>支持jsonp
缺点：</li> <li>不符合MVVM</li> <li>异步模型不够现代，不支持链式，代码可读性差</li> <li>整个Jquery太大，引入成本过高</li></ul> <p>fetch：fetch不是ajax的进一步封装，而是原生js，没有使用XMLHttpRequest对象。
优点：</p> <ul><li>更好更方便的写法</li> <li>更加底层，提供的API丰富（request, response）</li> <li>语法简单，脱离了XHR，基于ES6的Promise设计</li></ul> <p>缺点：</p> <ul><li>当接收到一个代表错误的HTTP状态码时，从fetch返回的Promise不会被标记为reject，即使响应的HTTP状态码是 404 或 500，仅当网络故障时或请求被阻止时，才会标记为reject</li> <li>兼容性差，低级别浏览器均不支持</li> <li>fetch不会接受跨域cookies</li> <li>fetchm默认不会发送cookies，除非使用了credentials 的初始化选项</li> <li>不支持jsonp，可以引入fetch-jsonp</li> <li>没有abort，不支持timeout超时处理</li> <li>无法获取progress状态，fetch没有办法原生监测请求的进度，而XHR可以
axios
优点：</li> <li>支持node，创建http请求</li> <li>支持Promise API</li> <li>转换请求和响应数据</li> <li>自动转换 JSON 数据</li> <li>客户端防止CSRF：每个请求带一个cookie拿到的key</li> <li>拦截请求和响应</li> <li>支持取消请求</li> <li>支持并发请求API</li></ul> <p><a href="https://segmentfault.com/a/1190000012836882" target="_blank" rel="noopener noreferrer">Jquery ajax, Axios, Fetch区别之我见<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="尾递归调用"><a href="#尾递归调用" aria-hidden="true" class="header-anchor">#</a> 尾递归调用</h3> <h3 id="跨域"><a href="#跨域" aria-hidden="true" class="header-anchor">#</a> 跨域</h3> <h4 id="同源策略-如何判断同源"><a href="#同源策略-如何判断同源" aria-hidden="true" class="header-anchor">#</a> 同源策略(如何判断同源?)</h4> <p><a href="http://blog.csdn.net/liujie19901217/article/details/50723702" target="_blank" rel="noopener noreferrer">详见总结<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="跨域-如何判断跨域？跨域是什么原因引起？解决方法是什么？"><a href="#跨域-如何判断跨域？跨域是什么原因引起？解决方法是什么？" aria-hidden="true" class="header-anchor">#</a> 跨域(如何判断跨域？跨域是什么原因引起？解决方法是什么？)</h4> <p><a href="http://blog.csdn.net/liujie19901217/article/details/50723702" target="_blank" rel="noopener noreferrer">详见总结<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
注：只有当目标窗口的源与postMessage 函数中传入的源参数值匹配时，才能接收到消息。
跨域是指一个域下的文档或脚本试图去请求另一个域下的资源，这里跨域是广义的。
① jsonp函数</p> <p>在HTML DOM中,script标签本身就可以访问其它域的资源，不受浏览器同源策略的限制，可以通过在页面动态创建script标签。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;http://aa.xx.com/js/*.js&quot;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>② iframe实现跨域
基于iframe实现的跨域要求两个域具有aa.xx.com,bb.xx.com这种特点，也就是两个页面必须属于同一个顶级基础域（例如都是xxx.com，或是xxx.com.cn），使用同一协议（例如都是 http）和同一端口（例如都是80），这样在两个页面中同时添加document.domain，就可以实现父页面调用子页面的函数
③ 跨域资源共享（CORS）
服务器端对于CORS的支持，主要就是通过设置Access-Control-Allow-Origin来进行的。如果浏览器检测到相应的设置，就可以允许Ajax进行跨域的访问。
④ 使用HTML5的window.postMessage方法跨域
window对象新增了一个window.postMessage方法，允许跨窗口通信，不论这两个窗口是否同源。目前IE8+、FireFox、Chrome、Opera等浏览器都已经支持window.postMessage方法。
⑤nginx反向代理</p> <h4 id="postmessage实现跨域"><a href="#postmessage实现跨域" aria-hidden="true" class="header-anchor">#</a> postMessage实现跨域</h4> <p>postMessage 函数接收两个参数：第一个为将要发送的消息，第二个为源窗口的源。</p> <h4 id="jsonp为什么只支持get，不支持post？"><a href="#jsonp为什么只支持get，不支持post？" aria-hidden="true" class="header-anchor">#</a> jsonp为什么只支持get，不支持post？</h4> <p>jsonp的本质是：动态创建script标签，利用<code>&lt;script&gt;jsonpCallback(...)&lt;/script&gt;</code>标签发起跨域请求的技术。
对于浏览器来说是你只是发起一次资源请求，请求的目标是一个js文件，因此显然浏览器并不支持资源文件请求发起post请求。</p> <div class="tip custom-block"><p>jsonp就是一种hack技术，为了绕过浏览器同源安全策略的限制，而不得已而为之的方法，自然它的使用是有限制的。</p></div> <h4 id="用一个域名对应的ip地址访问该域名是跨域吗？"><a href="#用一个域名对应的ip地址访问该域名是跨域吗？" aria-hidden="true" class="header-anchor">#</a> 用一个域名对应的ip地址访问该域名是跨域吗？</h4> <p>是跨域</p> <h4 id="手写jsonp"><a href="#手写jsonp" aria-hidden="true" class="header-anchor">#</a> 手写jsonp</h4> <h3 id="说说对options请求的理解"><a href="#说说对options请求的理解" aria-hidden="true" class="header-anchor">#</a> 说说对options请求的理解</h3> <p>options请求作用：去嗅探某个请求在对应的服务器中都支持哪些请求方法。</p> <p>前端一般不会主动发起这个options请求，但是往往你可以看到浏览器中相同的请求发起了2次，其实，这是因为在跨域的情况下，在浏览器发起&quot;复杂请求&quot;时主动发起的。</p> <p>跨域资源共享(CORS)标准规范要求，对那些<strong>可能对服务器数据产生副作用</strong>的HTTP请求方法（特别是 GET 以外的 HTTP 请求，或者搭配某些 MIME 类型的 POST 请求），浏览器必须首先使用 OPTIONS 方法发起一个预检请求（preflight request），从而获知服务端是否允许该跨域请求。服务器确认允许之后，才发起实际的 HTTP 请求。</p> <p>只要<strong>同时满足以下两大条件</strong>，就属于简单请求。</p> <p>条件1：请求方法是以下三种方法之一：</p> <ul><li>HEAD</li> <li>GET</li> <li>POST</li></ul> <p>条件2：HTTP的请求头信息不超出以下几种字段：</p> <ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Last-Event-ID</li> <li>Content-Type：仅限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain</li></ul> <p>凡是不同时满足上述两个条件的，就属于非简单请求，比如<code>Content-Type：application/json</code>或者PUT/DELETE等请求。浏览器对这两种请求的处理，是不一样的。</p> <h4 id="options-请求优化"><a href="#options-请求优化" aria-hidden="true" class="header-anchor">#</a> Options 请求优化</h4> <p>对 options 请求进行缓存，服务器端设置 Access-Control-Max-Age 字段，那么当第一次请求该 URL 时会发出 OPTIONS 请求，浏览器会根据返回的 Access-Control-Max-Age 字段缓存该请求的 OPTIONS 预检请求的响应结果（具体缓存时间还取决于浏览器的支持的默认最大值，取两者最小值，一般为 10 分钟）。在缓存有效期内，该资源的请求（URL 和 header 字段都相同的情况下）不会再触发预检。（chrome 打开控制台可以看到，当服务器响应 Access-Control-Max-Age 时只有第一次请求会有预检，后面不会了。注意要开启缓存，去掉 disable cache 勾选。）</p> <p><a href="https://juejin.im/post/5edef7b2e51d45784213ca24" target="_blank" rel="noopener noreferrer">说说你对 options 请求的理解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="js异步解决方案"><a href="#js异步解决方案" aria-hidden="true" class="header-anchor">#</a> JS异步解决方案</h3> <ul><li>定时器</li> <li>ajax</li> <li>事件绑定</li> <li>回调函数</li> <li>async/await</li> <li>promise</li> <li>Generator</li></ul> <p><a href="https://juejin.im/post/5e4613b36fb9a07ccc45e339#heading-41" target="_blank" rel="noopener noreferrer">硬核JS--深入了解异步解决方案<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="内存泄露"><a href="#内存泄露" aria-hidden="true" class="header-anchor">#</a> 内存泄露</h3> <ul><li>意外的全局变量: 无法被回收</li> <li>定时器: 未被正确关闭，导致所引用的外部变量无法被释放</li> <li>事件监听: 没有正确销毁 (低版本浏览器可能出现)</li> <li>闭包: 会导致父级中的变量无法被释放</li> <li>dom引用: dom元素被删除时，内存中的引用未被正确清空</li></ul> <p>可用chrome中的timeline进行内存标记，可视化查看内存的变化情况，找出异常点。</p> <h3 id="v8垃圾回收机制"><a href="#v8垃圾回收机制" aria-hidden="true" class="header-anchor">#</a> V8垃圾回收机制</h3> <p>垃圾回收: 将内存中不再使用的数据进行清理，释放出内存空间。V8 将内存分成<strong>新生代空间 和 老生代空间</strong>。</p> <p>新生代空间: 用于存活较短的对象</p> <ul><li>又分成两个空间: from 空间 与 to 空间</li> <li>Scavenge GC算法: 当 from 空间被占满时，启动 GC 算法
<ul><li>存活的对象从 from space 转移到 to space</li> <li>清空 from space</li> <li>from space 与 to space 互换</li> <li>完成一次新生代GC</li></ul></li></ul> <p>老生代空间: 用于存活时间较长的对象</p> <ul><li>从 新生代空间 转移到 老生代空间 的条件
<ul><li>经历过一次以上 Scavenge GC 的对象</li> <li>当 to space 体积超过25%</li></ul></li> <li>标记清除算法: 标记存活的对象，未被标记的则被释放
<ul><li>增量标记: 小模块标记，在代码执行间隙执，GC 会影响性能</li> <li>并发标记(最新技术): 不阻塞 js 执行</li></ul></li> <li>压缩算法: 将内存中清除后导致的碎片化对象往内存堆的一端移动，解决 内存的碎片化</li></ul> <h3 id="web-worker"><a href="#web-worker" aria-hidden="true" class="header-anchor">#</a> Web Worker</h3> <p>现代浏览器为JavaScript创造的 多线程环境。可以新建并将部分任务分配到worker线程并行运行，两个线程可 独立运行，互不干扰，可通过自带的 消息机制 相互通信。
基本用法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 创建 worker</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'work.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 向 worker 线程推送消息</span>
worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 监听 worker 线程发送过来的消息</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received message '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>限制:</p> <ul><li>同源限制</li> <li>无法使用 document / window / alert / confirm</li> <li>无法加载本地资源</li></ul> <h3 id="浏览器下事件循环-event-loop"><a href="#浏览器下事件循环-event-loop" aria-hidden="true" class="header-anchor">#</a> 浏览器下事件循环(Event Loop)</h3> <p>事件循环是指：执行一个宏任务，然后执行清空微任务列表，循环再执行宏任务，再清微任务列表。</p> <p>微任务：microtask(jobs): promise / ajax / Object.observe(该方法已废弃)
宏任务：macrotask(task): setTimout / script / IO / UI Rendering</p> <p>js在执行的过程中会产生执行环境，这些执行环境会被顺序的加入到执行栈中。如果遇到异步的代码，会被挂起并加入到 Task（有多种 task） 队列中。一旦执行栈为空，Event Loop 就会从 Task 队列中拿出需要执行的代码并放入执行栈中执行，所以本质上来说 JS 中的异步还是同步行为。</p> <p>js代码执行过程中会有很多任务，这些任务总的分成两类：</p> <ul><li>同步任务</li> <li>异步任务</li></ul> <img src="/assets/img/image-20200715234713559.ed4badb9.png" alt="image-20200715234713559" style="zoom:30%;"> <ul><li>同步和异步任务分别进入不同的执行&quot;场所&quot;，同步的进入主线程，异步的进入Event Table并注册函数。</li> <li>当指定的事情完成时，Event Table会将这个函数移入Event Queue。</li> <li>主线程内的任务执行完毕为空，会去Event Queue读取对应的函数，进入主线程执行。</li> <li>上述过程会不断重复，也就是常说的Event Loop(事件循环)。</li></ul> <p>那主线程执行栈何时为空呢？<strong>js引擎存在monitoring process进程</strong>，会持续不断的检查主线程执行栈是否为空，一旦为空，就会去Event Queue那里检查是否有等待被调用的函数。</p> <p>完整版：</p> <ul><li>首先js 是单线程运行的，在代码执行的时候，通过将不同函数的执行上下文压入执行栈中来保证代码的有序执行。</li> <li>在执行同步代码的时候，如果遇到了异步事件，js引擎并不会一直等待其返回结果，而是会将这个事件挂起，继续执行执行栈中的其他任务。</li> <li>当同步事件执行完毕后，再将异步事件对应的回调加入到与当前执行栈中不同的另一个任务队列中等待执行。</li> <li>任务队列可以分为宏任务对列和微任务对列，当当前执行栈中的事件执行完毕后，js引擎首先会判断微任务对列中是否有任务可以执行，如果有就将微任务队首的事件压入栈中执行。</li> <li>当微任务对列中的任务都执行完成后再去判断宏任务对列中的任务。</li></ul> <h4 id="浏览器-eventloop-和-node-中的有什么区别"><a href="#浏览器-eventloop-和-node-中的有什么区别" aria-hidden="true" class="header-anchor">#</a> 浏览器 Eventloop 和 Node 中的有什么区别</h4> <p><a href="https://juejin.im/post/5ba34e54e51d450e5162789b#heading-21" target="_blank" rel="noopener noreferrer">浏览器 Eventloop 和 Node 中的有什么区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="常见的http状态码"><a href="#常见的http状态码" aria-hidden="true" class="header-anchor">#</a> 常见的http状态码</h3> <ul><li>200 成功</li> <li>301 永久重定向。如http://xxx.com这个 GET 请求（最后没有/），就会被 301 到http://xxx.com/（最后是/）；</li> <li>302 临时重定向。临时的，不是永久的；</li> <li>304 资源找到但是不符合请求条件，不会返回任何主体。如发送 GET 请求时，head 中有 If-Modified-Since: xxx（要求返回更新时间是 xxx 时间之后的资源），如果此时服务器 端资源未更新，则会返回 304，即不符合要求</li> <li>404 找不到资源</li> <li>5xx 服务器端错误</li></ul> <h4 id="_304状态码的含义？解释一下浏览器缓存原理"><a href="#_304状态码的含义？解释一下浏览器缓存原理" aria-hidden="true" class="header-anchor">#</a> 304状态码的含义？解释一下浏览器缓存原理?</h4> <p><strong>浏览器缓存分为:</strong> 强缓存和协商缓存。当客户端请求某个资源时，获取缓存的流程如下：</p> <ul><li><ol><li>先根据这个资源的一些 http header 判断它是否命中强缓存，如果命中，则直接从本地获取缓存资源，不会发请求到服务器；</li></ol></li> <li><ol start="2"><li>当强缓存没有命中时，客户端会发送请求到服务器，服务器通过另一些 request header 验证这个资源是否命中协商缓存，称为 http 再验证，如果命中，服务器将请求返回，但不返回资源，而是告诉客户端直接从缓存中获取，客户端收到返回后就会从缓存中获取资源；</li></ol></li> <li><ol start="3"><li>强缓存和协商缓存共同之处在于，如果命中缓存，服务器都不会返回资源；</li></ol></li> <li><ol start="4"><li>区别是: 强缓存不对发送请求到服务器，但协商缓存会；</li></ol></li> <li><ol start="5"><li>当协商缓存也没命中时，服务器就会将资源发送回客户端；</li></ol></li> <li><ol start="6"><li>当 <code>ctrl+f5</code> 强制刷新网页时，直接从服务器加载，跳过强缓存和协商缓存；</li></ol></li> <li><ol start="7"><li>当f5刷新网页时，跳过强缓存，但是会检查协商缓存；</li></ol></li></ul> <p><strong>强缓存:</strong></p> <ul><li>Expires（该字段是 http1.0 时的规范，值为一个绝对时间的 GMT 格式的时间字符串，代表缓存资源的过期时间）;</li> <li>Cache-Control:max-age（该字段是 http1.1 的规范，强缓存利用其 max-age 值来判断缓存资源的最大生命周期，它的值单位为秒）</li></ul> <p><strong>协商缓存:</strong></p> <ul><li><code>Last-Modified</code>(值为资源最后更新时间，随服务器 response 返回);</li> <li><code>If-Modified-Since</code>(通过比较两个时间来判断资源在两次请求期间是否有过修改，如果没有修改，则命中协商缓存);</li> <li><code>ETag</code>(表示资源内容的唯一标识，随服务器 response 返回);</li> <li><code>If-None-Match</code>(服务器通过比较请求头部的 If-None-Match 与当前资源的 ETag 是否一致来判断资源是否在两次请求之间有过修改，如果没有修改，则命中协商缓存)。</li></ul> <h3 id="常见设计模式"><a href="#常见设计模式" aria-hidden="true" class="header-anchor">#</a> 常见设计模式</h3> <ol><li>js工厂模式</li> <li>js构造函数模式</li> <li>js原型模式</li> <li>构造函数+原型的js混合模式</li> <li>构造函数+原型的动态原型模式</li> <li>观察者模式</li> <li>发布-订阅模式</li> <li>访问者模式</li></ol> <h3 id="es6模块化规范与commonjs的差异"><a href="#es6模块化规范与commonjs的差异" aria-hidden="true" class="header-anchor">#</a> ES6模块化规范与CommonJS的差异</h3> <ol><li>CommonJS模块输出的是一个值的拷贝(也就是说，一旦输出一个值，模块内部的变化就影响不到这个值)，ES6模块输出的是值的引用(<strong>ES6 模块的运行机制与 CommonJS 不一样。JS 引擎对脚本静态分析的时候，遇到模块加载命令import，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值</strong>)；</li> <li>CommonJS模块是运行时加载，ES6模块是编译时输出接口。</li></ol> <p>第二个差异是因为<strong>CommonJS加载的是一个对象</strong>（即module.exports属性），该对象只有在脚本运行完才会生成。而 ES6 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。</p> <h3 id="es6用到过哪些特性？"><a href="#es6用到过哪些特性？" aria-hidden="true" class="header-anchor">#</a> es6用到过哪些特性？</h3> <h4 id="数组去重"><a href="#数组去重" aria-hidden="true" class="header-anchor">#</a> 数组去重</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span>new <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="交换两个变量的值-数组解构"><a href="#交换两个变量的值-数组解构" aria-hidden="true" class="header-anchor">#</a> 交换两个变量的值(数组解构)</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="set和map数据结构"><a href="#set和map数据结构" aria-hidden="true" class="header-anchor">#</a> Set和Map数据结构</h4> <p>ES6 提供了新的数据结构 Set 它类似于数组，但是<strong>成员的值都是唯一</strong>的，没有重复的值。
ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是&quot;键&quot;的范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object 结构提供了&quot;字符串—值&quot;的对应，Map 结构提供了&quot;值—值&quot;的对应，是一种更完善的 Hash 结构实现。</p> <h3 id="object-is-和比较操作符-、-的区别？"><a href="#object-is-和比较操作符-、-的区别？" aria-hidden="true" class="header-anchor">#</a> <code>Object.is()</code>和比较操作符===、==的区别？</h3> <ul><li><code>==</code>在比较时进行隐式类型转换；允许不同数据类型之间的比较；如果是不同类型的数据进行，会默认进行数据类型之间的转换； 如果是对象数据类型的比较，比较的是对象在堆内存中的空间地址。</li> <li><code>===</code>在比较时不进行隐式类型转换，类型不同则会返回false；</li> <li>Object.is() 在全等判断的基础上特别处理了NaN、-0和+0 ，保证-0和+0不再相同。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// 返回true</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回false</span>
<span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span>； <span class="token comment">// true</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="js获取浏览器信息及屏幕分辨率"><a href="#js获取浏览器信息及屏幕分辨率" aria-hidden="true" class="header-anchor">#</a> js获取浏览器信息及屏幕分辨率</h3> <ul><li>网页可见区域宽：document.body.clientWidth</li> <li>网页可见区域高：document.body.clientHeight</li> <li>网页可见区域宽：document.body.offsetWidth (包括边线和滚动条的宽)</li> <li>网页可见区域高：document.body.offsetHeight(包括边线的宽)</li> <li>网页正文全文宽：document.body.scrollWidth</li> <li>网页正文全文高：document.body.scrollHeight</li> <li>网页被卷去的高：document.body.scrollTop(滚动条滚动的高度)</li> <li>网页被卷去的左：document.body.scrollLeft</li> <li>网页正文部分上：window.screenTop</li> <li>网页正文部分左：window.screenLeft</li> <li>屏幕分辨率的高：window.screen.height</li> <li>屏幕分辨率的宽：window.screen.width</li> <li>屏幕可用工作区高度：window.screen.availHeight</li> <li>屏幕可用工作区宽度：window.screen.availWidth</li> <li>屏幕设置 window.screen.colorDepth 位彩色</li> <li>屏幕设置 window.screen.deviceXDPI 像素/英寸</li></ul> <h3 id="重绘和重排-重排一定重绘，重绘不一定重排"><a href="#重绘和重排-重排一定重绘，重绘不一定重排" aria-hidden="true" class="header-anchor">#</a> 重绘和重排(重排一定重绘，重绘不一定重排)</h3> <ul><li><strong>重绘:</strong> 屏幕的一部分要重画，不影响整体布局，比如某个元素的背景颜色变了，但是该元素的几何尺寸没有变化。</li> <li><strong>重排:</strong> 意味着元素的几何尺寸改变了，需要重新验证并计算Render Tree。特别注意：至少会发生一次重排-初始化页面布局。</li></ul> <h4 id="重绘和重排什么情况下触发？"><a href="#重绘和重排什么情况下触发？" aria-hidden="true" class="header-anchor">#</a> 重绘和重排什么情况下触发？</h4> <ul><li>添加、删除、更新 DOM 节点</li> <li>通过 <code>display: none</code> 隐藏一个 DOM 节点-触发重排和重绘</li> <li>通过 <code>visibility: hidden</code> 隐藏一个 DOM 节点-只触发重绘，因为没有几何变化</li> <li>移动或者给页面中的 DOM 节点添加动画</li> <li>添加一个样式表，调整样式属性</li> <li>用户行为，例如调整窗口大小，改变字号，或者滚动。</li></ul> <h4 id="如何减少重绘和重排？"><a href="#如何减少重绘和重排？" aria-hidden="true" class="header-anchor">#</a> 如何减少重绘和重排？</h4> <ul><li><ol><li>不要一条一条地修改 DOM 的样式，可以使用 cssText 来替代;</li></ol></li> <li><ol start="2"><li>把 DOM 脱离文档流后修改：使用文档片段对象在内存中操作 DOM、把 DOM 的 display:none；
Clone 一个 DOM 节点到内存中;</li></ol></li> <li><ol start="3"><li>为动画的 HTML 元素使用 absolute 或 fixed 的定位设置。</li></ol></li></ul> <h4 id="谈一谈css重绘与回流-重排？"><a href="#谈一谈css重绘与回流-重排？" aria-hidden="true" class="header-anchor">#</a> 谈一谈CSS重绘与回流/重排？</h4> <p>会触发重绘或回流/重排的操作：</p> <ol><li>添加、删除元素(回流+重绘)</li> <li>隐藏元素，display:none(回流+重绘)，visibility:hidden(只重绘，不回流)</li> <li>移动元素，如改变top、left或移动元素到另外1个父元素中(重绘+回流)</li> <li>改变浏览器大小(回流+重绘)</li> <li>改变浏览器的字体大小(回流+重绘)</li> <li>改变元素的padding、border、margin(回流+重绘)</li> <li>改变浏览器的字体颜色(只重绘，不回流)</li> <li>改变元素的背景颜色(只重绘，不回流)</li></ol> <p>介绍一下重绘和回流？需要怎么优化？</p> <ol><li>用transform 代替 top，left ，margin-top， margin-left... 这些位移属性</li> <li>opacity 加上 transform: translateZ/3d  这个属性之后便不会发生回流和重绘了</li> <li>不要使用 js 代码对dom 元素设置多条样式，选择用一个 className 代替之。</li> <li>如果确实需要用 js 对 dom 设置多条样式那么可以将这个dom 先隐藏，然后再对其设置</li> <li>不要使用table 布局，因为table 的每一个行甚至每一个单元格的样式更新都会导致整个table 重新布局</li> <li>对于频繁变化的元素应该为其加一个 transform 属性，对于视频使用video 标签</li></ol> <h3 id="前端路由实现原理"><a href="#前端路由实现原理" aria-hidden="true" class="header-anchor">#</a> 前端路由实现原理</h3> <p><strong>实现原理:</strong> 通过 hash(好处：hash 能兼容低版本的浏览器)来实现，给不同的路径指定不同的处理逻辑，当解析到路径时，执行对应的处理逻辑就可以了。</p> <p><strong>特别说明:</strong> hash 值通过<code>window.location.hash</code>来获取。</p> <p>从性能和用户体验的层面来比较的话，后端路由每次访问一个新页面的时候都要向服务器发送请求，然后服务器再响应请求，这个过程肯定会有延迟。而前端路由在访问一个新页面的时候仅仅是变换了一下路径而已(改变 hash 值)，没有了网络延迟，对于用户体验来说会有相当大的提升。</p> <h4 id="vue路由的两种模式，hash与history的区别"><a href="#vue路由的两种模式，hash与history的区别" aria-hidden="true" class="header-anchor">#</a> Vue路由的两种模式，hash与history的区别</h4> <ol><li><p>直观区别：
hash模式url带#号，history模式不带#号。</p></li> <li><p>深层区别：</p></li></ol> <ul><li>hash模式url里面永远带着#号，我们在开发当中默认使用这个模式。</li> <li>如果用户考虑url的规范那么就需要使用history模式，因为history模式没有#号，是个正常的url适合推广宣传</li> <li>功能也有区别，比如我们在开发app的时候有分享页面，那么这个分享出去的页面就是用vue或是react做的，</li> <li>咱们把这个页面分享到第三方的app里，有的app里面url是不允许带有#号的，所以要将#号去除那么就要使用history模式</li></ul> <p>但是使用history模式还有一个问题就是，在访问二级页面的时候，做刷新操作，会出现404错误，那么就需要和后端人配合让他配置一下apache或是nginx的url重定向，重定向到你的首页路由上就ok啦。</p> <h3 id="使用js实现一个持续的动画效果-requestanimationframe"><a href="#使用js实现一个持续的动画效果-requestanimationframe" aria-hidden="true" class="header-anchor">#</a> 使用js实现一个持续的动画效果(requestAnimationFrame)</h3> <h4 id="使用定时器"><a href="#使用定时器" aria-hidden="true" class="header-anchor">#</a> 使用定时器</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> e <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  left <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> left <span class="token operator">==</span> <span class="token number">100</span> <span class="token operator">?</span> <span class="token punctuation">(</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  flag <span class="token operator">?</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token operator">--</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="使用requestanimationframe"><a href="#使用requestanimationframe" aria-hidden="true" class="header-anchor">#</a> 使用requestAnimationFrame</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//兼容性处理</span>
window<span class="token punctuation">.</span>requestAnimFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span>
    window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span>
    window<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> e <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  left <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> left <span class="token operator">==</span> <span class="token number">100</span> <span class="token operator">?</span> <span class="token punctuation">(</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  flag <span class="token operator">?</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>left<span class="token operator">--</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">animloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">requestAnimFrame</span><span class="token punctuation">(</span>animloop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="requestanimationframe原理"><a href="#requestanimationframe原理" aria-hidden="true" class="header-anchor">#</a> requestAnimationFrame原理</h4> <p><strong>requestAnimationFrame是异步的，其回调函数在浏览器重绘之前调用</strong>。</p> <p>跟随浏览器设备绘制间隔，默认是16.7ms(每秒60帧， 1000/60)。</p> <h3 id="解释一下变量提升"><a href="#解释一下变量提升" aria-hidden="true" class="header-anchor">#</a> 解释一下变量提升</h3> <p>在进入一个执行上下文后，先把var和function声明的变量前置，再去顺序执行代码。
PS：作用域分为全局作用域和函数作用域，用var声明的变量，只在自己所在的所用域有效。
我们举例来看看下面的代码。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 示例一</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 相当于</span>
<span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span> fn <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 示例二</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token comment">// 相当于</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="谈谈tostring和string的区别？"><a href="#谈谈tostring和string的区别？" aria-hidden="true" class="header-anchor">#</a> 谈谈toString和String的区别？</h3> <ul><li>toString()方法；数值、字符串、对象、布尔；都有toString方法；这个方法唯一能做的就是返回相应的字符串；其中null和undefined没有toString()方法；</li> <li>String()属于强制转换， null转换的结果为null；undefined转换的结果为undefined；其余的如果有toString()方法，即调用该方法，返回相应的结果；</li></ul> <h3 id="settimeout-和-setinterval的机制"><a href="#settimeout-和-setinterval的机制" aria-hidden="true" class="header-anchor">#</a> setTimeout 和 setInterval的机制</h3> <p>因为js是单线程的。浏览器遇到setTimeout 和 setInterval会先执行完当前的代码块，在此之前会把定时器推入浏览器的待执行时间队列里面，等到浏览器执行完当前代码之后会看下事件队列里有没有任务，有的话才执行定时器里的代码。</p> <h3 id="为什么在调用这个函数时，代码中的b会变成一个全局变量"><a href="#为什么在调用这个函数时，代码中的b会变成一个全局变量" aria-hidden="true" class="header-anchor">#</a> 为什么在调用这个函数时，代码中的b会变成一个全局变量?</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>原因是赋值运算符是从右到左的求值的。这意味着当多个赋值运算符出现在一个表达式中时，它们是从右向左求值的。所以上面代码变成了这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>首先，表达式b = 0求值，在本例中b没有声明。因此，<strong>JS引擎在这个函数外创建了一个全局变量b，之后表达式b = 0的返回值为0，并赋给新的局部变量a</strong>。
我们可以通过在赋值之前先声明变量来解决这个问题。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
  a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="js字符串操作"><a href="#js字符串操作" aria-hidden="true" class="header-anchor">#</a> js字符串操作</h3> <h4 id="js实现字符串反转"><a href="#js实现字符串反转" aria-hidden="true" class="header-anchor">#</a> js实现字符串反转</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="数组相关"><a href="#数组相关" aria-hidden="true" class="header-anchor">#</a> 数组相关</h3> <h4 id="将类数组转为数组"><a href="#将类数组转为数组" aria-hidden="true" class="header-anchor">#</a> 将类数组转为数组</h4> <ul><li>Array.from()能将类数组(arguments,NodeList)，可迭代对象(Set,Map)，字符串(String)转换成数组。</li> <li>ES6扩展运算符</li> <li>Array.prototype.slice.call() 能将类数组(arguments,NodeList)，字符串(String)转换成数组。
Array.prototype.slice.call(arrayLike, index)从第index个开始转换成数组</li></ul> <h4 id="map和foreach的区别"><a href="#map和foreach的区别" aria-hidden="true" class="header-anchor">#</a> map和forEach的区别</h4> <p>共同点：都是循环遍历数组中的每一项。</p> <ul><li>map不会改变原数组，并且返回一个新的数组</li> <li>forEach会改变原数组，没有return，返回值是undefined</li></ul> <h4 id="indexof和findindex区别"><a href="#indexof和findindex区别" aria-hidden="true" class="header-anchor">#</a> indexOf和findIndex区别</h4> <p>主要的不同是两个函数的参数：
indexOf 的第一个参数 expect a value，可以用于原始类型的数组
findIndex 的一个参数 expect a callback，可以用于复杂数据类型的数组或者查找条件比一个值要复杂的情况</p> <h4 id="splice和slice、map和foreach、-filter-、reduce-的区别"><a href="#splice和slice、map和foreach、-filter-、reduce-的区别" aria-hidden="true" class="header-anchor">#</a> splice和slice、map和forEach、 filter()、reduce()的区别</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token number">1.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span><span class="token punctuation">:</span>方法可以从已有数组中返回选定的元素，返回一个新数组，
 包含从start到end（不包含该元素）的数组方法
	注意：该方法不会改变原数组，而是返回一个新的子数组。
 <span class="token number">2.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>该方法想或者从数组中添加或删除项目，返回被删除的项目。（该方法会改变原数组）
	<span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> howmany<span class="token punctuation">,</span>item1<span class="token punctuation">,</span><span class="token operator">...</span>itemx<span class="token punctuation">)</span>
		·index参数：必须，整数规定添加或删除的位置，使用负数，从数组尾部规定位置
		·howmany参数：必须，要删除的数量，
		·item1<span class="token punctuation">.</span><span class="token punctuation">.</span>itemx<span class="token punctuation">:</span>可选，向数组添加新项目
<span class="token number">3.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>：会返回一个全新的数组。使用于改变数据值的时候。会分配内存存储空间数组并返回，forEach（）不会返回数据
<span class="token number">4.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 不会返回任何有价值的东西，并且不打算改变数据，单纯的只是想用数据做一些事情，他允许callback更改原始数组的元素
<span class="token number">5.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 方法接收一个函数作为累加器，数组中的每一个值（从左到右）开始缩减，最终计算一个值，不会改变原数组的值
<span class="token number">6.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 方法创建一个新数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。它里面通过<span class="token keyword">function</span>去做处理
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="数组扁平化"><a href="#数组扁平化" aria-hidden="true" class="header-anchor">#</a> 数组扁平化</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">flat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">+</span>item <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="不借助变量，交换两个数"><a href="#不借助变量，交换两个数" aria-hidden="true" class="header-anchor">#</a> 不借助变量，交换两个数</h3> <h4 id="常规做法：借助第三方变量"><a href="#常规做法：借助第三方变量" aria-hidden="true" class="header-anchor">#</a> 常规做法：借助第三方变量</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
	tmp<span class="token punctuation">;</span>

tmp <span class="token operator">=</span> a<span class="token punctuation">;</span>
a <span class="token operator">=</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>常规的做法就是多声明一个临时变量tmp，进行数据交换过程中的缓存。这样的做法直观，易懂。但是，会增加内存的使用。</p> <h4 id="算术运算"><a href="#算术运算" aria-hidden="true" class="header-anchor">#</a> 算术运算</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

a <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// a = 3, b = 2</span>
b <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span> <span class="token comment">// a = 3, b = 1</span>
a <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span> <span class="token comment">// a = 2, b = 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>通过算术运算过程中的技巧，可以巧妙地将两个值进行互换。但是，有个缺点是：变量数据溢出。因为JavaScript能存储数字的精度范围是 -2 ** 53 到 2 ** 53。所以，加法运算，会存在溢出的问题。</p> <h4 id="异或运算"><a href="#异或运算" aria-hidden="true" class="header-anchor">#</a> 异或运算</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 二进制：0001</span>
	b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>	<span class="token comment">// 二进制：0010</span>

a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span> <span class="token comment">// 计算结果：a = 0011, b = 0010</span>
b <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span> <span class="token comment">// 计算结果：a = 0011, b = 0001</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span> <span class="token comment">// 计算结果：a = 0010, b = 0001</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>本题巧用位运算的技巧，利用 a ^ b ^ b == a 的特点，进行数值交换，避免了使用算术运算带来的弊端，不会发生溢出问题。</p> <h4 id="es6的解构"><a href="#es6的解构" aria-hidden="true" class="header-anchor">#</a> ES6的解构</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>用解构的语法特性，一次性解决，简单暴力。<strong>更重要的一点：</strong> 解构语法还适用于其他类型的变量进行互换。所以，用解构可以很简单地进行互换。</p> <h4 id="利用数组特性进行交换"><a href="#利用数组特性进行交换" aria-hidden="true" class="header-anchor">#</a> 利用数组特性进行交换</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

a <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="js求值相关问题"><a href="#js求值相关问题" aria-hidden="true" class="header-anchor">#</a> js求值相关问题</h3> <h4 id="连续赋值与求值顺序"><a href="#连续赋值与求值顺序" aria-hidden="true" class="header-anchor">#</a> 连续赋值与求值顺序</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>n<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
a<span class="token punctuation">.</span>x <span class="token operator">=</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>n<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {n: 2}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://www.cnblogs.com/huaan011/p/4381703.html" target="_blank" rel="noopener noreferrer">具体解析见<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="闭包"><a href="#闭包" aria-hidden="true" class="header-anchor">#</a> 闭包</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2 考察闭包</span>
<span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2 考察闭包</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="this指向-2"><a href="#this指向-2" aria-hidden="true" class="header-anchor">#</a> this指向</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function-variable function">b</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> objb <span class="token operator">=</span> obj<span class="token punctuation">.</span>b<span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
<span class="token function">objb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
obj<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="对象"><a href="#对象" aria-hidden="true" class="header-anchor">#</a> 对象</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name">C</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> objA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//A {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objA<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//B {a: undefined}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//C {a: 2}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="逻辑运算符"><a href="#逻辑运算符" aria-hidden="true" class="header-anchor">#</a> 逻辑运算符</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_20-6"><a href="#_20-6" aria-hidden="true" class="header-anchor">#</a> 20.6</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 注意这里b是全局变量</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="实现原生方法"><a href="#实现原生方法" aria-hidden="true" class="header-anchor">#</a> 实现原生方法</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 'hello'.repeatify(3) =&gt; hellohellohello</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>repeatify <span class="token operator">=</span>
  <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>repeatify <span class="token operator">||</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">times</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      str <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="变量提升"><a href="#变量提升" aria-hidden="true" class="header-anchor">#</a> 变量提升</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 上面代码相当于：</span>
<span class="token comment">// 函数和变量都发生了声明提升</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
  a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="this指向问题"><a href="#this指向问题" aria-hidden="true" class="header-anchor">#</a> this指向问题</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fullname <span class="token operator">=</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  fullname<span class="token punctuation">:</span> <span class="token string">&quot;Colin Ihrig&quot;</span><span class="token punctuation">,</span>
  prop<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fullname<span class="token punctuation">:</span> <span class="token string">&quot;Aurelio De Rosa&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getFullname</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fullname<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>prop<span class="token punctuation">.</span><span class="token function">getFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Aurelio De Rosa</span>

<span class="token keyword">var</span> test <span class="token operator">=</span> obj<span class="token punctuation">.</span>prop<span class="token punctuation">.</span>getFullname<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//John Doe 全局环境调用，this指向window</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Colin Ihrig</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>特别注意：在 JS 中，一个函数的上下文环境，也就是 this 所指向的对象，是依赖于函数是如何被调用的，而不是依赖于函数如何被定义的。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">factory</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">{</span>
		a<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
		<span class="token function-variable function">fn</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>c<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>

<span class="token comment">// 在es6箭头函数中this指向定义时的对象</span>
<span class="token keyword">var</span> <span class="token function-variable function">factory</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">{</span>
		a<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
		<span class="token function-variable function">fn</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>c<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/liujie2019/VuePress-Blog/edit/master/docs/interview/03.JS基础知识总结.md" target="_blank" rel="noopener noreferrer">查看原文 | 在GitHub上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-07-18 02:54:37</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview/02.CSS基础知识总结.html" class="prev">2. CSS基础知识总结</a></span> <span class="next"><a href="/interview/04.手写代码.html">4. 手写代码和算法题</a>→
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.c2739f0d.js" defer></script><script src="/assets/js/2.fd8d7b4d.js" defer></script><script src="/assets/js/23.d6967120.js" defer></script><script src="/assets/js/29.03c53af3.js" defer></script>
  </body>
</html>
