<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6. 框架相关 | 砥砺前行</title>
    <meta name="description" content="Stay hungry，Stay foolish">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.718111f3.css" as="style"><link rel="preload" href="/assets/js/app.c2739f0d.js" as="script"><link rel="preload" href="/assets/js/2.fd8d7b4d.js" as="script"><link rel="preload" href="/assets/js/19.a4378585.js" as="script"><link rel="preload" href="/assets/js/29.03c53af3.js" as="script"><link rel="prefetch" href="/assets/js/10.da3108ea.js"><link rel="prefetch" href="/assets/js/100.67a883ce.js"><link rel="prefetch" href="/assets/js/101.3bacadc1.js"><link rel="prefetch" href="/assets/js/102.39233cbd.js"><link rel="prefetch" href="/assets/js/103.7443483a.js"><link rel="prefetch" href="/assets/js/104.67980602.js"><link rel="prefetch" href="/assets/js/105.74a6cc40.js"><link rel="prefetch" href="/assets/js/106.5f5c004f.js"><link rel="prefetch" href="/assets/js/107.ee0c71a5.js"><link rel="prefetch" href="/assets/js/108.d9584ccd.js"><link rel="prefetch" href="/assets/js/109.c3cafe46.js"><link rel="prefetch" href="/assets/js/11.b84d7d32.js"><link rel="prefetch" href="/assets/js/110.8450e818.js"><link rel="prefetch" href="/assets/js/111.5b7e7ede.js"><link rel="prefetch" href="/assets/js/112.c9d6d4ca.js"><link rel="prefetch" href="/assets/js/113.7ad6cc7d.js"><link rel="prefetch" href="/assets/js/114.a7526e87.js"><link rel="prefetch" href="/assets/js/115.befcefa7.js"><link rel="prefetch" href="/assets/js/116.a505bc90.js"><link rel="prefetch" href="/assets/js/117.17001fe4.js"><link rel="prefetch" href="/assets/js/118.b0389afa.js"><link rel="prefetch" href="/assets/js/119.c2ed753a.js"><link rel="prefetch" href="/assets/js/12.3c941db7.js"><link rel="prefetch" href="/assets/js/120.91c7ec2a.js"><link rel="prefetch" href="/assets/js/121.441a3952.js"><link rel="prefetch" href="/assets/js/122.1467c2d8.js"><link rel="prefetch" href="/assets/js/123.52f7b868.js"><link rel="prefetch" href="/assets/js/124.4dc070e2.js"><link rel="prefetch" href="/assets/js/125.c88f9a64.js"><link rel="prefetch" href="/assets/js/126.8ed7a3b3.js"><link rel="prefetch" href="/assets/js/127.cc3d0412.js"><link rel="prefetch" href="/assets/js/128.f124681d.js"><link rel="prefetch" href="/assets/js/129.a906eb9a.js"><link rel="prefetch" href="/assets/js/13.526e0105.js"><link rel="prefetch" href="/assets/js/130.4c234e18.js"><link rel="prefetch" href="/assets/js/131.db0f782e.js"><link rel="prefetch" href="/assets/js/132.f43fc74d.js"><link rel="prefetch" href="/assets/js/133.c84d2c2d.js"><link rel="prefetch" href="/assets/js/134.7d555c41.js"><link rel="prefetch" href="/assets/js/135.13836bf9.js"><link rel="prefetch" href="/assets/js/136.7a354be1.js"><link rel="prefetch" href="/assets/js/137.2c51e755.js"><link rel="prefetch" href="/assets/js/138.f249c06b.js"><link rel="prefetch" href="/assets/js/139.968b10de.js"><link rel="prefetch" href="/assets/js/14.febc7306.js"><link rel="prefetch" href="/assets/js/140.41dbeb42.js"><link rel="prefetch" href="/assets/js/141.9c495b21.js"><link rel="prefetch" href="/assets/js/142.ff512f1d.js"><link rel="prefetch" href="/assets/js/143.03c629eb.js"><link rel="prefetch" href="/assets/js/144.6a6e7823.js"><link rel="prefetch" href="/assets/js/145.23393fef.js"><link rel="prefetch" href="/assets/js/146.26221a77.js"><link rel="prefetch" href="/assets/js/147.87c76c63.js"><link rel="prefetch" href="/assets/js/148.3eefdf63.js"><link rel="prefetch" href="/assets/js/149.9f0152ae.js"><link rel="prefetch" href="/assets/js/15.053966fe.js"><link rel="prefetch" href="/assets/js/150.1d1bcf63.js"><link rel="prefetch" href="/assets/js/151.c48d6620.js"><link rel="prefetch" href="/assets/js/152.13fa8ce6.js"><link rel="prefetch" href="/assets/js/153.c20f5a74.js"><link rel="prefetch" href="/assets/js/154.d13e9b75.js"><link rel="prefetch" href="/assets/js/155.ec85dcda.js"><link rel="prefetch" href="/assets/js/156.b6ca8381.js"><link rel="prefetch" href="/assets/js/157.d788f2b8.js"><link rel="prefetch" href="/assets/js/158.139f4a19.js"><link rel="prefetch" href="/assets/js/159.b74e2655.js"><link rel="prefetch" href="/assets/js/16.11c5c1b1.js"><link rel="prefetch" href="/assets/js/160.9a6d3f50.js"><link rel="prefetch" href="/assets/js/161.92650050.js"><link rel="prefetch" href="/assets/js/162.a72dff28.js"><link rel="prefetch" href="/assets/js/163.fa57e123.js"><link rel="prefetch" href="/assets/js/164.78e761f7.js"><link rel="prefetch" href="/assets/js/165.20f19016.js"><link rel="prefetch" href="/assets/js/166.a4fd5c3e.js"><link rel="prefetch" href="/assets/js/167.75575276.js"><link rel="prefetch" href="/assets/js/168.e145208a.js"><link rel="prefetch" href="/assets/js/169.435f50da.js"><link rel="prefetch" href="/assets/js/17.5201d689.js"><link rel="prefetch" href="/assets/js/170.244210dd.js"><link rel="prefetch" href="/assets/js/171.a78dfe3b.js"><link rel="prefetch" href="/assets/js/172.4df4d58e.js"><link rel="prefetch" href="/assets/js/173.d552ef15.js"><link rel="prefetch" href="/assets/js/174.97873065.js"><link rel="prefetch" href="/assets/js/175.ed7e4b07.js"><link rel="prefetch" href="/assets/js/176.0de278ca.js"><link rel="prefetch" href="/assets/js/177.55576f41.js"><link rel="prefetch" href="/assets/js/178.e990e347.js"><link rel="prefetch" href="/assets/js/179.e702b656.js"><link rel="prefetch" href="/assets/js/18.cc72ab49.js"><link rel="prefetch" href="/assets/js/180.f6d9473e.js"><link rel="prefetch" href="/assets/js/181.1ee11ad2.js"><link rel="prefetch" href="/assets/js/182.b0767d83.js"><link rel="prefetch" href="/assets/js/183.ec7fb558.js"><link rel="prefetch" href="/assets/js/184.d84c6f29.js"><link rel="prefetch" href="/assets/js/185.3e88a3ce.js"><link rel="prefetch" href="/assets/js/186.f3c9b254.js"><link rel="prefetch" href="/assets/js/187.6d686e40.js"><link rel="prefetch" href="/assets/js/188.6dbbee5a.js"><link rel="prefetch" href="/assets/js/189.0baaccdd.js"><link rel="prefetch" href="/assets/js/190.a9603823.js"><link rel="prefetch" href="/assets/js/191.04c4f3a2.js"><link rel="prefetch" href="/assets/js/192.e05b35f8.js"><link rel="prefetch" href="/assets/js/193.38f3b579.js"><link rel="prefetch" href="/assets/js/194.da6a76c7.js"><link rel="prefetch" href="/assets/js/195.4e428a49.js"><link rel="prefetch" href="/assets/js/196.afe44b88.js"><link rel="prefetch" href="/assets/js/197.523ceb84.js"><link rel="prefetch" href="/assets/js/198.f56f4750.js"><link rel="prefetch" href="/assets/js/199.08eaf3d5.js"><link rel="prefetch" href="/assets/js/20.186842d4.js"><link rel="prefetch" href="/assets/js/200.be743fec.js"><link rel="prefetch" href="/assets/js/201.57e24f9e.js"><link rel="prefetch" href="/assets/js/202.368a2898.js"><link rel="prefetch" href="/assets/js/203.a5e566d1.js"><link rel="prefetch" href="/assets/js/204.8f87525f.js"><link rel="prefetch" href="/assets/js/205.85b66555.js"><link rel="prefetch" href="/assets/js/206.5896f019.js"><link rel="prefetch" href="/assets/js/207.741e52ca.js"><link rel="prefetch" href="/assets/js/208.53af3b6c.js"><link rel="prefetch" href="/assets/js/209.92d59fab.js"><link rel="prefetch" href="/assets/js/21.db4b44a5.js"><link rel="prefetch" href="/assets/js/210.7e69c4c4.js"><link rel="prefetch" href="/assets/js/211.1e397264.js"><link rel="prefetch" href="/assets/js/212.12376fd9.js"><link rel="prefetch" href="/assets/js/213.7fa2e3af.js"><link rel="prefetch" href="/assets/js/214.b8d20041.js"><link rel="prefetch" href="/assets/js/215.f6d2eb34.js"><link rel="prefetch" href="/assets/js/216.741a20bd.js"><link rel="prefetch" href="/assets/js/217.ecf73230.js"><link rel="prefetch" href="/assets/js/218.322edf0c.js"><link rel="prefetch" href="/assets/js/219.44146753.js"><link rel="prefetch" href="/assets/js/22.48bc71dd.js"><link rel="prefetch" href="/assets/js/220.f862f514.js"><link rel="prefetch" href="/assets/js/221.997f25f7.js"><link rel="prefetch" href="/assets/js/222.fc54bcbd.js"><link rel="prefetch" href="/assets/js/223.fd2fd4e7.js"><link rel="prefetch" href="/assets/js/224.67908e13.js"><link rel="prefetch" href="/assets/js/225.8eba032f.js"><link rel="prefetch" href="/assets/js/226.8a42d999.js"><link rel="prefetch" href="/assets/js/227.3eb98c4c.js"><link rel="prefetch" href="/assets/js/228.bcdc3b25.js"><link rel="prefetch" href="/assets/js/229.a3d52cd4.js"><link rel="prefetch" href="/assets/js/23.d6967120.js"><link rel="prefetch" href="/assets/js/230.f23cd2e4.js"><link rel="prefetch" href="/assets/js/231.9bdf0e40.js"><link rel="prefetch" href="/assets/js/232.2f12f1e7.js"><link rel="prefetch" href="/assets/js/233.f0733f2e.js"><link rel="prefetch" href="/assets/js/234.b178c9bc.js"><link rel="prefetch" href="/assets/js/235.35628e21.js"><link rel="prefetch" href="/assets/js/236.df116729.js"><link rel="prefetch" href="/assets/js/237.f1381c37.js"><link rel="prefetch" href="/assets/js/238.8313d86e.js"><link rel="prefetch" href="/assets/js/239.8a7706c8.js"><link rel="prefetch" href="/assets/js/24.7389deb5.js"><link rel="prefetch" href="/assets/js/240.10559cab.js"><link rel="prefetch" href="/assets/js/241.3496b2af.js"><link rel="prefetch" href="/assets/js/242.ce42e1c8.js"><link rel="prefetch" href="/assets/js/243.03fa6a36.js"><link rel="prefetch" href="/assets/js/244.8b5b81e5.js"><link rel="prefetch" href="/assets/js/245.af03337c.js"><link rel="prefetch" href="/assets/js/246.886ba71c.js"><link rel="prefetch" href="/assets/js/247.0322fa45.js"><link rel="prefetch" href="/assets/js/248.ca7b4c74.js"><link rel="prefetch" href="/assets/js/249.6a20a5fc.js"><link rel="prefetch" href="/assets/js/25.65e19f51.js"><link rel="prefetch" href="/assets/js/250.89bc5046.js"><link rel="prefetch" href="/assets/js/251.cdbf3ff2.js"><link rel="prefetch" href="/assets/js/252.492911cd.js"><link rel="prefetch" href="/assets/js/253.38d507a6.js"><link rel="prefetch" href="/assets/js/254.58298afa.js"><link rel="prefetch" href="/assets/js/255.7b68ffd4.js"><link rel="prefetch" href="/assets/js/256.13359a56.js"><link rel="prefetch" href="/assets/js/257.148d21ee.js"><link rel="prefetch" href="/assets/js/26.9e01c3c6.js"><link rel="prefetch" href="/assets/js/27.a8c6418a.js"><link rel="prefetch" href="/assets/js/28.7fceae21.js"><link rel="prefetch" href="/assets/js/3.b732fc70.js"><link rel="prefetch" href="/assets/js/30.0a3af1db.js"><link rel="prefetch" href="/assets/js/31.012abf40.js"><link rel="prefetch" href="/assets/js/32.b5accef7.js"><link rel="prefetch" href="/assets/js/33.331fc1ef.js"><link rel="prefetch" href="/assets/js/34.8f3b1537.js"><link rel="prefetch" href="/assets/js/35.0a02b86a.js"><link rel="prefetch" href="/assets/js/36.1813f5a1.js"><link rel="prefetch" href="/assets/js/37.5880bc8e.js"><link rel="prefetch" href="/assets/js/38.72e3bf6a.js"><link rel="prefetch" href="/assets/js/39.aba6807f.js"><link rel="prefetch" href="/assets/js/4.c269f2f9.js"><link rel="prefetch" href="/assets/js/40.58bbe976.js"><link rel="prefetch" href="/assets/js/41.437fbef8.js"><link rel="prefetch" href="/assets/js/42.9cca5be4.js"><link rel="prefetch" href="/assets/js/43.a18fe210.js"><link rel="prefetch" href="/assets/js/44.009c5209.js"><link rel="prefetch" href="/assets/js/45.bb4bc150.js"><link rel="prefetch" href="/assets/js/46.5c8c01b0.js"><link rel="prefetch" href="/assets/js/47.78acc2cb.js"><link rel="prefetch" href="/assets/js/48.3b552c56.js"><link rel="prefetch" href="/assets/js/49.a0206703.js"><link rel="prefetch" href="/assets/js/5.83bd2558.js"><link rel="prefetch" href="/assets/js/50.3c00c5f4.js"><link rel="prefetch" href="/assets/js/51.c0cabdda.js"><link rel="prefetch" href="/assets/js/52.6dfb647e.js"><link rel="prefetch" href="/assets/js/53.f5ba32bd.js"><link rel="prefetch" href="/assets/js/54.31f728cb.js"><link rel="prefetch" href="/assets/js/55.101847bb.js"><link rel="prefetch" href="/assets/js/56.ec897929.js"><link rel="prefetch" href="/assets/js/57.dccd7ae5.js"><link rel="prefetch" href="/assets/js/58.c3831a30.js"><link rel="prefetch" href="/assets/js/59.056663c0.js"><link rel="prefetch" href="/assets/js/6.89468a4d.js"><link rel="prefetch" href="/assets/js/60.7f836f89.js"><link rel="prefetch" href="/assets/js/61.2549e4ff.js"><link rel="prefetch" href="/assets/js/62.8f073b3b.js"><link rel="prefetch" href="/assets/js/63.a5c807d2.js"><link rel="prefetch" href="/assets/js/64.6aa077b2.js"><link rel="prefetch" href="/assets/js/65.4f068940.js"><link rel="prefetch" href="/assets/js/66.f66784c3.js"><link rel="prefetch" href="/assets/js/67.1a4f1a45.js"><link rel="prefetch" href="/assets/js/68.0473bb47.js"><link rel="prefetch" href="/assets/js/69.9367fa27.js"><link rel="prefetch" href="/assets/js/7.5da70ec5.js"><link rel="prefetch" href="/assets/js/70.9a44c62c.js"><link rel="prefetch" href="/assets/js/71.07364a28.js"><link rel="prefetch" href="/assets/js/72.ce0eea8f.js"><link rel="prefetch" href="/assets/js/73.e4590a8f.js"><link rel="prefetch" href="/assets/js/74.ac831ede.js"><link rel="prefetch" href="/assets/js/75.f5d88311.js"><link rel="prefetch" href="/assets/js/76.8363320f.js"><link rel="prefetch" href="/assets/js/77.36d7f80a.js"><link rel="prefetch" href="/assets/js/78.f151fe46.js"><link rel="prefetch" href="/assets/js/79.7eb5e29c.js"><link rel="prefetch" href="/assets/js/8.c5ba852e.js"><link rel="prefetch" href="/assets/js/80.43907670.js"><link rel="prefetch" href="/assets/js/81.800f11e4.js"><link rel="prefetch" href="/assets/js/82.a97ca1d7.js"><link rel="prefetch" href="/assets/js/83.1801fbf1.js"><link rel="prefetch" href="/assets/js/84.f79b7088.js"><link rel="prefetch" href="/assets/js/85.d5e69a1e.js"><link rel="prefetch" href="/assets/js/86.f5f948c9.js"><link rel="prefetch" href="/assets/js/87.377736f7.js"><link rel="prefetch" href="/assets/js/88.666132e6.js"><link rel="prefetch" href="/assets/js/89.3ffee588.js"><link rel="prefetch" href="/assets/js/9.a9be74d1.js"><link rel="prefetch" href="/assets/js/90.8870b432.js"><link rel="prefetch" href="/assets/js/91.161389bc.js"><link rel="prefetch" href="/assets/js/92.9eee2b04.js"><link rel="prefetch" href="/assets/js/93.33330e58.js"><link rel="prefetch" href="/assets/js/94.7c5f8c9f.js"><link rel="prefetch" href="/assets/js/95.dcaaa597.js"><link rel="prefetch" href="/assets/js/96.eadc40dd.js"><link rel="prefetch" href="/assets/js/97.d1c2f241.js"><link rel="prefetch" href="/assets/js/98.0b0e21b3.js"><link rel="prefetch" href="/assets/js/99.76ac6e42.js">
    <link rel="stylesheet" href="/assets/css/0.styles.718111f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">砥砺前行</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript/" class="nav-link">重学JS基础</a></li><li class="dropdown-item"><!----> <a href="/frontend/jsTopic/" class="nav-link">JS专题</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">React全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">Vue全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/babel/" class="nav-link">Babel</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack4/" class="nav-link">Webpack4配置实战</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">每天学点typescript</a></li><li class="dropdown-item"><!----> <a href="/frontend/web/" class="nav-link">浏览器相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/backend/koa/" class="nav-link">Koa</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/backend/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/backend/http/" class="nav-link">HTTP协议</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">前端杂谈</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">每日一题</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/more/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/liujie2019/VuePress-Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript/" class="nav-link">重学JS基础</a></li><li class="dropdown-item"><!----> <a href="/frontend/jsTopic/" class="nav-link">JS专题</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">React全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">Vue全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/babel/" class="nav-link">Babel</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack4/" class="nav-link">Webpack4配置实战</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">每天学点typescript</a></li><li class="dropdown-item"><!----> <a href="/frontend/web/" class="nav-link">浏览器相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/backend/koa/" class="nav-link">Koa</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/backend/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/backend/http/" class="nav-link">HTTP协议</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">前端杂谈</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">每日一题</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/more/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/liujie2019/VuePress-Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>每日一题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/" class="sidebar-link">题目汇总</a></li><li><a href="/interview/01.HTML基础知识汇总.html" class="sidebar-link">1. HTML基础知识总结</a></li><li><a href="/interview/02.CSS基础知识总结.html" class="sidebar-link">2. CSS基础知识总结</a></li><li><a href="/interview/03.JS基础知识总结.html" class="sidebar-link">3. JS基础知识总结</a></li><li><a href="/interview/04.手写代码.html" class="sidebar-link">4. 手写代码和算法题</a></li><li><a href="/interview/05.ES6基础知识汇总.html" class="sidebar-link">5. ES6基础知识点汇总</a></li><li><a href="/interview/06.框架相关.html" class="active sidebar-link">6. 框架相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#vue" class="sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_1-谈谈对mvc、mvp和mvvm的理解" class="sidebar-link">1. 谈谈对MVC、MVP和MVVM的理解</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#谈谈对vue的理解" class="sidebar-link">谈谈对vue的理解</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_2-谈一谈vue的虚拟dom和diff算法" class="sidebar-link">2. 谈一谈Vue的虚拟DOM和diff算法</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_3-vue响应式原理-2-x" class="sidebar-link">3. Vue响应式原理(2.x)</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_4-vue-2-x如何监测对象和数组的变化" class="sidebar-link">4. Vue 2.x如何监测对象和数组的变化</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_5-proxy相对于object-defineproperty的优势" class="sidebar-link">5. Proxy相对于Object.defineProperty的优势</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_6-vue中的key的作用和工作原理" class="sidebar-link">6. Vue中的key的作用和工作原理</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_7-vue怎么用vm-set-解决对象新增属性不能响应的问题？" class="sidebar-link">7. Vue怎么用vm.$set()解决对象新增属性不能响应的问题？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_8-vue组件的data为什么必须是函数而vue的根实例则没有这个限制？" class="sidebar-link">8. Vue组件的data为什么必须是函数而Vue的根实例则没有这个限制？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_9-computed的实现原理" class="sidebar-link">9. computed的实现原理</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_10-vue常用的指令有哪些" class="sidebar-link">10. Vue常用的指令有哪些</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_11-class与style如何动态绑定？" class="sidebar-link">11. Class与Style如何动态绑定？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_12-对vue单向数据流的理解" class="sidebar-link">12. 对Vue单向数据流的理解</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_13-直接给一个数组项赋值，vue能检测到变化吗？" class="sidebar-link">13. 直接给一个数组项赋值，Vue能检测到变化吗？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_14-谈一谈对vue组件化的理解以及如何实现一个自定义组件" class="sidebar-link">14. 谈一谈对Vue组件化的理解以及如何实现一个自定义组件?</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_15-说说对spa单页面的理解，它的优缺点分别是什么？" class="sidebar-link">15. 说说对SPA单页面的理解，它的优缺点分别是什么？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_16-vue解决了什么问题？谈一谈对vue设计原则的理解？" class="sidebar-link">16. Vue解决了什么问题？谈一谈对Vue设计原则的理解？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_17-vue与angular以及react的区别" class="sidebar-link">17. Vue与Angular以及React的区别</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_18-v-model的原理" class="sidebar-link">18. v-model的原理</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_19-前端路由实现原理" class="sidebar-link">19. 前端路由实现原理</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_20-vue中-nextick原理和应用" class="sidebar-link">20. Vue中$nexTick原理和应用</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_21-vue生命周期的理解" class="sidebar-link">21. Vue生命周期的理解</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_22-route和-router的区别？" class="sidebar-link">22. $route和$router的区别？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_23-对keep-aerlive的了解？" class="sidebar-link">23. 对keep-aerlive的了解？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_24-vue中常用的路由钩子函数有哪一些？" class="sidebar-link">24. vue中常用的路由钩子函数有哪一些？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_25-vue中常用的修饰符？" class="sidebar-link">25. vue中常用的修饰符？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_26-vuex中的成员？对应的作用？" class="sidebar-link">26. vuex中的成员？对应的作用？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_27-vue给对象新增属性页面没有响应" class="sidebar-link">27. vue给对象新增属性页面没有响应</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_28-如何让css只在当前组件中起作用-scoped属性作用-？" class="sidebar-link">28. 如何让CSS只在当前组件中起作用(scoped属性作用)？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_29-实现scoped样式穿透" class="sidebar-link">29. 实现scoped样式穿透</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_30-ref的作用" class="sidebar-link">30. ref的作用</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_31-vue-loader的作用" class="sidebar-link">31. vue-loader的作用</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_32-v-if和v-for哪个优先级更高？如果两个同时出现，应该如何优化得到更好的性能？" class="sidebar-link">32. v-if和v-for哪个优先级更高？如果两个同时出现，应该如何优化得到更好的性能？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_33-了解哪些vue性能优化方法？" class="sidebar-link">33. 了解哪些Vue性能优化方法？</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_34-对vue3-0的新特性有没有了解" class="sidebar-link">34. 对Vue3.0的新特性有没有了解</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_35-vue-router守卫" class="sidebar-link">35. vue-router守卫</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_36-vue项目中的性能优化" class="sidebar-link">36. vue项目中的性能优化</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_37-vue-extend和vue-component" class="sidebar-link">37. vue.extend和vue.component</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#_38-spa项目如何优化加载速度" class="sidebar-link">38. SPA项目如何优化加载速度</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#react" class="sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#react和vue的区别" class="sidebar-link">React和Vue的区别</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#setstate" class="sidebar-link">setState</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#diff算法" class="sidebar-link">diff算法</a></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#为什么虚拟dom会提高性能" class="sidebar-link">为什么虚拟DOM会提高性能</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview/06.框架相关.html#参考文档" class="sidebar-link">参考文档</a></li></ul></li><li><a href="/interview/07.HTTP知识总结.html" class="sidebar-link">7. HTTP知识点汇总</a></li><li><a href="/interview/08.浏览器相关知识总结.html" class="sidebar-link">8. 浏览器相关知识总结</a></li><li><a href="/interview/09.每日一题.html" class="sidebar-link">9. 每日一题</a></li><li><a href="/interview/10.前端工程化.html" class="sidebar-link">10. 前端工程化</a></li><li><a href="/interview/11.常用js函数.html" class="sidebar-link">11. js常用函数代码封装</a></li><li><a href="/interview/12.JavaScript题目集锦.html" class="sidebar-link">11. JavaScript题目集锦</a></li><li><a href="/interview/13. 算法题.html" class="sidebar-link">13. 算法题</a></li><li><a href="/interview/test.html" class="sidebar-link">13. 如何居中一个浮动元素?</a></li><li><a href="/interview/var、let及const区别.html" class="sidebar-link">var、let及const区别</a></li><li><a href="/interview/事件循环&amp;同步异步.html" class="sidebar-link">第17题 setTimeout、Promise、Async/Await的区别</a></li><li><a href="/interview/前端工程师必备技能.html" class="sidebar-link">前端工程师必备技能</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>[TOC]</p> <h2 id="vue"><a href="#vue" aria-hidden="true" class="header-anchor">#</a> Vue</h2> <p>watch与computed的区别
vue生命周期及对应的行为
vue父子组件生命周期执行顺序
组件间通讯方法
如何实现一个指令
如何做到的双向绑定
虚拟dom为什么快
如何设计一个组件</p> <h3 id="_1-谈谈对mvc、mvp和mvvm的理解"><a href="#_1-谈谈对mvc、mvp和mvvm的理解" aria-hidden="true" class="header-anchor">#</a> 1. 谈谈对MVC、MVP和MVVM的理解</h3> <h4 id="mvc"><a href="#mvc" aria-hidden="true" class="header-anchor">#</a> MVC</h4> <p>MVC即<code>Model--View--Controller</code>，简单来说就是通过controller的控制去操作model层的数据，并且返回给view层展示。</p> <p>前端MVC与后端类似，具备Model、View和Controller</p> <ul><li>Model：负责保存应用数据，与后端数据进行同步</li> <li>View：负责视图展示，将model中的数据可视化出来</li> <li>Controller：负责业务逻辑，根据用户行为对model数据进行修改</li></ul> <p><img src="/assets/img/mvc.4de5c83a.png" alt=""></p> <ul><li>View 接受用户交互请求</li> <li>View 将请求转交给Controller处理</li> <li>Controller 操作Model进行数据更新保存</li> <li>数据更新保存之后，Model会通知View更新</li> <li>View更新变化数据使用户得到反馈</li></ul> <h4 id="mvp"><a href="#mvp" aria-hidden="true" class="header-anchor">#</a> MVP</h4> <p><img src="https://github.com/liujie2019/static_data/blob/master/img/20200308220139.png?raw=true" alt=""></p> <h4 id="mvvm"><a href="#mvvm" aria-hidden="true" class="header-anchor">#</a> MVVM</h4> <p>MVVM即Model-View-ViewModel，将其中的 View 的状态和行为抽象化，让我们可以将UI和业务逻辑分开。MVVM的优点是低耦合、可重用性、独立开发。</p> <p><img src="/assets/img/mvvm1.41e02dd4.png" alt=""></p> <ul><li>View接收用户交互请求</li> <li>View将请求转交给ViewModel</li> <li>ViewModel操作Model数据更新</li> <li>Model更新完数据，通知ViewModel数据发生变化</li> <li>ViewModel更新View数据
MVVM模式和MVC有些类似，但有以下不同：</li> <li>ViewModel替换了Controller，在UI层之下</li> <li>ViewModel向View暴露它所需要的数据和指令对象</li> <li>ViewModel接收来自Model的数据</li></ul> <p>概括起来，MVVM是由MVC发展而来，通过在Model之上而在View之下增加一个非视觉的组件将来自Model的数据映射到View中。</p> <p>Model–View–ViewModel(MVVM)是一个软件架构设计模式，由微软 WPF 和 Silverlight 的架构师 Ken Cooper 和 Ted Peters 开发，是一种简化用户界面的事件驱动编程方式。由John Gossman（同样也是 WPF 和 Silverlight 的架构师）于2005年在他的博客上发表。</p> <p>MVVM是Model-View-ViewModel缩写，也就是把MVC中的Controller演变成ViewModel。Model层代表数据模型，View代表UI组件，ViewModel是View和Model层的桥梁，数据会绑定到viewModel层并自动将数据渲染到页面中，视图变化的时候会通知viewModel层更新数据。</p> <p>MVVM源自于经典的Model–View–Controller（MVC）模式 ，MVVM 的出现促进了前端开发与后端业务逻辑的分离，极大地提高了前端开发效率，MVVM 的核心是 ViewModel 层，它就像是一个中转站（value converter），负责转换 Model 中的数据对象来让数据变得更容易管理和使用，该层向上与视图层进行双向数据绑定，向下与 Model 层通过接口请求进行数据交互，起呈上启下作用。如下图所示：</p> <p><img src="/assets/img/Vue3.a5c41367.png" alt="">
MVVM是Model-View-ViewModel的缩写。</p> <ul><li>Model：代表数据模型，也可以在Model中定义数据修改和操作的业务逻辑。我们可以把Model称为数据层，因为它仅仅关注数据本身，不关心任何行为。</li> <li>View：用户操作界面。当ViewModel对Model进行更新的时候，会通过数据绑定更新到View。</li> <li>ViewModel：业务逻辑层，View需要什么数据，ViewModel要提供这个数据；View有某些操作，ViewModel就要响应这些操作，所以可以说它是Model for View。</li></ul> <h4 id="view层"><a href="#view层" aria-hidden="true" class="header-anchor">#</a> View层</h4> <p>View是视图层，也就是用户界面。前端主要由HTML和CSS来构建。</p> <h4 id="model层"><a href="#model层" aria-hidden="true" class="header-anchor">#</a> Model层</h4> <p>Model 是指数据模型，泛指后端进行的各种业务逻辑处理和数据操控，对于前端来说就是后端提供的api接口。</p> <h4 id="viewmodel层"><a href="#viewmodel层" aria-hidden="true" class="header-anchor">#</a> ViewModel层</h4> <ul><li>ViewModel通过实现一套数据响应式机制自动响应Model中数据变化；</li> <li>同时ViewModel会实现一套更新策略自动将数据变化转换为视图更新；</li> <li>通过事件监听响应View中用户交互修改Model中数据。</li> <li>这样在ViewModel中就减少了大量的DOM操作代码</li> <li>MVVM在保持View和Model松耦合的同时，还减少了维护它们关系的代码，使用户专注于业务逻辑，兼顾开发效率和可维护性。</li></ul> <p>ViewModel是由前端开发人员组织生成和维护的视图数据层。在这一层，前端开发者对从后端获取的 Model 数据进行转换处理，做二次封装，以生成符合 View 层使用预期的视图数据模型。需要注意的是 ViewModel 所封装出来的数据模型包括视图的状态和行为两部分，而 Model 层的数据模型是只包含状态的，比如页面的这一块展示什么，而页面加载进来时发生什么，点击这一块发生什么，这一块滚动时发生什么这些都属于视图行为（交互），视图状态和行为都封装在了 ViewModel 里。这样的封装使得 ViewModel 可以完整地去描述 View 层。</p> <p>MVVM框架实现了双向绑定，这样 ViewModel 的内容会实时展现在 View 层，前端开发者再也不必低效又麻烦地通过操纵 DOM 去更新视图，MVVM 框架已经把最脏最累的一块做好了，我们开发者只需要处理和维护 ViewModel，更新数据视图就会自动得到相应更新。这样 View 层展现的不是 Model 层的数据，而是 ViewModel 的数据，由 ViewModel 负责与 Model 层交互，这就完全解耦了 View 层和 Model 层，这个解耦是至关重要的，它是前后端分离方案实施的重要一环。</p> <p>我们以下通过一个Vue实例来说明MVVM的具体实现，有Vue开发经验的同学应该一目了然：
View层</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>showMessage()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ViewModel层</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 用于描述视图状态</span>
        message<span class="token punctuation">:</span> <span class="token string">'Hello Vue!'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 用于描述视图行为</span>
        <span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token comment">// Ajax 获取 Model 层的数据</span>
        <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            url<span class="token punctuation">:</span> <span class="token string">'/your/server/data/api'</span><span class="token punctuation">,</span>
            <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                vm<span class="token punctuation">.</span>message <span class="token operator">=</span> res<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Model层</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/your/server/data/api&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;res&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;success&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;IoveC&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;domain&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;www.cnblogs.com&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>总结：MVVM模式简化了界面与业务的依赖，解决了数据频繁更新。MVVM 在使用当中，利用双向绑定技术，使得 Model 变化时，ViewModel 会自动更新，而 ViewModel 变化时，View 也会自动变化。</p> <h4 id="mvvm和mvc的区别？"><a href="#mvvm和mvc的区别？" aria-hidden="true" class="header-anchor">#</a> MVVM和MVC的区别？</h4> <p>MVC：MVC模式可以这样理解，将html看成view;js看成controller，处理用户与应用的交互，响应对view的操作（对事件的监听），调用Model对数据进行操作，完成model与view的同步（根据model的改变，通过选择器对view进行操作）；将js的ajax当做Model，从服务器获取数据，MVC是单向的。
MVVM：它实现了View和Model的自动同步，也就是当Model的属性改变时，我们不用再自己手动操作Dom元素，来改变View的显示，而是改变属性后该属性对应View层显示会自动改变，MVVM是双向的。</p> <p><img src="https://github.com/liujie2019/static_data/blob/master/img/20200308220751.png?raw=true" alt=""></p> <h3 id="谈谈对vue的理解"><a href="#谈谈对vue的理解" aria-hidden="true" class="header-anchor">#</a> 谈谈对vue的理解</h3> <p>vue是一个渐进式的JS框架。他易用，灵活，高效； 可以把一个页面分隔成多个组件；当其他页面有类似功能时，直接让封装的组件进行复用； 他是构建用户界面的声明式框架，只关心图层；不关心具体是如何实现的。</p> <h4 id="vue和react有什么区别？"><a href="#vue和react有什么区别？" aria-hidden="true" class="header-anchor">#</a> VUE和REACT有什么区别？</h4> <p>react整体是函数式的思想，把组件设计成纯组件，状态和逻辑通过参数传入，所以在react中，是单向数据流；</p> <p>vue的思想是响应式的，也就是基于是数据可变的，通过对每一个属性建立Watcher来监听，当属性变化的时候，响应式的更新对应的虚拟dom。</p> <h3 id="_2-谈一谈vue的虚拟dom和diff算法"><a href="#_2-谈一谈vue的虚拟dom和diff算法" aria-hidden="true" class="header-anchor">#</a> 2. 谈一谈Vue的虚拟DOM和diff算法</h3> <p>Vue.js通过编译将模版转换成渲染函数(render)，执行渲染函数就可以得到一个虚拟DOM
简单点讲，在Vue的实现上，Vue讲模版编译成虚拟DOM渲染函数。结合Vue自带的响应系统，在状态改变时，Vue能够智能地计算出重新渲染组件的最小代价并应用到DOM操作上。</p> <p>Vue diff算法：</p> <ul><li>源码分析1：必要性，lifecycle.js - mountComponent()</li> <li>源码分析2：执行方式，patch.js - patchVnode()
<ul><li>patchVnode是diff发生的地方，整体策略：深度优先，同层比较</li></ul></li> <li>源码分析3：高效性，patch.js - updateChildren()</li></ul> <ol><li>diff算法是虚拟DOM技术的必然产物：通过新旧虚拟DOM做对比(即diff)，将变化的部分更新在真实DOM上，另外，也需要diff高效的执行对比过程，从而降低时间复杂度为O(n)。</li> <li>Vue 2.x中为了降低Watcher粒度，每个组件只有一个Watcher与之对应，只有引入diff才能精确找到发生变化的地方。</li> <li>Vue中diff执行的时刻是组件实例执行其更新函数时，它会比对上一次渲染结果oldVnode和新的渲染结果newVnode，此过程称为patch。</li> <li>diff过程整体遵循深度优先、同层比较的策略。两个节点之间比较会根据它们是否拥有子节点或者文本节点不同操作；比较两组子节点是算法的重点，首先假设头尾节点可能相同做4次对比尝试，如果没有找到相同节点才按照通用方式遍历查找，查找结束再按情况处理剩下的节点；借助key通常可以非常精确找到相同节点，因此整个patch过程非常高效。</li></ol> <h3 id="_3-vue响应式原理-2-x"><a href="#_3-vue响应式原理-2-x" aria-hidden="true" class="header-anchor">#</a> 3. Vue响应式原理(2.x)</h3> <p>Vue在初始化数据时，会使用Object.defineProperty重新定义data中的所有属性，当页面使用对应属性时，首先会进行依赖收集(收集当前组件的watcher)如果属性发生变化会通知相关依赖进行更新操作(发布订阅)。</p> <p>Vue采用<strong>数据劫持结合发布者-订阅者模式</strong>的方式，通过Object.defineProperty劫持data属性的setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。</p> <p>实现mvvm的双向绑定，是采用数据劫持结合发布者-订阅者模式的方式，通过Object.defineProperty()来劫持各个属性的setter，getter，在数据变动时发布消息给订阅者，触发相应的监听回调。</p> <p>Vue数据双向绑定主要是指：数据变化更新视图，视图变化更新数据，如下图所示：</p> <p><img src="/assets/img/Vue.de99fbef.png" alt="">
即：</p> <ul><li>输入框内容变化时，Data 中的数据同步变化。即 View =&gt; Data 的变化。</li> <li>Data 中的数据变化时，文本节点的内容同步变化。即 Data =&gt; View 的变化。</li></ul> <p>其中，View 变化更新 Data ，可以通过事件监听的方式来实现，所以 Vue 的数据双向绑定的工作主要是如何根据 Data 变化更新 View。</p> <p>Vue主要通过以下4个步骤来实现数据双向绑定的：</p> <ol><li>实现一个监听器 Observer：对数据对象进行遍历，包括子属性对象的属性，利用 Object.defineProperty() 对属性都加上 setter 和 getter。这样的话，给这个对象的某个值赋值，就会触发 setter，那么就能监听到了数据变化。</li> <li>实现一个解析器 Compile：解析 Vue 模板指令，将模板中的变量都替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，调用更新函数进行数据更新。</li> <li>实现一个订阅者 Watcher：Watcher 订阅者是 Observer 和 Compile 之间通信的桥梁 ，主要的任务是订阅 Observer 中的属性值变化的消息，当收到属性值变化的消息时，触发解析器 Compile 中对应的更新函数。</li> <li>实现一个订阅器 Dep：订阅器采用 发布-订阅 设计模式，用来收集订阅者 Watcher，对监听器 Observer 和 订阅者 Watcher 进行统一管理。</li></ol> <p><img src="/assets/img/Vue4.af948aaf.png" alt="">
Vue是采用数据劫持结合发布者-订阅者模式的方式，通过<code>Object.defineProperty()</code>来劫持各个属性的setter和getter，在数据变动时发布消息给订阅者，触发相应的监听回调。
具体实现步骤，感兴趣的可以看看：</p> <p>当把一个普通Javascript对象传给Vue实例来作为它的data选项时，Vue将遍历它的属性，用<code>Object.defineProperty</code>都加上 setter和getter。这样的话，给这个对象的某个值赋值，就会触发setter，那么就能监听到了数据变化
compile解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图
Watcher订阅者是Observer和Compile之间通信的桥梁，主要做的事情是:
1、在自身实例化时往属性订阅器(dep)里面添加自己
2、自身必须有一个update()方法
3、待属性变动dep.notice()通知时，能调用自身的update()方法，并触发Compile中绑定的回调，则功成身退。
MVVM作为数据绑定的入口，整合Observer、Compile和Watcher三者，通过Observer来监听自己的model数据变化，通过Compile来解析编译模板指令，最终利用Watcher搭起Observer和Compile之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数据model变更的双向绑定效果。</p> <p>Vue实现数据双向绑定的原理就是用Object.defineproperty重新定义（set方法）对象设置属性值和（get方法）获取属性值的操纵来实现的。
Object.property()方法的解释：Object.property(参数1，参数2，参数3)  返回值为该对象obj
其中参数1为该对象（obj），参数2为要定义或修改的对象的属性名，参数3为属性描述符，属性描述符是一个对象，主要有两种形式：数据描述符和存取描述符。这两种对象只能选择一种使用，不能混合使用。而get和set属于存取描述符对象的属性。</p> <p>这个方法会直接在一个对象上定义一个新属性或者修改对象上的现有属性，并返回该对象。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myapp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> model <span class="token operator">=</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> models <span class="token operator">=</span> myapp<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;[v-model=message]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> models<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            models<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onkeyup</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                model<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;v-model&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 观察者模式 / 钩子函数</span>
        <span class="token comment">// defineProperty 来定义一个对象的某个属性</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">set</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> binds <span class="token operator">=</span> myapp<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;[v-bind=message]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> binds<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    binds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> models <span class="token operator">=</span> myapp<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;[v-model=message]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> models<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    models<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h4 id="vue3-x响应式数据原理"><a href="#vue3-x响应式数据原理" aria-hidden="true" class="header-anchor">#</a> Vue3.x响应式数据原理</h4> <p>Vue3.x改用Proxy替代Object.defineProperty。因为Proxy可以直接监听对象和数组的变化，并且有多达13种拦截方法。并且作为新标准将受到浏览器厂商重点持续的性能优化。</p> <p>Proxy只会代理对象的第一层，那么Vue3又是怎样处理这个问题的呢？（很简单啊）</p> <p>判断当前Reflect.get的返回值是否为Object，如果是则再通过reactive方法做代理，这样就实现了深度观测。</p> <p>监测数组的时候可能触发多次get/set，那么如何防止触发多次呢？</p> <p>我们可以判断key是否为当前被代理对象target自身属性，也可以判断旧值与新值是否相等，只有满足以上两个条件之一时，才有可能执行trigger。</p> <h3 id="_4-vue-2-x如何监测对象和数组的变化"><a href="#_4-vue-2-x如何监测对象和数组的变化" aria-hidden="true" class="header-anchor">#</a> 4. Vue 2.x如何监测对象和数组的变化</h3> <p>如果被问到Vue怎么实现数据双向绑定，大家肯定都会回答通过Object.defineProperty对数据进行劫持，但是Object.defineProperty只能对属性进行数据劫持，不能对整个对象进行劫持，同理无法对数组进行劫持，但是我们在使用 Vue 框架中都知道，Vue 能检测到对象和数组（部分方法的操作）的变化，那它是怎么实现的呢？我们查看相关代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">/**
   * Observe a list of Array items.
   */</span>
  <span class="token function">observeArray</span> <span class="token punctuation">(</span><span class="token parameter">items<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">observe</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// observe 功能为监测数据的变化</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 对属性进行递归遍历
   */</span>
  <span class="token keyword">let</span> childOb <span class="token operator">=</span> <span class="token operator">!</span>shallow <span class="token operator">&amp;&amp;</span> <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token comment">// observe 功能为监测数据的变化</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>通过以上Vue源码部分查看，我们就能知道Vue是通过遍历数组和递归遍历对象，从而达到利用Object.defineProperty也能对对象和数组（部分方法的操作）进行监听。</p> <p>使用了函数劫持的方式，重写了数组的方法，Vue将data中的数组进行了原型链重写，指向了自己定义的数组原型方法。这样当调用数组api时，可以通知依赖更新。如果数组中包含着引用类型，会对数组中的引用类型再次递归遍历进行监控。这样就实现了监测数组变化。</p> <h3 id="_5-proxy相对于object-defineproperty的优势"><a href="#_5-proxy相对于object-defineproperty的优势" aria-hidden="true" class="header-anchor">#</a> 5. Proxy相对于Object.defineProperty的优势</h3> <ul><li>数组变化也能监听到</li> <li>不需要深度遍历监听</li></ul> <p>基于Object.defineProperty可以劫持对象的访问器，在对象属性值发生变化时我们可以获取变化后的值，从而进行进一步操作。</p> <p>Proxy的优势如下：</p> <ul><li>Proxy可以直接监听对象而非属性；</li> <li>Proxy可以直接监听数组的变化；</li> <li>Proxy有多达13种拦截方法，不限于 apply、ownKeys、deleteProperty、has等等是 Object.defineProperty 不具备的；</li> <li>Proxy返回的是一个新对象，我们可以只操作新的对象达到目的，而Object.defineProperty只能遍历对象属性直接修改；
Proxy作为新标准将受到浏览器厂商重点持续的性能优化，也就是传说中的新标准的性能红利；</li></ul> <p>Object.defineProperty的优势：兼容性好，支持IE9，而Proxy的存在浏览器兼容性问题(ie11都不支持)，而且无法用 polyfill磨平，因此，Vue的作者才声明需要等到下个大版本(3.0)才能用Proxy重写。</p> <h3 id="_6-vue中的key的作用和工作原理"><a href="#_6-vue中的key的作用和工作原理" aria-hidden="true" class="header-anchor">#</a> 6. Vue中的key的作用和工作原理</h3> <p>结论：</p> <ol><li>key的作用主要是为了高效的更新虚拟DOM，其原理是<strong>Vue在patch过程中通过key可以精准判断两个节点是否是是同一个</strong>，从而避免频繁更新不同元素，使得整个patch过程更加高效，减少DOM操作量，提高性能。</li> <li>另外，若不设置key还可能在列表更新时引发一些隐蔽的bug</li> <li>Vue中在使用相同标签名元素的过渡切换时，也会使用到key属性，其目的也是为了让Vue可以区分它们，否则Vue只会替换其内部属性而不会触发过渡效果。</li></ol> <p><img src="https://github.com/liujie2019/static_data/blob/master/img/20200308162911.png?raw=true" alt="">
如果不使用key：需要进行3次节点更新操作(C-&gt;F、D-&gt;C、E-&gt;D)和一次节点插入(E重新创建插入)操作。
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308163310.png?raw=true" alt=""></p> <p>如果使用key：只进行一次节点插入操作，<strong>通过5次patch比较</strong>，找出F节点的插入位置，创建F节点并插入。相对于不使用key节省了多次节点更新操作。
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308163514.png?raw=true" alt=""></p> <ol start="4"><li>让Vue精准的追踪到每一个元素，高效的更新虚拟DOM。</li> <li>触发过渡</li></ol> <p>当text改变时，这个元素的key属性就发生了改变，在渲染更新时，Vue会认为这里新产生了一个元素，而老的元素由于key不存在了，所以会被删除，从而触发了过渡。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>、
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>强制替换元素，从而可以触发组件的生命周期钩子或者触发过渡。因为当key改变时，Vue认为一个新的元素产生了，从而会新插入一个元素来替换掉原有的元素。</p> <p>这里如果text发生改变，整个<code>&lt;span&gt;</code>元素会发生更新，因为当text改变时，这个元素的key属性就发生了改变，在渲染更新时，Vue会认为这里新产生了一个元素，而老的元素由于key不存在了，所以会被删除，从而触发了过渡。
同理，key属性被用在组件上时，当key改变时会引起新组件的创建和原有组件的删除，此时组件的生命周期钩子就会被触发。</p> <p>key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速。Vue的diff过程可以概括为：oldCh和newCh各有两个头尾的变量oldStartIndex、oldEndIndex 和 newStartIndex、newEndIndex，它们会新节点和旧节点会进行两两对比，即一共有4种比较方式：newStartIndex 和oldStartIndex 、newEndIndex 和 oldEndIndex 、newStartIndex 和 oldEndIndex 、newEndIndex 和 oldStartIndex，如果以上 4 种比较都没匹配，如果设置了key，就会用 key 再进行比较，在比较的过程中，遍历会往中间靠，一旦 StartIdx &gt; EndIdx 表明 oldCh 和 newCh 至少有一个已经遍历完了，就会结束比较。具体有无 key 的 diff 过程，可以查看作者写的另一篇详解虚拟 DOM 的文章《深入剖析：Vue核心之虚拟DOM》。</p> <p>所以，Vue中key的作用是：key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速。</p> <p>更准确：因为带key就不是就地复用了，在sameNode函数 a.key === b.key 对比中可以避免就地复用的情况。所以会更加准确。</p> <p>更快速：利用key的唯一性生成map对象来获取对应节点，比遍历方式更快，源码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createKeyToOldIdx</span> <span class="token punctuation">(</span><span class="token parameter">children<span class="token punctuation">,</span> beginIdx<span class="token punctuation">,</span> endIdx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> i<span class="token punctuation">,</span> key
  <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> beginIdx<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> endIdx<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    key <span class="token operator">=</span> children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> i
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> map
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>当 Vue.js 用v-for正在更新已渲染过的元素列表时，它默认用“就地复用”策略。
如果数据项的顺序被改变，Vue 将不会移动 DOM 元素来匹配数据项的顺序，而是简单复用此处每个元素，并且确保它在特定索引下显示已被渲染过的每个元素。</p> <blockquote><p>key的作用主要是为了高效的更新虚拟DOM。</p></blockquote> <h3 id="_7-vue怎么用vm-set-解决对象新增属性不能响应的问题？"><a href="#_7-vue怎么用vm-set-解决对象新增属性不能响应的问题？" aria-hidden="true" class="header-anchor">#</a> 7. Vue怎么用vm.$set()解决对象新增属性不能响应的问题？</h3> <p>Vue中$set有什么用？</p> <p>在我们使用vue进行开发的过程中，可能会遇到一种情况：当生成vue实例后，当再次给数据赋值时，有时候并不会自动更新到视图上去,因此可以使用$set。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">initTableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tableData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">element</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token string">'edit'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>受现代JavaScript的限制 ，Vue无法检测到对象属性的添加或删除。由于 Vue 会在初始化实例时对属性执行 getter/setter 转化，所以属性必须在 data 对象上存在才能让 Vue 将它转换为响应式的。但是 Vue 提供了 Vue.set (object, propertyName, value) / vm.$set (object, propertyName, value) 来实现为对象添加响应式属性，那框架本身是如何实现的呢？</p> <p>我们查看对应的 Vue 源码：vue/src/core/instance/index.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">|</span> Object<span class="token punctuation">,</span> key<span class="token punctuation">:</span> any<span class="token punctuation">,</span> val<span class="token punctuation">:</span> any</span><span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
  <span class="token comment">// target 为数组</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isValidArrayIndex</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改数组的长度, 避免索引&gt;数组长度导致splcie()执行有误</span>
    target<span class="token punctuation">.</span>length <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>length<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
    <span class="token comment">// 利用数组的splice变异方法触发响应式</span>
    target<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>
    <span class="token keyword">return</span> val
  <span class="token punctuation">}</span>
  <span class="token comment">// key 已经存在，直接修改属性值</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> target <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val
    <span class="token keyword">return</span> val
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>__ob__
  <span class="token comment">// target 本身就不是响应式数据, 直接赋值</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ob<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val
    <span class="token keyword">return</span> val
  <span class="token punctuation">}</span>
  <span class="token comment">// 对属性进行响应式处理</span>
  <span class="token function">defineReactive</span><span class="token punctuation">(</span>ob<span class="token punctuation">.</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
  ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> val
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>我们阅读以上源码可知，vm.$set的实现原理是：</p> <ul><li>如果目标是数组，直接使用数组的 splice 方法触发相应式；</li> <li>如果目标是对象，会先判读属性是否存在、对象是否是响应式，最终如果要对属性进行响应式处理，则是通过调用 defineReactive 方法进行响应式处理（ defineReactive 方法就是 Vue 在初始化对象时，给对象属性采用 Object.defineProperty 动态添加 getter 和 setter 的功能所调用的方法）</li></ul> <h3 id="_8-vue组件的data为什么必须是函数而vue的根实例则没有这个限制？"><a href="#_8-vue组件的data为什么必须是函数而vue的根实例则没有这个限制？" aria-hidden="true" class="header-anchor">#</a> 8. Vue组件的data为什么必须是函数而Vue的根实例则没有这个限制？</h3> <p>Vue组件可能存在多个实例，如果使用对象形式定义data，则会导致多个实例共用一个data对象，那么状态变更将会影响所有组件实例，这是有问题的；采用函数形式定义，在initData时会将其作为工厂函数返回全新data对象，有效规避多实例之间状态污染问题。而在Vue根实例创建过程中则不存在该限制，也是因为<strong>根实例只能有一个</strong>，不需要考虑多实例数据污染的情况。</p> <p>因为JS本身的特性带来的，如果data是一个对象，那么由于对象本身属于引用类型，当我们修改其中的一个属性时，会影响到所有Vue示例的数据。如果将data作为一个函数返回一个对象，那么每一个实例的data属性都是独立的，不会相互影响了。</p> <p>组件中的data写成一个函数，数据以函数返回值形式定义，这样每复用一次组件，就会返回一份新的data。如果单纯的写成对象形式，就使得所有组件实例共用了一份data，造成了数据污染。</p> <p>如果data是一个函数的话，这样每复用一次组件，就会返回一份新的data，类似于给每个组件实例创建一个私有的数据空间，让各个组件实例维护各自的数据。而单纯的写成对象形式，就使得所有组件实例共用了一份data，就会造成一个变了全都会变的结果。</p> <p>为什么组件中的data必须是一个函数，然后return一个对象，而new Vue实例里，data可以直接是一个对象？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// data</span>
<span class="token comment">// 针对使用脚手架的情况</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
	message<span class="token punctuation">:</span> <span class="token string">&quot;子组件&quot;</span><span class="token punctuation">,</span>
	childName<span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// new Vue</span>
<span class="token comment">// 针对不用脚手架的情况，比如直接通过script标签的形式引入vue.js</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token string">'&lt;App/&gt;'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'lisi'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span>App<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>因为组件是用来复用的，且JS里对象是引用关系，如果组件中data是一个对象，那么这样作用域没有隔离，子组件中的 data属性值会相互影响，如果组件中data选项是一个函数，那么每个实例可以维护一份被返回对象的独立的拷贝，组件实例之间的data属性值不会互相影响；</p> <p>而new Vue的实例，是不会被复用的，因此不存在引用对象的问题。</p> <h3 id="_9-computed的实现原理"><a href="#_9-computed的实现原理" aria-hidden="true" class="header-anchor">#</a> 9. computed的实现原理</h3> <p>computed本质上是一个惰性求值的观察者。</p> <p>computed内部实现了一个惰性的watcher，也就是computed watcher，computed watcher不会立刻求值，同时持有一个dep实例。其内部通过<code>this.dirty</code>属性标记计算属性是否需要重新求值。</p> <p>当computed的依赖状态发生改变时，就会通知这个惰性的watcher，computed watcher通过this.dep.subs.length判断有没有订阅者，有的话，会重新计算，然后对比新旧值，如果变化了，会重新渲染。 (Vue 想确保不仅仅是计算属性依赖的值发生变化，而是当计算属性最终计算的值发生变化时才会触发渲染 watcher 重新渲染，本质上是一种优化。)
没有的话，仅仅把this.dirty = true。 (当计算属性依赖于其他数据时，属性并不会立即重新计算，只有之后其他地方需要读取属性的时候，它才会真正计算，即具备lazy（懒计算）特性。)</p> <h4 id="watch、computed和methods的区别"><a href="#watch、computed和methods的区别" aria-hidden="true" class="header-anchor">#</a> watch、computed和methods的区别</h4> <p>区别：</p> <ul><li>computed：计算属性依赖于其他属性的值，并且computed的值会被缓存，只有它依赖的属性值发生改变，下一次获取computed的值时才会重新计算computed的值，主要当作属性来使用。</li> <li>watch：更多的是<strong>观察</strong>的作用，无缓存，主要用来监听某些特定数据的变化，每当监听的数据变化时都会执行回调(接收newVal和oldVal两个参数)进行某些具体的业务逻辑操作，可以看作是<code>computed</code>和<code>methods</code>的结合体；</li> <li>methods：表示一个具体的操作，主要书写业务逻辑。我们通常在这里面写入组件需要的方法，只要调用就会重新执行一次。</li></ul> <p>computed和methods区别是:</p> <ul><li>computed是基于响应性依赖来进行缓存的。只有在响应式依赖发生改变时它们才会重新求值，也就是说，当msg属性值没有发生改变时，多次访问 reversedMsg计算属性会立即返回之前缓存的计算结果，而不会再次执行computed中的函数。</li> <li>但是methods方法中是每次调用，都会执行函数的，methods它不是响应式的。</li></ul> <p>watch和computed的区别是：</p> <ul><li>相同点：他们两者都是观察页面数据变化的。</li> <li>不同点：
<ul><li>computed只有当依赖的数据变化时才会计算, 当数据没有变化时, 它会读取缓存数据。</li> <li>watch每次都需要执行函数。watch更适用于数据变化时的异步操作。</li></ul></li></ul> <p>运用场景：</p> <ul><li>当需要进行数值计算，并且依赖于其它数据时，应该使用computed，因为可以利用computed的缓存特性，避免每次获取值时，都要重新计算。</li> <li>当需要在数据变化时执行异步或开销较大的操作时，应该使用watch，使用watch允许我们执行异步操作(访问一个 API )，限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这些都是计算属性无法做到的。</li></ul> <h3 id="_10-vue常用的指令有哪些"><a href="#_10-vue常用的指令有哪些" aria-hidden="true" class="header-anchor">#</a> 10. Vue常用的指令有哪些</h3> <ul><li>v-model：一般用于表单输入，实现表单控件和数据的双向绑定；</li> <li>v-html：更新元素的<code>innerHTML</code>；</li> <li>v-show：条件渲染</li> <li>v-if：条件渲染</li> <li>v-on:click：可以简写为@click，@绑定一个事件。如果事件触发了，就执行事件的回调函数；</li> <li>v-for：循环多次渲染元素或模板；</li> <li>v-bind：当表达式的值改变时，将其产生的连带影响响应式地作用于DOM。语法：<code>v-bind:title=&quot;msg&quot;</code>，简写：<code>:title=&quot;msg&quot;</code>。</li></ul> <h4 id="v-if和v-show异同"><a href="#v-if和v-show异同" aria-hidden="true" class="header-anchor">#</a> v-if和v-show异同</h4> <p>相同点：</p> <ul><li>v-if和v-show两个指令都能够实现元素的显示和隐藏。</li> <li>v-if通过创建和删除对应的dom节点来实现显示和隐藏</li> <li>v-show通过设置css样式来实现显示和隐藏(对应的dom节点一直存在)</li></ul> <p>不同点：</p> <ul><li>v-if：在条件不满足的情况下(值为false)，直接不渲染对应元素。而v-show在条件不满足的情况下，给元素添加<code>display:none</code>来隐藏元素，并没有将元素从dom树中移除。当v-if的值由true变为false时，直接将元素从dom树中移除。</li> <li>v-show：不管值为true还是false，对应的html元素都会存在，只是通过设置CSS中的display属性值(<code>display:none</code>)来控制元素的显示或隐藏。</li> <li>v-if是通过控制<strong>dom节点的存在与否</strong>来控制元素的显隐；v-show是通过设置DOM元素的display属性值来控制元素的显隐，block为显示，none为隐藏；</li> <li>v-if是<code>真正的条件渲染(其后面可以跟v-else等其它条件渲染语句，而v-show没有)</code>，因为它会确保在切换过程中，条件判断语句块中的事件监听器和子组件适当地被销毁和重建；</li> <li>v-if<strong>是惰性的</strong>：如果在初始渲染时条件为假，则什么也不做，直到条件第一次变为真时，才会开始渲染条件块。</li> <li>v-show则不同，不管初始条件是真是假，元素总是会被渲染，并且只是简单地基于CSS的display属性进行切换。</li></ul> <p>具体应用场景：</p> <ul><li>v-if有更高的切换开销(因为每次切换都是通过创建和删除节点来实现显示和隐藏的)，而v-show有更高的初始渲染开销。</li> <li>因此，当需要隐藏和显示切换的比较频繁的时候，推荐使用v-show；需要隐藏和显示切换少的时候(不需要频繁切换显示和隐藏)，推荐使用v-if。</li></ul> <h4 id="vue中如何自定义指令？"><a href="#vue中如何自定义指令？" aria-hidden="true" class="header-anchor">#</a> Vue中如何自定义指令？</h4> <p>① 定义全局的自定义变量</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 注意：这里的el获取的是标签元素，说白了就是可以直接操作DOM</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>自定义指令<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>color<span class="token operator">&gt;</span>自定义指令<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>② 组件内指令-只有当前组件可以使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// template</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>自定义指令<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>color<span class="token operator">&gt;</span>自定义指令<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// script</span>
directives<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_11-class与style如何动态绑定？"><a href="#_11-class与style如何动态绑定？" aria-hidden="true" class="header-anchor">#</a> 11. Class与Style如何动态绑定？</h3> <h4 id="class可以通过对象语法和数组语法进行动态绑定"><a href="#class可以通过对象语法和数组语法进行动态绑定" aria-hidden="true" class="header-anchor">#</a> Class可以通过对象语法和数组语法进行动态绑定</h4> <p>对象语法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ active: isActive, 'text-danger': hasError }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
data: {
  isActive: true,
  hasError: false
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>数组语法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[isActive ? activeClass : '', errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

data: {
  activeClass: 'active',
  errorClass: 'text-danger'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="style-也可以通过对象语法和数组语法进行动态绑定"><a href="#style-也可以通过对象语法和数组语法进行动态绑定" aria-hidden="true" class="header-anchor">#</a> Style 也可以通过对象语法和数组语法进行动态绑定</h4> <p>对象语法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> activeColor<span class="token punctuation">,</span> <span class="token property">fontSize</span><span class="token punctuation">:</span> fontSize + <span class="token string">'px'</span> <span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

data: {
  activeColor: 'red',
  fontSize: 30
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>数组语法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">[styleColor<span class="token punctuation">,</span> styleSize]</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

data: {
  styleColor: {
     color: 'red'
   },
  styleSize:{
     fontSize:'23px'
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_12-对vue单向数据流的理解"><a href="#_12-对vue单向数据流的理解" aria-hidden="true" class="header-anchor">#</a> 12. 对Vue单向数据流的理解</h3> <p>所有的prop都使得其父子 prop 之间形成了一个单向下行绑定 ：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</p> <p>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。子组件想修改时，只能通过 $emit 派发一个自定义事件，父组件接收到后，由父组件修改。</p> <p>有两种常见的试图改变一个 prop 的情形:</p> <p>这个 prop 用来传递一个初始值；这个子组件接下来希望将其作为一个本地的 prop 数据来使用。 在这种情况下，最好定义一个本地的 data 属性并将这个 prop 用作其初始值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'initialCounter'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    counter<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initialCounter
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这个 prop 以一种原始的值传入且需要进行转换。 在这种情况下，最好使用这个 prop 的值来定义一个计算属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">normalizedSize</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_13-直接给一个数组项赋值，vue能检测到变化吗？"><a href="#_13-直接给一个数组项赋值，vue能检测到变化吗？" aria-hidden="true" class="header-anchor">#</a> 13. 直接给一个数组项赋值，Vue能检测到变化吗？</h3> <p>由于 JavaScript 的限制，Vue 不能检测到以下数组的变动：</p> <p>当你利用索引直接设置一个数组项时，例如：vm.items[indexOfItem] = newValue
当你修改数组的长度时，例如：vm.items.length = newLength
为了解决第一个问题，Vue 提供了以下操作方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Vue.set</span>
Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>items<span class="token punctuation">,</span> indexOfItem<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
<span class="token comment">// vm.$set，Vue.set的一个别名</span>
vm<span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>items<span class="token punctuation">,</span> indexOfItem<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
<span class="token comment">// Array.prototype.splice</span>
vm<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>indexOfItem<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>为了解决第二个问题，Vue 提供了以下操作方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Array.prototype.splice</span>
vm<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>newLength<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_14-谈一谈对vue组件化的理解以及如何实现一个自定义组件"><a href="#_14-谈一谈对vue组件化的理解以及如何实现一个自定义组件" aria-hidden="true" class="header-anchor">#</a> 14. 谈一谈对Vue组件化的理解以及如何实现一个自定义组件?</h3> <p>回答思路：
组件化定义、优点、使用场景和注意事项等方面展开陈述，同时要强调Vue组件化的一些特点。
源码分析1：组件定义</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 组件定义</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'comp'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    template<span class="token punctuation">:</span> <span class="token string">'&lt;div&gt;this is a component&lt;/div&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://github.com/liujie2019/static_data/blob/master/img/20200308202743.png?raw=true" alt=""> <img src="https://github.com/liujie2019/static_data/blob/master/img/20200308202912.png?raw=true" alt=""></p> <h3 id="_15-说说对spa单页面的理解，它的优缺点分别是什么？"><a href="#_15-说说对spa单页面的理解，它的优缺点分别是什么？" aria-hidden="true" class="header-anchor">#</a> 15. 说说对SPA单页面的理解，它的优缺点分别是什么？</h3> <p>SPA（single-page application仅在Web页面初始化时加载相应的 HTML、JavaScript 和 CSS。一旦页面加载完成，SPA 不会因为用户的操作而进行页面的重新加载或跳转；取而代之的是利用路由机制实现 HTML 内容的变换，UI 与用户的交互，避免页面的重新加载。
优点：</p> <ul><li>用户体验好、快，内容的改变不需要重新加载整个页面，避免了不必要的跳转和重复渲染；</li> <li>基于上面一点，SPA 相对对服务器压力小；</li> <li>前后端职责分离，架构清晰，前端进行交互逻辑，后端负责数据处理；
缺点：</li> <li>初次加载耗时多：为实现单页 Web 应用功能及显示效果，需要在加载页面的时候将 JavaScript、CSS 统一加载，部分页面按需加载；</li> <li>前进后退路由管理：由于单页应用在一个页面中显示所有的内容，所以不能使用浏览器的前进后退功能，所有的页面切换需要自己建立堆栈管理；</li> <li>SEO 难度较大：由于所有的内容都在一个页面中动态替换显示，所以在 SEO 上其有着天然的弱势。</li></ul> <h3 id="_16-vue解决了什么问题？谈一谈对vue设计原则的理解？"><a href="#_16-vue解决了什么问题？谈一谈对vue设计原则的理解？" aria-hidden="true" class="header-anchor">#</a> 16. Vue解决了什么问题？谈一谈对Vue设计原则的理解？</h3> <p>Vue定义和特点：</p> <ul><li>渐进式javascrip框架</li> <li>易用、灵活和高效</li></ul> <p><img src="https://github.com/liujie2019/static_data/blob/master/img/20200308203903.png?raw=true" alt=""> <img src="https://github.com/liujie2019/static_data/blob/master/img/20200308204053.png?raw=true" alt=""></p> <h3 id="_17-vue与angular以及react的区别"><a href="#_17-vue与angular以及react的区别" aria-hidden="true" class="header-anchor">#</a> 17. Vue与Angular以及React的区别</h3> <h4 id="vue与angularjs的区别"><a href="#vue与angularjs的区别" aria-hidden="true" class="header-anchor">#</a> Vue与AngularJS的区别</h4> <ul><li>Angular采用TypeScript开发, 而Vue可以使用javascript也可以使用TypeScript</li> <li>AngularJS依赖对数据做脏检查，所以Watcher越多越慢；Vue.js使用基于依赖追踪的观察并且使用异步队列更新，所有的数据都是独立触发的。</li> <li>AngularJS社区完善，Vue的学习成本较小</li></ul> <h4 id="vue与react的区别"><a href="#vue与react的区别" aria-hidden="true" class="header-anchor">#</a> Vue与React的区别</h4> <ul><li>vue组件分为全局注册和局部注册，在react中都是通过import相应组件，然后模版中引用；</li> <li>props是可以动态变化的，子组件也实时更新，在react中官方建议props要像纯函数那样，输入输出一致对应，而且不太建议通过props来更改视图；</li> <li>子组件一般要显示地调用props选项来声明它期待获得的数据。而在react中不必需，另两者都有props校验机制；</li> <li>每个Vue实例都实现了事件接口，方便父子组件通信，小型项目中不需要引入状态管理机制，而react必需自己实现；</li> <li>使用插槽分发内容，使得可以混合父组件的内容与子组件自己的模板；</li> <li>多了指令系统，让模版可以实现更丰富的功能，而React只能使用JSX语法；</li> <li>Vue增加的语法糖computed和watch，而在React中需要自己写一套逻辑来实现；</li> <li>react的思路是all in js，通过js来生成html，所以设计了jsx，还有通过js来操作css，社区的styled-component、jss等；而 vue是把html，css，js组合到一起，用各自的处理方式，vue有单文件组件，可以把html、css、js写到一个文件中，html提供了模板引擎来处理。</li> <li>react做的事情很少，很多都交给社区去做，vue很多东西都是内置的，写起来确实方便一些， 比如 redux的combineReducer就对应vuex的modules， 比如reselect就对应vuex的getter和vue组件的computed， vuex的mutation是直接改变的原始数据，而redux的reducer是返回一个全新的state，所以redux结合immutable来优化性能，vue不需要。</li> <li>react是整体的思路的就是函数式，所以推崇纯组件，数据不可变，单向数据流，当然需要双向的地方也可以做到，比如结合redux-form，组件的横向拆分一般是通过高阶组件。而vue是数据可变的，双向绑定，声明式的写法，vue组件的横向拆分很多情况下用mixin。</li></ul> <h3 id="_18-v-model的原理"><a href="#_18-v-model的原理" aria-hidden="true" class="header-anchor">#</a> 18. v-model的原理</h3> <p>Vue的双向数据绑定是由数据劫持结合发布者订阅者实现的。
数据劫持是通过Object.defineProperty()来劫持对象数据的setter和getter操作。
在数据变动时作你想做的事</p> <p>原理：通过Observer来监听自己的model数据变化，通过Compile来解析编译模板指令，最终利用Watcher搭起Observer和Compile之间的通信桥梁，达到数据变化-&gt;视图更新
在初始化vue实例时，遍历data这个对象，给每一个键值对利用Object.definedProperty对data的键值对新增get和set方法，利用了事件监听DOM的机制，让视图去改变数据。</p> <p>在Vue中，主要<strong>使用v-model指令在表单input、textarea、select等元素上实现数据的双向绑定</strong>。我们知道v-model本质上是语法糖，v-model在内部为不同的输入元素使用不同的属性并抛出不同的事件：</p> <ul><li>text 和 textarea 元素使用 value 属性和 input 事件；</li> <li>checkbox 和 radio 使用 checked 属性和 change 事件；</li> <li>select 字段将 value 作为 prop 并将 change 作为事件；</li></ul> <p>以input表单元素为例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">'something'</span><span class="token operator">&gt;</span>
<span class="token comment">// 相当于</span>
<span class="token operator">&lt;</span>input v<span class="token operator">-</span>bind<span class="token punctuation">:</span>value<span class="token operator">=</span><span class="token string">&quot;something&quot;</span> v<span class="token operator">-</span>on<span class="token punctuation">:</span>input<span class="token operator">=</span><span class="token string">&quot;something = $event.target.value&quot;</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个语法糖必须是固定的，也就是说属性必须为value，方法名必须为<code>:input</code>。
知道了v-model的原理，我们可以在自定义组件上实现v-model。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Parent</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>Child v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;num&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            num<span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Child</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div @click<span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">&gt;</span>Add<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果在自定义组件中，v-model默认会利用名为value的prop和名为input的事件，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 父组件：</span>
<span class="token operator">&lt;</span>ModelChild v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;message&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ModelChild<span class="token operator">&gt;</span>

<span class="token comment">// 子组件：</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

props<span class="token punctuation">:</span><span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">'小红'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_19-前端路由实现原理"><a href="#_19-前端路由实现原理" aria-hidden="true" class="header-anchor">#</a> 19. 前端路由实现原理</h3> <p>前端路由实现起来其实很简单，本质就是监听URL的变化，然后匹配路由规则，显示相应的页面，并且无须刷新。</p> <img src="/assets/img/image-20200713100212858.4bdd6d39.png" alt="image-20200713100212858" style="zoom:50%;"> <p><img src="assets/image-20200713100154308.png" alt="image-20200713100154308"></p> <h4 id="vue-router的实现原理"><a href="#vue-router的实现原理" aria-hidden="true" class="header-anchor">#</a> vue-router的实现原理</h4> <p>mode</p> <ul><li>hash</li> <li>history</li></ul> <p>跳转</p> <ul><li>this.$router.push()</li> <li><code>&lt;router-link to=&quot;&quot;&gt;&lt;/router-link&gt;</code></li></ul> <p>占位
<code>&lt;router-view&gt;&lt;/router-view&gt;</code></p> <p>vue-router通过hash与History interface两种方式实现前端路由，更新视图但不重新请求页面是前端路由原理的核心之一。</p> <ul><li>hash模式：在浏览器中符号“#”，#以及#后面的字符称之为hash，用window.location.hash读取；特点：hash虽然在URL中，但不被包括在HTTP请求中；用来指导浏览器动作，对服务端安全无用，hash不会重加载页面。</li> <li>history模式：history采用HTML5的新特性；且提供了两个新方法：pushState（），replaceState（）可以对浏览器历史记录栈进行修改，以及popState事件的监听到状态变更。</li></ul> <h4 id="vue路由的两种模式"><a href="#vue路由的两种模式" aria-hidden="true" class="header-anchor">#</a> vue路由的两种模式</h4> <p>hash模式(默认模式)——即地址栏URL中的#符号（此hsah不是密码学里的散列运算）。hash虽然出现URL中，但不会被包含在HTTP请求中，对后端完全没有影响，因此改变hash不会重新加载页面。
比如这个URL：<code>http://www.abc.com/#/hello</code>，hash的值为<code>#/hello</code>。它的特点在于：<strong>hash虽然出现在URL中，但不会被包括在HTTP请求中，对后端完全没有影响，因此改变hash不会重新加载页面</strong>。</p> <p>history模式：利用了HTML5 History Interface 中新增的pushState() 和replaceState() 方法。这两个方法应用于浏览器的历史记录站，在当前已有的back、forward、go 的基础之上，它们提供了对历史记录进行修改的功能。只是当它们执行修改时，虽然改变了当前的URL，但<strong>浏览器不会立即向后端发送请求</strong>。</p> <p>因此，可以说hash模式和history模式都属于浏览器自身的特性，Vue-Router只是利用了这两个特性（通过调用浏览器提供的接口）来实现前端路由。</p> <h4 id="history与hash路由的区别"><a href="#history与hash路由的区别" aria-hidden="true" class="header-anchor">#</a> history与hash路由的区别</h4> <p>hash 模式相比于 history 模式的优点：</p> <ol><li>兼容性更好，可以兼容到IE8</li> <li>无需服务端配合处理非单页的url地址</li></ol> <p>hash 模式相比于 history 模式的缺点：</p> <ol><li>看起来更丑。</li> <li>会导致锚点功能失效。</li> <li>相同 hash 值不会触发动作将记录加入到历史栈中，而 pushState 则可以。</li></ol> <p>一般场景下，hash 和 history 都可以，除非你更在意颜值，# 符号夹杂在 URL 里看起来确实有些不太美丽。如果不想要很丑的 hash，我们可以用路由的 history 模式，这种模式充分利用 history.pushState API 来完成URL 跳转而无须重新加载页面。</p> <p>调用 history.pushState() 相比于直接修改 hash，存在以下优势：</p> <ol><li>pushState() 设置的新 URL 可以是与当前 URL 同源的任意 URL；而 hash 只可修改 # 后面的部分，因此只能设置与当前 URL 同文档的 URL；</li> <li>pushState() 设置的新 URL 可以与当前 URL 一模一样，这样也会把记录添加到栈中；而 hash 设置的新值必须与原来不一样才会触发动作将记录添加到栈中；</li> <li>pushState() 通过 stateObject 参数可以添加任意类型的数据到记录中；而 hash 只可添加短字符串；</li> <li>pushState() 可额外设置 title 属性供后续使用。</li></ol> <p>history模式问题：在用户手动输入 URL 后回车，或者刷新（重启）浏览器的时候。</p> <ul><li>hash 模式下，仅 hash 符号之前的内容会被包含在请求中，如 http://www.abc.com，因此对于后端来说，即使没有做到对路由的全覆盖，也不会返回 404 错误。</li> <li>history 模式下，前端的 URL 必须和实际向后端发起请求的 URL 一致，如 http://www.abc.com/book/id。如果后端缺少对 /book/id 的路由处理，将返回 404 错误。Vue-Router 官网里如此描述：“不过这种模式要玩好，还需要后台配置支持……所以呢，你要在服务端增加一个覆盖所有情况的候选资源：<strong>如果URL匹配不到任何静态资源</strong>，则应该返回同一个index.html页面(<strong>nginx配置一个fallback:index.html</strong>)，这个页面就是你app依赖的页面。</li></ul> <h4 id="history问题"><a href="#history问题" aria-hidden="true" class="header-anchor">#</a> history问题</h4> <p>history在修改url 后，虽然页面并不会刷新，但<strong>在手动刷新，或通过 url 直接进入应用的时候，服务端是无法识别这个url的</strong>。因为我们是单页应用，只有一个html文件，服务端在处理其他路径的url的时候，就会出现404的情况。</p> <p>所以，如果要应用 history 模式，需要<strong>在服务端增加一个覆盖所有情况的候选资源：如果 URL 匹配不到任何静态资源，则应该返回单页应用的 html 文件</strong>。</p> <h4 id="popstate事件"><a href="#popstate事件" aria-hidden="true" class="header-anchor">#</a> popstate事件</h4> <p>当活动历史记录条目更改时，将触发popstate事件。如果被激活的历史记录条目是通过对history.pushState()的调用创建的，或者受到对history.replaceState()的调用的影响，popstate事件的state属性包含历史条目的状态对象的副本。</p> <p>每当处于激活状态的历史记录条目发生变化时,popstate事件就会在对应window对象上触发. 如果当前处于激活状态的历史记录条目是由history.pushState()方法创建,或者由history.replaceState()方法修改过的, 则popstate事件对象的state属性包含了这个历史记录条目的state对象的一个拷贝。</p> <p><strong>调用history.pushState()或者history.replaceState()不会触发popstate事件。popstate事件只会在浏览器某些行为下触发，比如点击后退、前进按钮(或者在JavaScript中调用history.back()、history.forward()、history.go()方法)</strong>。</p> <p><a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90" target="_blank" rel="noopener noreferrer">HTML5 History 模式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="webpack-dev-server配置historyapifallback"><a href="#webpack-dev-server配置historyapifallback" aria-hidden="true" class="header-anchor">#</a> webpack-dev-server配置historyApiFallback</h4> <p>之前在使用webpack做spa（单页面应用）的时候出现了404错误，原因很简单是因为刷新页面时访问的资源在服务端找不到，<strong>因为vue-router设置的路径不是真实存在的路径</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 无论是啥都匹配自己设置的首页</span>
historyApiFallback<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rewrites<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/.*/g</span><span class="token punctuation">,</span>
        to<span class="token punctuation">:</span> <span class="token string">'/page/index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_20-vue中-nextick原理和应用"><a href="#_20-vue中-nextick原理和应用" aria-hidden="true" class="header-anchor">#</a> 20. Vue中$nexTick原理和应用</h3> <p><code>$nexTick</code>是在下一次DOM更新循环结束之后执行延迟回调，在修改数据之后使用<code>$nexTick</code>，则可以在回调中获取到更新后的DOM。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 修改数据</span>
vm<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// DOM 还没有更新</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// DOM 更新了</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 作为一个 Promise 使用 (2.1.0 起新增，详见接下来的提示)</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// DOM 更新了</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>应用场景：<strong>需要在视图更新之后，基于新的视图进行操作</strong>。</p> <p>在Vue生命周期的created()钩子函数中进行DOM操作一定要放在<code>Vue.nextTick()</code>的回调函数中。原因是什么呢?</p> <p>原因在于：created()钩子函数执行的时候，<strong>DOM其实并未进行任何渲染</strong>，而此时进行DOM操作无异于徒劳，所以一定要将DOM操作的js代码放进Vue.nextTick()的回调函数中。</p> <h3 id="_21-vue生命周期的理解"><a href="#_21-vue生命周期的理解" aria-hidden="true" class="header-anchor">#</a> 21. Vue生命周期的理解</h3> <p>Vue实例从创建到销毁的过程，就是生命周期。从开始创建、初始化数据、编译模板、挂载Dom→渲染、更新→渲染、销毁等一系列过程，称之为Vue的生命周期。</p> <p>生命周期中有多个事件钩子，如下：</p> <ul><li>beforeCreate阶段（创建前）：vue实例的挂载元素el和数据对象data都是undefined，还没有初始化。</li> <li>created阶段（创建后）：创建完成，属性已经绑定，但还未生成真实dom。<strong>vue实例的数据对象data</strong>有了，可以访问里面的数据和方法，未挂载到DOM，el还没有。</li> <li>beforeMount阶段（载入前）：vue实例的el和data都初始化了，但是挂载之前为虚拟的dom节点。实例已完成以下的配置：编译模板，把data里面的数据和模板生成html。注意此时还没有挂载html到页面上。</li> <li>mounted阶段（载入后-组件已挂载）：<strong>vue实例挂载到真实DOM上</strong>，可以获取相关DOM节点。用上面编译好的html内容替换el属性指向的DOM对象。完成模板中的html渲染到html页面中。<strong>此过程中进行ajax交互</strong>。</li> <li>beforeUpdate阶段（更新前）：响应式数据更新时调用，发生在虚拟DOM打补丁之前，适合在更新之前访问现有的DOM，比如手动移除已添加的事件监听器。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程。</li> <li>updated阶段（更新后）：虚拟DOM重新渲染和打补丁之后调用，组成新的DOM已经更新，避免在这个钩子函数中操作数据，防止死循环。<strong>该钩子在服务器端渲染期间不被调用</strong>。</li> <li>beforeDestroy阶段（销毁前）：实例销毁前调用，<strong>实例还可以用</strong>，this能获取到实例，常用于销毁定时器，解绑事件</li> <li>destroyed阶段（销毁后）：实例销毁后调用，调用后所有事件监听器会被移除，所有的子实例都会被销毁。<strong>该钩子在服务器端渲染期间不被调用</strong>。</li></ul> <h4 id="哪个阶段发起ajax请求"><a href="#哪个阶段发起ajax请求" aria-hidden="true" class="header-anchor">#</a> 哪个阶段发起ajax请求</h4> <p>一般在 created 里面就可以，如果涉及到需要页面加载完成之后的操作话就用 mounted；</p> <ul><li>created 阶段的优势是：请求时间比较早，页面 loading 时间相对较短；</li> <li>mounted 阶段的优势是：页面已经渲染完成，如果想请求之后进行 DOM 操作的话，必须在 mounted 阶段发起请求；</li></ul> <p>可以在钩子函数created、beforeMount、mounted中进行调用，因为在这三个钩子函数中，data已经创建，可以将服务端返回的数据进行赋值。但是，推荐在created钩子函数中调用异步请求，因为在created钩子函数中调用异步请求有以下优点：</p> <ul><li>能更快获取到服务端数据，减少页面loading时间；</li> <li>ssr不支持beforeMount、mounted钩子函数，所以放在created中有助于一致性；</li></ul> <h4 id="在哪个阶段才能访问和操作dom"><a href="#在哪个阶段才能访问和操作dom" aria-hidden="true" class="header-anchor">#</a> 在哪个阶段才能访问和操作DOM</h4> <p>在钩子函数mounted被调用前，Vue已经将编译好的模板挂载到页面上，所以在mounted中可以访问操作DOM。</p> <h3 id="_22-route和-router的区别？"><a href="#_22-route和-router的区别？" aria-hidden="true" class="header-anchor">#</a> 22. <code>$route</code>和$router的区别？</h3> <p>$route是“路由信息对象”，包括path，params，hash，query，fullPath，matched，name等路由信息参数。
$router是“路由实例”对象包括了路由的跳转方法，钩子函数等。</p> <p>$router是VueRouter的一个对象，通过Vue.use(VueRouter)和VueRouter构造函数得到一个router的实例对象，这个对象中是一个全局的对象，他包含了所有的路由包含了许多关键的对象和属性。</p> <p>$route对象表示当前的路由信息，包含了当前 URL 解析得到的信息</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">**</span><span class="token number">1.</span>$route<span class="token punctuation">.</span>path<span class="token operator">**</span> 字符串，对应当前路由的路径，总是解析为绝对路径，如 <span class="token string">&quot;/foo/bar&quot;</span>。
<span class="token operator">**</span><span class="token number">2.</span>$route<span class="token punctuation">.</span>params<span class="token operator">**</span> 一个 key<span class="token operator">/</span>value 对象，包含了 动态片段 和 全匹配片段， 如果没有路由参数，就是一个空对象。
<span class="token operator">**</span><span class="token number">3.</span>$route<span class="token punctuation">.</span>query<span class="token operator">**</span> 一个 key<span class="token operator">/</span>value 对象，表示 <span class="token constant">URL</span> 查询参数。例如，对于路径 <span class="token operator">/</span>foo<span class="token operator">?</span>user<span class="token operator">=</span><span class="token number">1</span>，则有 $route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>user <span class="token operator">==</span> <span class="token number">1</span>， 如果没有查询参数，则是个空对象。
<span class="token operator">**</span><span class="token number">4.</span>$route<span class="token punctuation">.</span>hash<span class="token operator">**</span> 当前路由的 hash <span class="token function">值</span> <span class="token punctuation">(</span>不带 #<span class="token punctuation">)</span> ，如果没有 hash 值，则为空字符串。锚点
<span class="token operator">**</span><span class="token number">5.</span>$route<span class="token punctuation">.</span>fullPath<span class="token operator">**</span> 完成解析后的 <span class="token constant">URL</span>，包含查询参数和 hash 的完整路径。
<span class="token operator">**</span><span class="token number">6.</span>$route<span class="token punctuation">.</span>matched<span class="token operator">**</span> 数组，包含当前匹配的路径中所包含的所有片段所对应的配置参数对象。
<span class="token operator">**</span><span class="token number">7.</span>$route<span class="token punctuation">.</span>name 当前路径名字<span class="token operator">**</span>
<span class="token operator">**</span><span class="token number">8.</span>$route<span class="token punctuation">.</span>meta 路由元信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_23-对keep-aerlive的了解？"><a href="#_23-对keep-aerlive的了解？" aria-hidden="true" class="header-anchor">#</a> 23. 对keep-aerlive的了解？</h3> <p><code>keep-alive</code>是Vue内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</p> <p>通过设置<code>keep-alive</code>，可以简单理解为从页面1跳转到页面2后，然后后退到页面1，只会加载缓存中之前已经渲染好的页面1，而不会再次重新加载页面1，即不会再触发页面的created等类似的钩子函数，除非自己重新刷新该页面1。</p> <h3 id="_24-vue中常用的路由钩子函数有哪一些？"><a href="#_24-vue中常用的路由钩子函数有哪一些？" aria-hidden="true" class="header-anchor">#</a> 24. vue中常用的路由钩子函数有哪一些？</h3> <p>全局守卫：
router.beforeEach 全局前置守卫 进入路由之前
router.beforeResolve 全局解析守卫(2.5.0+) 在beforeRouteEnter调用之后调用
router.afterEach 全局后置钩子 进入路由之后</p> <p>路由组件内的守卫：
beforeRouteEnter 进入路由前
beforeRouteUpdate (2.2) 路由复用同一个组件时
beforeRouteLeave 离开当前路由时</p> <h3 id="_25-vue中常用的修饰符？"><a href="#_25-vue中常用的修饰符？" aria-hidden="true" class="header-anchor">#</a> 25. vue中常用的修饰符？</h3> <ul><li>.stop：阻止点击事件冒泡</li> <li>.prevent：阻止事件的默认行为</li> <li>.capture：添加事件侦听器时使用事件捕获模式</li> <li>.self：只当事件在该元素本身时触发回调（在其子元素上不触发）</li> <li>.once：只触发一次事件</li></ul> <h3 id="_26-vuex中的成员？对应的作用？"><a href="#_26-vuex中的成员？对应的作用？" aria-hidden="true" class="header-anchor">#</a> 26. vuex中的成员？对应的作用？</h3> <ul><li>state =&gt; 基本数据</li> <li>getters =&gt; 从基本数据派生的数据</li> <li>mutations =&gt; 提交更改数据的方法，同步！</li> <li>actions =&gt; 像一个装饰器，包裹mutations，使之可以异步。</li> <li>modules =&gt; 模块化Vuex</li></ul> <h4 id="vuex的流程"><a href="#vuex的流程" aria-hidden="true" class="header-anchor">#</a> vuex的流程</h4> <ol><li>页面通过mapAction异步提交事件到action。</li> <li>action通过commit把对应参数同步提交到mutation。</li> <li>mutation会修改state中对于的值。</li> <li>最后通过getter把对应值跑出去，在页面的计算属性中通过mapGetter来动态获取state中的值</li></ol> <h4 id="vuex有哪几种状态和属性"><a href="#vuex有哪几种状态和属性" aria-hidden="true" class="header-anchor">#</a> vuex有哪几种状态和属性</h4> <p>state: 状态中心
mutations: 更改状态
actions: 异步更改状态
getters: 获取状态
modules: 将state分成多个modules，便于管理</p> <ul><li>state中保存着共有数据，数据是响应式的</li> <li>getter可以对state进行计算操作，主要用来过滤一些数据，可以在多组件之间复用</li> <li>mutations定义的方法动态修改state中的数据，通过commit提交方法，方法必须是同步的</li> <li>actions将mutations里面处理数据的方法变成异步的，就是异步操作数据，通过store.dispatch来分发actions，把异步的方法写在actions中，通过commit提交mutations，进行修改数据。</li> <li>modules：模块化vuex</li></ul> <h3 id="_27-vue给对象新增属性页面没有响应"><a href="#_27-vue给对象新增属性页面没有响应" aria-hidden="true" class="header-anchor">#</a> 27. vue给对象新增属性页面没有响应</h3> <p>由于Vue会在初始化实例时对属性执行getter/setter转化，所以属性必须在data对象上存在才能让Vue将它转换为响应式的。Vue提供了$set方法用来触发视图更新。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            obj<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                name<span class="token punctuation">:</span> <span class="token string">'fei'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">,</span> <span class="token string">'man'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_28-如何让css只在当前组件中起作用-scoped属性作用-？"><a href="#_28-如何让css只在当前组件中起作用-scoped属性作用-？" aria-hidden="true" class="header-anchor">#</a> 28. 如何让CSS只在当前组件中起作用(scoped属性作用)？</h3> <p>在Vue文件中的style标签上有一个特殊的属性，<strong>scoped</strong>。当一个style标签拥有scoped属性时候(即<code>&lt;style lang=&quot;scss&quot; scoped&gt;</code>)，它的css样式只能用于当前的Vue组件，可以使组件的样式不相互污染。<strong>如果一个项目的所有style标签都加上了scoped属性，相当于实现了样式的模块化</strong>。</p> <p>scoped属性的实现原理是：给每一个dom元素添加了一个独一无二的动态属性，给css选择器额外添加一个对应的属性选择器，来选择组件中的dom。</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">&lt;template&gt;
    &lt;div class=&quot;box&quot;&gt;dom&lt;/div&gt;
&lt;/template&gt;
&lt;style lang=&quot;scss&quot; scoped&gt;
.box</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>vue将代码转译成如下：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box[data-v-11c6864c]</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
&lt;template&gt;
    &lt;div class=<span class="token string">&quot;box&quot;</span> data-v-11c6864c&gt;dom&lt;/div&gt;
&lt;/template&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_29-实现scoped样式穿透"><a href="#_29-实现scoped样式穿透" aria-hidden="true" class="header-anchor">#</a> 29. 实现scoped<strong>样式穿透</strong></h3> <p>scoped虽然避免了组件间样式污染，但是很多时候我们需要修改组件中的某个样式，但是又不想去除scoped属性。<strong>即设置了scoped属性的style标签是无法进行全局样式的修改的</strong>。</p> <ul><li>scss样式穿透：<code>父元素 /deep/ 子元素</code>；</li> <li>stylus样式穿透：
<ul><li>方式1：<code>父元素 /deep/ 子元素</code>；</li> <li>方式2：<code>父元素 &gt;&gt;&gt; 子元素</code>；</li></ul></li></ul> <ol><li>使用<code>/deep/</code></li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>// Parent
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.wrap /deep/ .box</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>使用两个style标签</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>// Parent
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
// 其他样式
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.wrap .box</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_30-ref的作用"><a href="#_30-ref的作用" aria-hidden="true" class="header-anchor">#</a> 30. ref的作用</h3> <ul><li>获取dom元素this.$refs.box</li> <li>获取子组件中的data：this.$refs.box.msg</li> <li>调用子组件中的方法this.$refs.box.open()</li></ul> <h3 id="_31-vue-loader的作用"><a href="#_31-vue-loader的作用" aria-hidden="true" class="header-anchor">#</a> 31. vue-loader的作用</h3> <p>vue-loader是解析<code>.vue</code>结尾文件的加载器，将template/js/style等组成的<code>.vue</code>文件转换为js模块。</p> <h3 id="_32-v-if和v-for哪个优先级更高？如果两个同时出现，应该如何优化得到更好的性能？"><a href="#_32-v-if和v-for哪个优先级更高？如果两个同时出现，应该如何优化得到更好的性能？" aria-hidden="true" class="header-anchor">#</a> 32. v-if和v-for哪个优先级更高？如果两个同时出现，应该如何优化得到更好的性能？</h3> <p>结论：</p> <ol><li>v-for优先于v-if(源码中也是这样判断的)</li> <li>如果同时出现，每次渲染都会先执行循环再判断条件，无论如何循环都不可避免，浪费性能</li> <li>可以通过在循环外层嵌套template，在这一层进行v-if判断，然后在内部进行v-for循环
源码中找对应的答案：<code>compiler/codegen/index.js</code>。</li></ol> <p>情况1：当v-if和v-for同时出现在一个标签中时</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;child in childList&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>child<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _vm <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">var</span> _h <span class="token operator">=</span> _vm<span class="token punctuation">.</span>$createElement
  <span class="token keyword">var</span> _c <span class="token operator">=</span> _vm<span class="token punctuation">.</span>_self<span class="token punctuation">.</span>_c <span class="token operator">||</span> _h
  <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span>
    <span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> staticClass<span class="token punctuation">:</span> <span class="token string">&quot;about&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&quot;h1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>_vm<span class="token punctuation">.</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;This is an about page&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      _vm<span class="token punctuation">.</span><span class="token function">_l</span><span class="token punctuation">(</span>_vm<span class="token punctuation">.</span>childList<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> _vm<span class="token punctuation">.</span>isShow <span class="token operator">?</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>_vm<span class="token punctuation">.</span><span class="token function">_v</span><span class="token punctuation">(</span>_vm<span class="token punctuation">.</span><span class="token function">_s</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> _vm<span class="token punctuation">.</span><span class="token function">_e</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">2</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>上述代码中：<code>_vm._l</code>就是v-for循环，<code>_vm.isShow</code>是在循环内部的，因此，当v-if和v-for同时出现在一个标签中时，v-for的优先级是高于v-if的。
情况2：当v-if所在标签包括v-for所在标签时</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;child in childList&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>child<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _vm <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">var</span> _h <span class="token operator">=</span> _vm<span class="token punctuation">.</span>$createElement
  <span class="token keyword">var</span> _c <span class="token operator">=</span> _vm<span class="token punctuation">.</span>_self<span class="token punctuation">.</span>_c <span class="token operator">||</span> _h
  <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span>
    <span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> staticClass<span class="token punctuation">:</span> <span class="token string">&quot;about&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&quot;h1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>_vm<span class="token punctuation">.</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;This is an about page&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      _vm<span class="token punctuation">.</span>isShow
        <span class="token operator">?</span> _vm<span class="token punctuation">.</span><span class="token function">_l</span><span class="token punctuation">(</span>_vm<span class="token punctuation">.</span>childList<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>_vm<span class="token punctuation">.</span><span class="token function">_v</span><span class="token punctuation">(</span>_vm<span class="token punctuation">.</span><span class="token function">_s</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">:</span> _vm<span class="token punctuation">.</span><span class="token function">_e</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">2</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>从上述代码可以看出，先进行<code>_vm.isShow</code>判断，然后根据判断结果是否执行<code>_vm._l</code>。
源码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;about&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>This is an about page<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;child in childList&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>child<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;child in childList&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>child<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      childList<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'lisi'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'wangwu'</span><span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">isShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childList <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childList<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印渲染函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="_33-了解哪些vue性能优化方法？"><a href="#_33-了解哪些vue性能优化方法？" aria-hidden="true" class="header-anchor">#</a> 33. 了解哪些Vue性能优化方法？</h3> <ul><li>路由懒加载</li> <li>keep-alive缓存页面</li> <li>使用v-show复用DOM</li> <li>v-for遍历避免同时使用v-if
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308221529.png?raw=true" alt=""></li> <li>长列表性能优化
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308221942.png?raw=true" alt=""> <img src="https://github.com/liujie2019/static_data/blob/master/img/20200308222017.png?raw=true" alt=""></li> <li>事件的销毁
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308222115.png?raw=true" alt=""></li> <li>图片懒加载(使用vue-lazyload库)</li> <li>第三方插件按需引入
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308222328.png?raw=true" alt=""></li> <li>无状态的组件标记为函数式组件
<img src="https://github.com/liujie2019/static_data/blob/master/img/20200308222438.png?raw=true" alt=""></li> <li>子组件分割</li> <li>变量本地化</li> <li>SSR</li></ul> <h3 id="_34-对vue3-0的新特性有没有了解"><a href="#_34-对vue3-0的新特性有没有了解" aria-hidden="true" class="header-anchor">#</a> 34. 对Vue3.0的新特性有没有了解</h3> <ul><li>更快
<ul><li>虚拟DOM重写</li> <li>优化slots的生成</li> <li>静态树提升</li> <li>静态属性提升</li> <li>基于Proxy的响应式系统</li></ul></li> <li>更小：通过摇树优化核心库体积</li> <li>更容易维护：TypeScript + 模块化</li> <li>更加友好
<ul><li>跨平台：编译器核心和运行时核心与平台无关，使得Vue更容易与任何平台(Web、Android、IOS)一起使用</li></ul></li> <li>更容易使用
<ul><li>改进的TypeScript支持，编辑器能提供强有力的类型检查和错误及警告</li> <li>更好的调试支持</li> <li>独立的响应化模块</li> <li>Composition API</li></ul></li></ul> <h3 id="_35-vue-router守卫"><a href="#_35-vue-router守卫" aria-hidden="true" class="header-anchor">#</a> 35. vue-router守卫</h3> <p>导航守卫 router.beforeEach 全局前置守卫</p> <ul><li>to: Route: 即将要进入的目标（路由对象）</li> <li>from: Route: 当前导航正要离开的路由</li> <li>next: Function: 一定要调用该方法来 resolve 这个钩子。（一定要用这个函数才能去到下一个路由，如果不用就拦截）
执行效果依赖 next 方法的调用参数。</li> <li>next(): 进行管道中的下一个钩子。如果全部钩子执行完了，则导航的状态就是 confirmed (确认的)。</li> <li>next(false): 取消进入路由，url地址重置为from路由地址(也就是将要离开的路由地址)。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js 入口文件</span>
    <span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span><span class="token punctuation">;</span> <span class="token comment">// 引入路由</span>
    router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    router<span class="token punctuation">.</span><span class="token function">beforeResolve</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach 全局后置钩子'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>路由独享的守卫 你可以在路由配置上直接定义 beforeEnter 守卫</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Foo<span class="token punctuation">,</span>
      <span class="token function-variable function">beforeEnter</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>组件内的守卫 你可以在路由组件内直接定义以下路由导航守卫</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在渲染该组件的对应路由被 confirm 前调用</span>
    <span class="token comment">// 不！能！获取组件实例 `this`</span>
    <span class="token comment">// 因为当守卫执行前，组件实例还没被创建</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在当前路由改变，但是该组件被复用时调用</span>
    <span class="token comment">// 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，</span>
    <span class="token comment">// 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span>
    <span class="token comment">// 可以访问组件实例 `this`</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 导航离开该组件的对应路由时调用，我们用它来禁止用户离开</span>
    <span class="token comment">// 可以访问组件实例 `this`</span>
    <span class="token comment">// 比如还未保存草稿，或者在用户离开前，</span>
    将setInterval销毁，防止离开之后，定时器还在调用。
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_36-vue项目中的性能优化"><a href="#_36-vue项目中的性能优化" aria-hidden="true" class="header-anchor">#</a> 36. vue项目中的性能优化</h3> <ol><li>不要在模板里面写过多表达式</li> <li>循环调用子组件时添加key</li> <li>频繁切换的使用v-show，不频繁切换的使用v-if</li> <li>尽量少用float，可以用flex</li> <li>按需加载，可以用require或者import()按需加载需要的组件</li> <li>路由懒加载</li></ol> <h3 id="_37-vue-extend和vue-component"><a href="#_37-vue-extend和vue-component" aria-hidden="true" class="header-anchor">#</a> 37. vue.extend和vue.component</h3> <p>extend
是构造一个组件的语法器。
然后这个组件你可以作用到Vue.component这个全局注册方法里
还可以在任意vue模板里使用组件。
也可以作用到vue实例或者某个组件中的components属性中并在内部使用apple组件。
Vue.component
你可以创建 ，也可以取组件。</p> <h3 id="_38-spa项目如何优化加载速度"><a href="#_38-spa项目如何优化加载速度" aria-hidden="true" class="header-anchor">#</a> 38. SPA项目如何优化加载速度</h3> <ol><li>减少入口文件体积</li> <li>静态资源本地缓存</li> <li>开启Gzip压缩</li> <li>使用SSR，nuxt.js</li></ol> <h2 id="react"><a href="#react" aria-hidden="true" class="header-anchor">#</a> React</h2> <h3 id="react和vue的区别"><a href="#react和vue的区别" aria-hidden="true" class="header-anchor">#</a> React和Vue的区别</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   <span class="token operator">=&gt;</span>  相同点：
	<span class="token number">1.</span>数据驱动页面，提供响应式的试图组件
	<span class="token number">2.</span>都有virtual <span class="token constant">DOM</span><span class="token punctuation">,</span>组件化的开发，通过props参数进行父子之间组件传递数据，都实现了webComponents规范
	<span class="token number">3.</span>数据流动单向，都支持服务器的渲染<span class="token constant">SSR</span>
	<span class="token number">4.</span>都有支持native的方法，react有React native， <span class="token parameter">vue有weex</span>
<span class="token operator">=&gt;</span>  不同点：
	<span class="token number">1.</span>数据绑定：Vue实现了双向的数据绑定，react数据流动是单向的
	<span class="token number">2.</span>数据渲染：大规模的数据渲染，react更快
	<span class="token number">3.</span>使用场景：React配合Redux架构适合大规模多人协作复杂项目，Vue适合小快的项目
	<span class="token number">4.</span>开发风格：react推荐做法jsx <span class="token operator">+</span> inline style把html和css都写在js了
		    vue是采用webpack <span class="token operator">+</span> vue<span class="token operator">-</span>loader单文件组件格式，html<span class="token punctuation">,</span> js<span class="token punctuation">,</span> css同一个文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>相同点：都支持 ssr，都有 vdom，组件化开发，实现 webComponents 规范，数据驱动等
不同点：vue 是双向数据流（当然为了实现单数据流方便管理组件状态，vuex 便出现了），react 是单向数据流。vue 的 vdom 是追踪每个组件的依赖关系，不会渲染整个组件树，react 每当应该状态被改变时，全部子组件都会 re-render。</p> <h3 id="setstate"><a href="#setstate" aria-hidden="true" class="header-anchor">#</a> setState</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>setState通过一个队列机制实现state更新，当执行setState时，会将需要更新的state很后放入状态队列
而不会立即更新<span class="token keyword">this</span><span class="token punctuation">.</span>state，队列机制可以高效地批量更新state。如果不通过setState而直接修改<span class="token keyword">this</span><span class="token punctuation">.</span>state的值
那么该state将不会被放入状态队列中。当下次调用setState并对状态队列进行合并时，就会忽略之前修改的state，造成不可预知的错误

同时，也利用了队列机制实现了setState的异步更新，避免了频繁的重复更新state

同步更新state<span class="token punctuation">:</span>
	setState 函数并不会阻塞等待状态更新完毕，因此 setNetworkActivityIndicatorVisible 有可能先于数据渲染完毕就执行。
	第二个参数是一个回调函数，在setState的异步操作结束并且组件已经重新渲染的时候执行
	也就是说，我们可以通过这个回调来拿到更新的state的值，实现代码的同步

<span class="token function">例子：componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://test.com'</span><span class="token punctuation">)</span>

	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			StatusBar<span class="token punctuation">.</span><span class="token function">setNetworkActivityIndicatorVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="diff算法"><a href="#diff算法" aria-hidden="true" class="header-anchor">#</a> diff算法</h3> <p>三个大步骤：</p> <ul><li>虚拟节点类，将真实DOM节点用<strong>js 对象</strong>的形式进行展示，并提供render方法，将虚拟节点渲染成真实 DOM</li> <li>节点 diff 比较：对虚拟节点进行 js 层面的计算，并将不同的操作都记录到 patch 对象</li> <li>re-render：解析 patch 对象，进行 re-render</li></ul> <p>1.把树形结构按照层级分解，只比较同级元素
2.给列表结构的每个单元添加key属性，方便比较。在实际代码中，会对新旧两棵树进行一个深度优先的遍历，这样每个节点都会有一个标记
3.在深度优先遍历的时候，每遍历到一个节点就把该节点和新的树进行对比。如果有差异的话就记录到一个对象里面
Vritual DOM 算法主要实现上面步骤的三个函数：element， diff， patch。然后就可以实际的进行使用
react只会匹配相同的class的component（这里的class指的是组件的名字）
合并操作，条用component的setState方法的时候，React将其标记为dirty.到每一个时间循环借宿，React检查所有标记dirty的component重新绘制
4.选择性子树渲染。可以重写shouldComponentUpdate提高diff的性能</p> <p><a href="https://zhuanlan.zhihu.com/p/27437595" target="_blank" rel="noopener noreferrer">Virtual Dom &amp;&amp; Diff<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="vdom-的必要性？"><a href="#vdom-的必要性？" aria-hidden="true" class="header-anchor">#</a> VDOM 的必要性？</h4> <p>在进行diff算法之前，会先将真实DOM节点转换为虚拟DOM。</p> <ol><li>创建真实DOM的代价高：真实的 DOM 节点 node 实现的属性很多，而 vnode 仅仅实现一些必要的属性，相比起来，创建一个 vnode 的成本比较低。</li> <li>触发多次浏览器重绘及回流：使用vnode，相当于加了一个缓冲，让一次数据变动所带来的所有 node 变化，先在 vnode 中进行修改，然后 diff 之后对所有产生差异的节点集中一次对 DOM tree 进行修改，以减少浏览器的重绘及回流。</li></ol> <h3 id="为什么虚拟dom会提高性能"><a href="#为什么虚拟dom会提高性能" aria-hidden="true" class="header-anchor">#</a> 为什么虚拟DOM会提高性能</h3> <p>虚拟DOM相当于在js和真实dom中间加了一个缓存，利用dom diff算法避免了没有必要的doom操作，从而提高性能
具体实现步骤：</p> <ul><li>用JavaScript对象结构表示DOM树的结构；然后用这个树构建一个真正的DOM树，插到文档中</li> <li>当状态变更的时候，重新构造一棵树的对象树，然后用新的树和旧的树进行对比，记录两棵树差异</li> <li>把2所记录的差异应用到步骤1所构建的真正的DOM树上，视图就更新了。</li></ul> <p><a href="https://www.zhihu.com/question/29504639?sort=created" target="_blank" rel="noopener noreferrer">如何理解虚拟DOM?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="参考文档"><a href="#参考文档" aria-hidden="true" class="header-anchor">#</a> 参考文档</h2> <ol><li><a href="https://juejin.im/post/5d421bcf6fb9a06af23853f1" target="_blank" rel="noopener noreferrer">0 到 1 掌握：Vue 核心之数据双向绑定<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5e649e3e5188252c06113021#heading-16" target="_blank" rel="noopener noreferrer">20+Vue面试题整理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/liujie2019/VuePress-Blog/edit/master/docs/interview/06.框架相关.md" target="_blank" rel="noopener noreferrer">查看原文 | 在GitHub上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-07-18 02:54:37</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview/05.ES6基础知识汇总.html" class="prev">5. ES6基础知识点汇总</a></span> <span class="next"><a href="/interview/07.HTTP知识总结.html">7. HTTP知识点汇总</a>→
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.c2739f0d.js" defer></script><script src="/assets/js/2.fd8d7b4d.js" defer></script><script src="/assets/js/19.a4378585.js" defer></script><script src="/assets/js/29.03c53af3.js" defer></script>
  </body>
</html>
