<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5. 正则总结 | 砥砺前行</title>
    <meta name="description" content="Stay hungry，Stay foolish">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.718111f3.css" as="style"><link rel="preload" href="/assets/js/app.c2739f0d.js" as="script"><link rel="preload" href="/assets/js/2.fd8d7b4d.js" as="script"><link rel="preload" href="/assets/js/5.83bd2558.js" as="script"><link rel="preload" href="/assets/js/29.03c53af3.js" as="script"><link rel="prefetch" href="/assets/js/10.da3108ea.js"><link rel="prefetch" href="/assets/js/100.67a883ce.js"><link rel="prefetch" href="/assets/js/101.3bacadc1.js"><link rel="prefetch" href="/assets/js/102.39233cbd.js"><link rel="prefetch" href="/assets/js/103.7443483a.js"><link rel="prefetch" href="/assets/js/104.67980602.js"><link rel="prefetch" href="/assets/js/105.74a6cc40.js"><link rel="prefetch" href="/assets/js/106.5f5c004f.js"><link rel="prefetch" href="/assets/js/107.ee0c71a5.js"><link rel="prefetch" href="/assets/js/108.d9584ccd.js"><link rel="prefetch" href="/assets/js/109.c3cafe46.js"><link rel="prefetch" href="/assets/js/11.b84d7d32.js"><link rel="prefetch" href="/assets/js/110.8450e818.js"><link rel="prefetch" href="/assets/js/111.5b7e7ede.js"><link rel="prefetch" href="/assets/js/112.c9d6d4ca.js"><link rel="prefetch" href="/assets/js/113.7ad6cc7d.js"><link rel="prefetch" href="/assets/js/114.a7526e87.js"><link rel="prefetch" href="/assets/js/115.befcefa7.js"><link rel="prefetch" href="/assets/js/116.a505bc90.js"><link rel="prefetch" href="/assets/js/117.17001fe4.js"><link rel="prefetch" href="/assets/js/118.b0389afa.js"><link rel="prefetch" href="/assets/js/119.c2ed753a.js"><link rel="prefetch" href="/assets/js/12.3c941db7.js"><link rel="prefetch" href="/assets/js/120.91c7ec2a.js"><link rel="prefetch" href="/assets/js/121.441a3952.js"><link rel="prefetch" href="/assets/js/122.1467c2d8.js"><link rel="prefetch" href="/assets/js/123.52f7b868.js"><link rel="prefetch" href="/assets/js/124.4dc070e2.js"><link rel="prefetch" href="/assets/js/125.c88f9a64.js"><link rel="prefetch" href="/assets/js/126.8ed7a3b3.js"><link rel="prefetch" href="/assets/js/127.cc3d0412.js"><link rel="prefetch" href="/assets/js/128.f124681d.js"><link rel="prefetch" href="/assets/js/129.a906eb9a.js"><link rel="prefetch" href="/assets/js/13.526e0105.js"><link rel="prefetch" href="/assets/js/130.4c234e18.js"><link rel="prefetch" href="/assets/js/131.db0f782e.js"><link rel="prefetch" href="/assets/js/132.f43fc74d.js"><link rel="prefetch" href="/assets/js/133.c84d2c2d.js"><link rel="prefetch" href="/assets/js/134.7d555c41.js"><link rel="prefetch" href="/assets/js/135.13836bf9.js"><link rel="prefetch" href="/assets/js/136.7a354be1.js"><link rel="prefetch" href="/assets/js/137.2c51e755.js"><link rel="prefetch" href="/assets/js/138.f249c06b.js"><link rel="prefetch" href="/assets/js/139.968b10de.js"><link rel="prefetch" href="/assets/js/14.febc7306.js"><link rel="prefetch" href="/assets/js/140.41dbeb42.js"><link rel="prefetch" href="/assets/js/141.9c495b21.js"><link rel="prefetch" href="/assets/js/142.ff512f1d.js"><link rel="prefetch" href="/assets/js/143.03c629eb.js"><link rel="prefetch" href="/assets/js/144.6a6e7823.js"><link rel="prefetch" href="/assets/js/145.23393fef.js"><link rel="prefetch" href="/assets/js/146.26221a77.js"><link rel="prefetch" href="/assets/js/147.87c76c63.js"><link rel="prefetch" href="/assets/js/148.3eefdf63.js"><link rel="prefetch" href="/assets/js/149.9f0152ae.js"><link rel="prefetch" href="/assets/js/15.053966fe.js"><link rel="prefetch" href="/assets/js/150.1d1bcf63.js"><link rel="prefetch" href="/assets/js/151.c48d6620.js"><link rel="prefetch" href="/assets/js/152.13fa8ce6.js"><link rel="prefetch" href="/assets/js/153.c20f5a74.js"><link rel="prefetch" href="/assets/js/154.d13e9b75.js"><link rel="prefetch" href="/assets/js/155.ec85dcda.js"><link rel="prefetch" href="/assets/js/156.b6ca8381.js"><link rel="prefetch" href="/assets/js/157.d788f2b8.js"><link rel="prefetch" href="/assets/js/158.139f4a19.js"><link rel="prefetch" href="/assets/js/159.b74e2655.js"><link rel="prefetch" href="/assets/js/16.11c5c1b1.js"><link rel="prefetch" href="/assets/js/160.9a6d3f50.js"><link rel="prefetch" href="/assets/js/161.92650050.js"><link rel="prefetch" href="/assets/js/162.a72dff28.js"><link rel="prefetch" href="/assets/js/163.fa57e123.js"><link rel="prefetch" href="/assets/js/164.78e761f7.js"><link rel="prefetch" href="/assets/js/165.20f19016.js"><link rel="prefetch" href="/assets/js/166.a4fd5c3e.js"><link rel="prefetch" href="/assets/js/167.75575276.js"><link rel="prefetch" href="/assets/js/168.e145208a.js"><link rel="prefetch" href="/assets/js/169.435f50da.js"><link rel="prefetch" href="/assets/js/17.5201d689.js"><link rel="prefetch" href="/assets/js/170.244210dd.js"><link rel="prefetch" href="/assets/js/171.a78dfe3b.js"><link rel="prefetch" href="/assets/js/172.4df4d58e.js"><link rel="prefetch" href="/assets/js/173.d552ef15.js"><link rel="prefetch" href="/assets/js/174.97873065.js"><link rel="prefetch" href="/assets/js/175.ed7e4b07.js"><link rel="prefetch" href="/assets/js/176.0de278ca.js"><link rel="prefetch" href="/assets/js/177.55576f41.js"><link rel="prefetch" href="/assets/js/178.e990e347.js"><link rel="prefetch" href="/assets/js/179.e702b656.js"><link rel="prefetch" href="/assets/js/18.cc72ab49.js"><link rel="prefetch" href="/assets/js/180.f6d9473e.js"><link rel="prefetch" href="/assets/js/181.1ee11ad2.js"><link rel="prefetch" href="/assets/js/182.b0767d83.js"><link rel="prefetch" href="/assets/js/183.ec7fb558.js"><link rel="prefetch" href="/assets/js/184.d84c6f29.js"><link rel="prefetch" href="/assets/js/185.3e88a3ce.js"><link rel="prefetch" href="/assets/js/186.f3c9b254.js"><link rel="prefetch" href="/assets/js/187.6d686e40.js"><link rel="prefetch" href="/assets/js/188.6dbbee5a.js"><link rel="prefetch" href="/assets/js/189.0baaccdd.js"><link rel="prefetch" href="/assets/js/19.a4378585.js"><link rel="prefetch" href="/assets/js/190.a9603823.js"><link rel="prefetch" href="/assets/js/191.04c4f3a2.js"><link rel="prefetch" href="/assets/js/192.e05b35f8.js"><link rel="prefetch" href="/assets/js/193.38f3b579.js"><link rel="prefetch" href="/assets/js/194.da6a76c7.js"><link rel="prefetch" href="/assets/js/195.4e428a49.js"><link rel="prefetch" href="/assets/js/196.afe44b88.js"><link rel="prefetch" href="/assets/js/197.523ceb84.js"><link rel="prefetch" href="/assets/js/198.f56f4750.js"><link rel="prefetch" href="/assets/js/199.08eaf3d5.js"><link rel="prefetch" href="/assets/js/20.186842d4.js"><link rel="prefetch" href="/assets/js/200.be743fec.js"><link rel="prefetch" href="/assets/js/201.57e24f9e.js"><link rel="prefetch" href="/assets/js/202.368a2898.js"><link rel="prefetch" href="/assets/js/203.a5e566d1.js"><link rel="prefetch" href="/assets/js/204.8f87525f.js"><link rel="prefetch" href="/assets/js/205.85b66555.js"><link rel="prefetch" href="/assets/js/206.5896f019.js"><link rel="prefetch" href="/assets/js/207.741e52ca.js"><link rel="prefetch" href="/assets/js/208.53af3b6c.js"><link rel="prefetch" href="/assets/js/209.92d59fab.js"><link rel="prefetch" href="/assets/js/21.db4b44a5.js"><link rel="prefetch" href="/assets/js/210.7e69c4c4.js"><link rel="prefetch" href="/assets/js/211.1e397264.js"><link rel="prefetch" href="/assets/js/212.12376fd9.js"><link rel="prefetch" href="/assets/js/213.7fa2e3af.js"><link rel="prefetch" href="/assets/js/214.b8d20041.js"><link rel="prefetch" href="/assets/js/215.f6d2eb34.js"><link rel="prefetch" href="/assets/js/216.741a20bd.js"><link rel="prefetch" href="/assets/js/217.ecf73230.js"><link rel="prefetch" href="/assets/js/218.322edf0c.js"><link rel="prefetch" href="/assets/js/219.44146753.js"><link rel="prefetch" href="/assets/js/22.48bc71dd.js"><link rel="prefetch" href="/assets/js/220.f862f514.js"><link rel="prefetch" href="/assets/js/221.997f25f7.js"><link rel="prefetch" href="/assets/js/222.fc54bcbd.js"><link rel="prefetch" href="/assets/js/223.fd2fd4e7.js"><link rel="prefetch" href="/assets/js/224.67908e13.js"><link rel="prefetch" href="/assets/js/225.8eba032f.js"><link rel="prefetch" href="/assets/js/226.8a42d999.js"><link rel="prefetch" href="/assets/js/227.3eb98c4c.js"><link rel="prefetch" href="/assets/js/228.bcdc3b25.js"><link rel="prefetch" href="/assets/js/229.a3d52cd4.js"><link rel="prefetch" href="/assets/js/23.d6967120.js"><link rel="prefetch" href="/assets/js/230.f23cd2e4.js"><link rel="prefetch" href="/assets/js/231.9bdf0e40.js"><link rel="prefetch" href="/assets/js/232.2f12f1e7.js"><link rel="prefetch" href="/assets/js/233.f0733f2e.js"><link rel="prefetch" href="/assets/js/234.b178c9bc.js"><link rel="prefetch" href="/assets/js/235.35628e21.js"><link rel="prefetch" href="/assets/js/236.df116729.js"><link rel="prefetch" href="/assets/js/237.f1381c37.js"><link rel="prefetch" href="/assets/js/238.8313d86e.js"><link rel="prefetch" href="/assets/js/239.8a7706c8.js"><link rel="prefetch" href="/assets/js/24.7389deb5.js"><link rel="prefetch" href="/assets/js/240.10559cab.js"><link rel="prefetch" href="/assets/js/241.3496b2af.js"><link rel="prefetch" href="/assets/js/242.ce42e1c8.js"><link rel="prefetch" href="/assets/js/243.03fa6a36.js"><link rel="prefetch" href="/assets/js/244.8b5b81e5.js"><link rel="prefetch" href="/assets/js/245.af03337c.js"><link rel="prefetch" href="/assets/js/246.886ba71c.js"><link rel="prefetch" href="/assets/js/247.0322fa45.js"><link rel="prefetch" href="/assets/js/248.ca7b4c74.js"><link rel="prefetch" href="/assets/js/249.6a20a5fc.js"><link rel="prefetch" href="/assets/js/25.65e19f51.js"><link rel="prefetch" href="/assets/js/250.89bc5046.js"><link rel="prefetch" href="/assets/js/251.cdbf3ff2.js"><link rel="prefetch" href="/assets/js/252.492911cd.js"><link rel="prefetch" href="/assets/js/253.38d507a6.js"><link rel="prefetch" href="/assets/js/254.58298afa.js"><link rel="prefetch" href="/assets/js/255.7b68ffd4.js"><link rel="prefetch" href="/assets/js/256.13359a56.js"><link rel="prefetch" href="/assets/js/257.148d21ee.js"><link rel="prefetch" href="/assets/js/26.9e01c3c6.js"><link rel="prefetch" href="/assets/js/27.a8c6418a.js"><link rel="prefetch" href="/assets/js/28.7fceae21.js"><link rel="prefetch" href="/assets/js/3.b732fc70.js"><link rel="prefetch" href="/assets/js/30.0a3af1db.js"><link rel="prefetch" href="/assets/js/31.012abf40.js"><link rel="prefetch" href="/assets/js/32.b5accef7.js"><link rel="prefetch" href="/assets/js/33.331fc1ef.js"><link rel="prefetch" href="/assets/js/34.8f3b1537.js"><link rel="prefetch" href="/assets/js/35.0a02b86a.js"><link rel="prefetch" href="/assets/js/36.1813f5a1.js"><link rel="prefetch" href="/assets/js/37.5880bc8e.js"><link rel="prefetch" href="/assets/js/38.72e3bf6a.js"><link rel="prefetch" href="/assets/js/39.aba6807f.js"><link rel="prefetch" href="/assets/js/4.c269f2f9.js"><link rel="prefetch" href="/assets/js/40.58bbe976.js"><link rel="prefetch" href="/assets/js/41.437fbef8.js"><link rel="prefetch" href="/assets/js/42.9cca5be4.js"><link rel="prefetch" href="/assets/js/43.a18fe210.js"><link rel="prefetch" href="/assets/js/44.009c5209.js"><link rel="prefetch" href="/assets/js/45.bb4bc150.js"><link rel="prefetch" href="/assets/js/46.5c8c01b0.js"><link rel="prefetch" href="/assets/js/47.78acc2cb.js"><link rel="prefetch" href="/assets/js/48.3b552c56.js"><link rel="prefetch" href="/assets/js/49.a0206703.js"><link rel="prefetch" href="/assets/js/50.3c00c5f4.js"><link rel="prefetch" href="/assets/js/51.c0cabdda.js"><link rel="prefetch" href="/assets/js/52.6dfb647e.js"><link rel="prefetch" href="/assets/js/53.f5ba32bd.js"><link rel="prefetch" href="/assets/js/54.31f728cb.js"><link rel="prefetch" href="/assets/js/55.101847bb.js"><link rel="prefetch" href="/assets/js/56.ec897929.js"><link rel="prefetch" href="/assets/js/57.dccd7ae5.js"><link rel="prefetch" href="/assets/js/58.c3831a30.js"><link rel="prefetch" href="/assets/js/59.056663c0.js"><link rel="prefetch" href="/assets/js/6.89468a4d.js"><link rel="prefetch" href="/assets/js/60.7f836f89.js"><link rel="prefetch" href="/assets/js/61.2549e4ff.js"><link rel="prefetch" href="/assets/js/62.8f073b3b.js"><link rel="prefetch" href="/assets/js/63.a5c807d2.js"><link rel="prefetch" href="/assets/js/64.6aa077b2.js"><link rel="prefetch" href="/assets/js/65.4f068940.js"><link rel="prefetch" href="/assets/js/66.f66784c3.js"><link rel="prefetch" href="/assets/js/67.1a4f1a45.js"><link rel="prefetch" href="/assets/js/68.0473bb47.js"><link rel="prefetch" href="/assets/js/69.9367fa27.js"><link rel="prefetch" href="/assets/js/7.5da70ec5.js"><link rel="prefetch" href="/assets/js/70.9a44c62c.js"><link rel="prefetch" href="/assets/js/71.07364a28.js"><link rel="prefetch" href="/assets/js/72.ce0eea8f.js"><link rel="prefetch" href="/assets/js/73.e4590a8f.js"><link rel="prefetch" href="/assets/js/74.ac831ede.js"><link rel="prefetch" href="/assets/js/75.f5d88311.js"><link rel="prefetch" href="/assets/js/76.8363320f.js"><link rel="prefetch" href="/assets/js/77.36d7f80a.js"><link rel="prefetch" href="/assets/js/78.f151fe46.js"><link rel="prefetch" href="/assets/js/79.7eb5e29c.js"><link rel="prefetch" href="/assets/js/8.c5ba852e.js"><link rel="prefetch" href="/assets/js/80.43907670.js"><link rel="prefetch" href="/assets/js/81.800f11e4.js"><link rel="prefetch" href="/assets/js/82.a97ca1d7.js"><link rel="prefetch" href="/assets/js/83.1801fbf1.js"><link rel="prefetch" href="/assets/js/84.f79b7088.js"><link rel="prefetch" href="/assets/js/85.d5e69a1e.js"><link rel="prefetch" href="/assets/js/86.f5f948c9.js"><link rel="prefetch" href="/assets/js/87.377736f7.js"><link rel="prefetch" href="/assets/js/88.666132e6.js"><link rel="prefetch" href="/assets/js/89.3ffee588.js"><link rel="prefetch" href="/assets/js/9.a9be74d1.js"><link rel="prefetch" href="/assets/js/90.8870b432.js"><link rel="prefetch" href="/assets/js/91.161389bc.js"><link rel="prefetch" href="/assets/js/92.9eee2b04.js"><link rel="prefetch" href="/assets/js/93.33330e58.js"><link rel="prefetch" href="/assets/js/94.7c5f8c9f.js"><link rel="prefetch" href="/assets/js/95.dcaaa597.js"><link rel="prefetch" href="/assets/js/96.eadc40dd.js"><link rel="prefetch" href="/assets/js/97.d1c2f241.js"><link rel="prefetch" href="/assets/js/98.0b0e21b3.js"><link rel="prefetch" href="/assets/js/99.76ac6e42.js">
    <link rel="stylesheet" href="/assets/css/0.styles.718111f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">砥砺前行</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript/" class="nav-link">重学JS基础</a></li><li class="dropdown-item"><!----> <a href="/frontend/jsTopic/" class="nav-link">JS专题</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">React全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">Vue全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/babel/" class="nav-link">Babel</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack4/" class="nav-link">Webpack4配置实战</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">每天学点typescript</a></li><li class="dropdown-item"><!----> <a href="/frontend/web/" class="nav-link">浏览器相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/backend/koa/" class="nav-link">Koa</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/backend/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/backend/http/" class="nav-link">HTTP协议</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">前端杂谈</a></div><div class="nav-item"><a href="/interview/" class="nav-link">每日一题</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/more/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/liujie2019/VuePress-Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/javascript/" class="nav-link">重学JS基础</a></li><li class="dropdown-item"><!----> <a href="/frontend/jsTopic/" class="nav-link">JS专题</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">React全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">Vue全家桶</a></li><li class="dropdown-item"><!----> <a href="/frontend/babel/" class="nav-link">Babel</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack4/" class="nav-link">Webpack4配置实战</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">每天学点typescript</a></li><li class="dropdown-item"><!----> <a href="/frontend/web/" class="nav-link">浏览器相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">服务端积累</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/backend/koa/" class="nav-link">Koa</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/backend/mongodb/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">Nginx</a></li><li class="dropdown-item"><!----> <a href="/backend/http/" class="nav-link">HTTP协议</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">前端杂谈</a></div><div class="nav-item"><a href="/interview/" class="nav-link">每日一题</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">数据结构与算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/more/linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <a href="https://github.com/liujie2019/VuePress-Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端杂谈</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" class="sidebar-link">前端杂谈</a></li><li><a href="/blog/01.post请求之Content-Type理解.html" class="sidebar-link">1. POST请求之Content-Type总结</a></li><li><a href="/blog/02.axios简单应用.html" class="sidebar-link">2. axios简单应用</a></li><li><a href="/blog/03.JS时间处理moment.html" class="sidebar-link">3. JS时间处理插件MomentJS</a></li><li><a href="/blog/04.前端通过Blob实现文件下载.html" class="sidebar-link">4. 前端通过Blob实现文件下载</a></li><li><a href="/blog/05.正则总结.html" class="active sidebar-link">5. 正则总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#regexp对象" class="sidebar-link">Regexp对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#修饰符" class="sidebar-link">修饰符</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#元字符" class="sidebar-link">元字符</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#量词" class="sidebar-link">量词</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#分组" class="sidebar-link">分组</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#正则对象方法test和exec" class="sidebar-link">正则对象方法test和exec</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#字符串对象方法" class="sidebar-link">字符串对象方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#案例分析" class="sidebar-link">案例分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#日期匹配" class="sidebar-link">日期匹配</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#匹配时间" class="sidebar-link">匹配时间</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#匹配16进制颜色值" class="sidebar-link">匹配16进制颜色值</a></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#匹配id" class="sidebar-link">匹配id</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#特殊情况注意" class="sidebar-link">特殊情况注意</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#使用new-regexp创建正则实例" class="sidebar-link">使用new RegExp创建正则实例</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/05.正则总结.html#参考文档" class="sidebar-link">参考文档</a></li></ul></li><li><a href="/blog/06.从零实现Koa2.html" class="sidebar-link">从零实现Koa2</a></li><li><a href="/blog/Axios的二次封装和API接口管理规范.html" class="sidebar-link">Axios的二次封装和API接口管理规范</a></li><li><a href="/blog/Cookie.html" class="sidebar-link">Cookie</a></li><li><a href="/blog/ES6类和继承的实现原理.html" class="sidebar-link">ES6类和继承的实现原理</a></li><li><a href="/blog/defineProperty 与 proxy.html" class="sidebar-link">Object.defineProperty与proxy</a></li><li><a href="/blog/requestAnimationFrame.html" class="sidebar-link">requestAnimationFrame</a></li><li><a href="/blog/微前端.html" class="sidebar-link">微前端</a></li><li><a href="/blog/手写Promise.html" class="sidebar-link">5. 手写Promise</a></li><li><a href="/blog/手写async-await.html" class="sidebar-link">手写async-await</a></li><li><a href="/blog/配置ESLint检查代码质量.html" class="sidebar-link">配置ESLint检查代码质量</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>[TOC]
正则表达式工具：http://regexper.com</p> <p>正则表达式(Regular Expression)：使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。简而言之，就是按照某种规则去匹配符合条件的字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 查看文件目录</span>
ls
<span class="token comment">// 在当前目录中查找所有的txt文件</span>
find <span class="token punctuation">.</span><span class="token operator">/</span> <span class="token operator">-</span>name <span class="token operator">*</span><span class="token punctuation">.</span>txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><code>.</code>：代表任意字符，可以是中文英文数字或特殊符号</li> <li><code>*</code>：代表0到多个或任意个字符</li> <li>+：表示1个或多个</li> <li>?：表示0个或1个</li> <li>^：表示开头</li> <li>$：表示结尾</li> <li>\b：匹配单词边界</li> <li>\：转义字符</li> <li>()：分组，<code>$1-9</code>按顺序引用分组<code>($1：</code>提取分组内容，即第一个括号里的内容)</li> <li>\d：数字</li> <li>{}：个数</li> <li>[]：或</li></ul> <p>举个例子：匹配日期格式（2019-01-01或2019/01/10）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 表示以四位数字开头的年份 /或者- 2位数的月份 /或者- 2位数的日期结尾 的格式</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/^(\d{4})[-/](\d{2})[-/](\d{2})$/g</span><span class="token punctuation">;</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2020-06-04'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2020/06/04'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>需要注意：非英文字符，需要进行转义。分组，对需要的数据外加 () 进行分组，然后使用<code>$1</code>、<code>$2</code>、<code>$3</code>进行获取替换。</p> <h2 id="regexp对象"><a href="#regexp对象" aria-hidden="true" class="header-anchor">#</a> Regexp对象</h2> <p>JavaScript通过内置对象RegExp支持正则表达式。有两种方法实例化RegExp对象：</p> <ul><li>字面量</li> <li>构造函数</li></ul> <p>字面量形式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// \b表示单词边界</span>
<span class="token comment">// 匹配单词is</span>
<span class="token comment">// g表示全局匹配</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/\bis\b/g</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>构造函数形式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\bis\\b'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="修饰符"><a href="#修饰符" aria-hidden="true" class="header-anchor">#</a> 修饰符</h3> <ul><li>g：global全文搜索，默认false，搜索到第一个匹配目标就停止；</li> <li>i：ignore case 忽略大小写，默认大小写敏感；</li> <li>m：multiple lines多行搜索，默认false</li> <li>lastIndex：是正则表达式的一个可读可写的整型属性，用来指定下一次匹配的起始索引。(只有正则表达式使用了表示全局检索的 &quot;<code>g</code>&quot; 标志时，该属性才会起作用。)</li> <li>source：正则表达式的文本字符串</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'Bb'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/b/g</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Ba&quot;</span>
<span class="token string">'Bb'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/b/gi</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;aa&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/\w(?=\d)/g</span><span class="token punctuation">;</span>
reg<span class="token punctuation">.</span>source<span class="token punctuation">;</span> <span class="token comment">// \w(?=\d)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/(hi)?/g</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 'hi', 'hi', index: 0, input: 'hi', groups: undefined ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ '', undefined, index: 2, input: 'hi', groups: undefined ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="元字符"><a href="#元字符" aria-hidden="true" class="header-anchor">#</a> 元字符</h3> <p>正则表达式由两种基本字符类型组成：</p> <ul><li>原义文本字符</li> <li>元字符：指在正则表达式中有特殊含义的非字母字符。例如<code>\b</code>指的是单词边界。</li></ul> <p><img src="/assets/img/image-20200604185135950.30962b05.png" alt="image-20200604185135950"></p> <p>一般情况下，正则表达式的一个字符对应字符串的一个字符。比如：<code>/ab\t/</code>所表示的意义如下图所示：</p> <p><img src="/assets/img/image-20200604184616014.3a1bf3e5.png" alt="image-20200604184616014"></p> <h4 id="匹配字符类"><a href="#匹配字符类" aria-hidden="true" class="header-anchor">#</a> 匹配字符类</h4> <p>我们可以使用元字符[]来构建一个简单的类。所谓类就是指符合某些特性的对象，一个泛指，而不是特指某个字符。表达式[abc]把字符a或b或c归为一类，表达式可以匹配这类的字符。</p> <p><img src="/assets/img/image-20200604185919098.6ff660bf.png" alt="image-20200604185919098"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 替换abc字符</span>
<span class="token string">'a1b2c3'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[abc]/g</span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// X1X2X3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="字符类取反"><a href="#字符类取反" aria-hidden="true" class="header-anchor">#</a> 字符类取反</h4> <p>使用元字符<code>^</code>创建反向类/负向类，反向类的意思是不属于某个类的内容。比如：表达式<code>[^abc]</code>表示不是字符a或b或c的内容。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 替换非abc的字符</span>
<span class="token string">'a1b2c3'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[^abc]/g</span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// aXbXcX</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="范围类"><a href="#范围类" aria-hidden="true" class="header-anchor">#</a> 范围类</h4> <p>使用<code>[a-zA-Z]</code>来表示从a到z和从A到Z的任意字符。需要注意的是在范围类中的<code>-</code>是不起作用的，如需匹配需要在范围类后面加上<code>-</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'2019-01-20'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[0-9-]/g</span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// XXXXXXXXXX</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="预定义类及边界"><a href="#预定义类及边界" aria-hidden="true" class="header-anchor">#</a> 预定义类及边界</h4> <p>正则表达式提供了<strong>预定义类</strong>来匹配常见的字符类。</p> <img src="/assets/img/image-20200604191214741.1dc4c62a.png" alt="image-20200604191214741" style="zoom:50%;"> <blockquote><p>需要注意：匹配任意字符，即除了回车和换行符。<code>[^\r\n]</code></p></blockquote> <p>举个例子：匹配ab + 数字 + 任意字符的字符串，即/ab\d./，如下图所示</p> <p><img src="/assets/img/image-20200604191301524.924342d0.png" alt="image-20200604191301524"></p> <h4 id="边界匹配"><a href="#边界匹配" aria-hidden="true" class="header-anchor">#</a> 边界匹配</h4> <img src="/assets/img/image-20200604191445405.c1581a49.png" alt="image-20200604191445405" style="zoom:50%;"> <ul><li><code>^</code>（脱字符）匹配开头，在多行匹配中匹配行开头。</li> <li><code>$</code>（美元符号）匹配结尾，在多行匹配中匹配行结尾。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^|$/</span><span class="token punctuation">,</span> <span class="token string">'@'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;@hello&quot;</span>
<span class="token comment">// 加上全局匹配</span>
<span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^|$/g</span><span class="token punctuation">,</span> <span class="token string">'@'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;@hello@&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>多行匹配模式时，二者是行的概念，这个需要我们的注意：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token string">'I\nlove\njavascript'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^|$/gm</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
#<span class="token constant">I</span>#
#love#
#javascript#
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>边界和边界取反：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'this is a dog'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\bis\b/g</span><span class="token punctuation">,</span> <span class="token string">'666'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;this 666 a dog&quot;</span>
<span class="token string">'this is a dog'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\Bis\b/g</span><span class="token punctuation">,</span> <span class="token string">'666'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;th666 is a dog&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'@123@abc@'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/@./g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Q23Qbc@&quot;</span>
<span class="token string">'@123@abc@'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^@./g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Q23@abc@&quot;</span>
<span class="token string">'@123@abc@'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/.@/g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;@12QabQ&quot;</span>
<span class="token string">'@123@abc@'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/.@$/g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;@123@abQ&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>处理多行的情况：</p> <p><img src="/assets/img/image-20200604192625116.638ba702.png" alt="image-20200604192625116"></p> <h3 id="量词"><a href="#量词" aria-hidden="true" class="header-anchor">#</a> 量词</h3> <ul><li><code>{m,}</code> 表示至少出现m次。</li> <li><code>{m}</code>等价于<code>{m,m}</code>，表示出现m次。</li> <li><code>{n,m}</code>表示出现n到m次。</li> <li><code>?</code>等价于<code>{0,1}</code>，表示出现或者不出现。</li> <li><code>+</code>等价于<code>{1,}</code>，表示出现至少一次。</li> <li><code>*</code>等价于<code>{0,}</code>，表示出现任意次，有可能不出现。</li></ul> <h4 id="贪婪模式与非贪婪模式"><a href="#贪婪模式与非贪婪模式" aria-hidden="true" class="header-anchor">#</a> 贪婪模式与非贪婪模式</h4> <p>贪婪模式：尽可能多的匹配。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 该正则/\d{3,6}/g的意思是匹配3到6个数字</span>
<span class="token comment">// 正则默认是贪婪匹配，即尽可能多的匹配，所以这里匹配了6个数字</span>
<span class="token string">'12345678'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\d{3,6}/g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Q78</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/\d{2,5}/g</span><span class="token punctuation">;</span> <span class="token comment">// 表示数字连续出现2到5次，会匹配2位、3位、4位、5位连续数字</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;123 1234 12345 123456&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;123&quot;, &quot;1234&quot;, &quot;12345&quot;, &quot;12345&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>非贪婪模式：在后面加？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 这里123和456均被匹配，被替换成了Q</span>
<span class="token string">'12345678'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\d{3,6}?/g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// QQ78</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/\d{2,5}?/g</span><span class="token punctuation">;</span> <span class="token comment">// 表示虽然2到5次都行，当2个就够的时候，就不在往下尝试了</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;123 1234 12345 123456&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;12&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;56&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>通过在量词后面加个问号就能实现惰性匹配，因此所有惰性匹配情形如下：</p> <blockquote><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>m<span class="token punctuation">,</span>n<span class="token punctuation">}</span><span class="token operator">?</span>
<span class="token punctuation">{</span>m<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token operator">?</span>
<span class="token operator">?</span><span class="token operator">?</span>
<span class="token operator">+</span><span class="token operator">?</span>
<span class="token operator">*</span><span class="token operator">?</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></blockquote> <h3 id="分组"><a href="#分组" aria-hidden="true" class="header-anchor">#</a> 分组</h3> <p>如果要匹配字符串<code>Hello</code>连续出现3次的情况：<code>/Hello{3}/</code>，这样是不行的。</p> <p><img src="/assets/img/image-20200604193247332.a728a68c.png" alt="image-20200604193247332"></p> <p>上面的是n重复3次，而不是整个单词重复3次。使用<code>()</code>可以达到分组的功能，使量词作用于分组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/(Hello){3}/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/image-20200604193337171.d4d3fcfc.png" alt="image-20200604193337171"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a1b2c3d4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/([a-z]\d){3}/g</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ad4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="或"><a href="#或" aria-hidden="true" class="header-anchor">#</a> 或</h4> <p>使用<code>|</code>可以达到或的效果。</p> <p>下图代表的是：<code>/hello|world/</code></p> <p><img src="/assets/img/image-20200604193806533.7bb67813.png" alt="image-20200604193806533"></p> <p>下图代表的是：<code>/hel(lo|wo)rld/</code>，这里的或作用于：lo和wo。</p> <p><img src="/assets/img/image-20200604193831615.f86b013f.png" alt="image-20200604193831615"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'helloworld'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/hello|world/g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// QQ</span>
<span class="token comment">// 下面的正则匹配Byronsper或者ByrCasper</span>
<span class="token string">'ByronsperByrCasper'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/Byr(on|Ca)sper/g</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// QQ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>需要注意：或也是惰性的，即当前面的匹配上了，后面的就不再尝试了，来看个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex">/good|goodbye/g</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token string">&quot;goodbye&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [&quot;good&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex">/goodbye|good/g</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token string">&quot;goodbye&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [&quot;goodbye&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="反向引用"><a href="#反向引用" aria-hidden="true" class="header-anchor">#</a> 反向引用</h4> <p>2020-06-04 =&gt; 06/04/2020</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'2020-06-04'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$2/$3/$1'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;06/04/2020&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'2019-01-20'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$2/$3/$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 01/20/2019</span>

<span class="token comment">// 匹配第一个分组</span>
<span class="token string">'2019-01-20'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2019</span>
<span class="token comment">// 第二个分组</span>
<span class="token string">'2019-01-20'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 01</span>
<span class="token comment">// 第三个分组</span>
<span class="token string">'2019-01-20'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="忽略分组"><a href="#忽略分组" aria-hidden="true" class="header-anchor">#</a> 忽略分组</h4> <p>如果不希望捕获某些分组，只需要在分组内加上<code>?:</code>就可以了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">:</span>hello<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span>world<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/image-20200604194923407.454d778c.png" alt="image-20200604194923407"></p> <h3 id="正则对象方法test和exec"><a href="#正则对象方法test和exec" aria-hidden="true" class="header-anchor">#</a> 正则对象方法test和exec</h3> <h4 id="test"><a href="#test" aria-hidden="true" class="header-anchor">#</a> test</h4> <p><code>test</code> 方法执行一个检索，用来查看正则表达式与指定的字符串是否匹配。返回 <code>true</code> 或 <code>false</code>。</p> <p>当你想要知道一个模式是否存在于一个字符串中时，就可以使用 <code>test()</code>（类似于<code></code><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search" target="_blank" rel="noopener noreferrer"><code>String.prototype.search()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 方法），差别在于test返回一个布尔值，而 search 返回索引（如果找到）或者-1（如果没找到）；</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 用于测试字符串参数中是否存在匹配正则表达式模式的字符串，存在返回true，否则返回false。</span>
<span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'hello world!'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token regex">/^hello/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// str以hello开头，因此返回true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex">/\w/g</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>进行<code>reg2.test('ab')</code>时，第三次会变成<code>false</code>。</p> <p>原因：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">while</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>即进行<code>test</code>时，正则表达式的<code>lastIndex</code>会发生变化，输出：1和2，表示第一个匹配上了、第二个匹配上了。</p> <h4 id="exec"><a href="#exec" aria-hidden="true" class="header-anchor">#</a> exec</h4> <p><code>exec</code>方法在一个指定字符串中执行一个搜索匹配，返回一个结果数组或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer"><code>null</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>如果匹配成功，<code>exec()</code> 方法返回一个数组（包含额外的属性 <code>index</code> 和 <code>input</code> ），并更新正则表达式对象的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex" target="_blank" rel="noopener noreferrer"><code>lastIndex</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 属性。完全匹配成功的文本将作为返回数组的第一项，从第二项起，后续每项都对应正则表达式内捕获括号里匹配成功的文本。</p> <p>如果匹配失败，<code>exec()</code> 方法返回 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer"><code>null</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，并将 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex" target="_blank" rel="noopener noreferrer"><code>lastIndex</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 重置为 0 。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用正则表达式模式对字符串执行搜索，并将更新全局RegExp对象的属性以反映匹配结果。</span>
<span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果没有匹配则返回<code>null</code>，否则返回一个结果数组：</p> <ul><li><code>index</code>声明匹配文本的第一个字符的位置；</li> <li><code>input</code>存放被检索的字符串string。</li></ul> <p>非全局调用：</p> <ul><li>调用非全局的RegExp对象的exec()时，返回数组；</li> <li>第一个元素是与正则表达式相匹配的文本；</li> <li>第二个元素是与RegExpObject的第一个子表达式（分组）相匹配的文本；</li> <li>第三个元素是与RegExp对象的第二个子表达式（分组）相匹配的文本。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/quick\s(brown).+?(jumps)/ig</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'The Quick Brown Fox Jumps Over The Lazy Dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  [&quot;Quick Brown Fox Jumps&quot;, &quot;Brown&quot;, &quot;Jumps&quot;, index: 4, input: &quot;The Quick Brown Fox Jumps Over The Lazy Dog&quot;, groups: undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/assets/img/image-20200605135536461.d8a8c39d.png" alt="image-20200605135536461"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/\d(\w)(\w)\d/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'$1aa2bb3cy4dd5ee'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1aa2&quot;, &quot;a&quot;, &quot;a&quot;, index: 1, input: &quot;$1aa2bb3cy4dd5ee&quot;, groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1aa2,a,a</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex <span class="token operator">+</span> <span class="token string">'\t'</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0       1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="字符串对象方法"><a href="#字符串对象方法" aria-hidden="true" class="header-anchor">#</a> 字符串对象方法</h3> <h4 id="search"><a href="#search" aria-hidden="true" class="header-anchor">#</a> search</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 返回首次匹配项的索引
string.protatype.search(reg)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>search</code>方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。如果匹配成功，则 <code>search</code> 返回正则表达式在字符串中<strong>首次匹配项</strong>的索引；否则，返回 <strong>-1</strong>。</p> <blockquote><p>需要注意：<code>search</code>方法不执行全局匹配，它将忽略标志<code>g</code>，并且总是从字符串开始进行检索。</p></blockquote> <h4 id="macth"><a href="#macth" aria-hidden="true" class="header-anchor">#</a> macth</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>string<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>match</code>方法将检索字符串，以找到一个或多个与<code>regexp</code>匹配的文本。<code>regexp</code>是否具有修饰符<code>g</code>对匹配结果影响很大。</p> <p>非全局调用(即不具有修饰符g)：如果<code>regexp</code>没有修饰符<code>g</code>，那么<code>match</code>方法就只能在字符串中执行一次匹配，如果没有找到任何匹配的文本，将返回<code>null</code>，否则将返回一个数组，其中存放了与它找到的匹配文本有关的信息。<strong>返回数组</strong>的第一个元素存放的是匹配文本，而其余元素存放的是与正则表达式的子表达式匹配的文本。</p> <p>除了常规数组元素之外，返回的数组还含有3个对象属性：</p> <ul><li><code>groups</code>: 一个捕获组数组 或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer"><code>undefined</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（如果没有定义命名捕获组）</li> <li><code>index</code>: 匹配结果的开始位置</li> <li><code>input</code>: 搜索的字符串</li></ul> <p>在下例中，使用 match 查找 &quot;Chapter&quot; 紧跟着 1 个或多个数值字符，再紧跟着一个小数点和数值字符 0 次或多次。正则表达式包含 i 标志，因此大小写会被忽略。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'For more information, see Chapter 3.4.5.1'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/see (chapter \d+(\.\d)*)/i</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> found <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>found<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这里lastIndex等于字符串的长度，且该正则表达式不匹配空字符串 ，则该正则表达式不匹配字符串，lastIndex 被设置为 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>found<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token string">'\t'</span> <span class="token operator">+</span> re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 22       0</span>

<span class="token comment">// logs [ 'see Chapter 3.4.5.1',</span>
<span class="token comment">//        'Chapter 3.4.5.1',</span>
<span class="token comment">//        '.1',</span>
<span class="token comment">//        index: 22,</span>
<span class="token comment">//        input: 'For more information, see Chapter 3.4.5.1' ]</span>

<span class="token comment">// 'see Chapter 3.4.5.1' 是整个匹配。</span>
<span class="token comment">// 'Chapter 3.4.5.1' 被'(chapter \d+(\.\d)*)'捕获。</span>
<span class="token comment">// '.1' 是被'(\.\d)'捕获的最后一个值。</span>
<span class="token comment">// 'index' 属性(22) 是整个匹配从零开始的索引。</span>
<span class="token comment">// 'input' 属性是被解析的原始字符串。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/\d(\w)\d/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'$1a2b3c4d5e'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ '1a2', 'a', index: 1, input: '$1a2b3c4d5e', groups: undefined ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token string">'\t'</span> <span class="token operator">+</span> reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1       0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>全局调用(即具有修饰符g)：如果<code>regexp</code>具有修饰符<code>g</code>，则<code>match</code>方法将执行全局检索，找到字符串中的所有匹配子字符串。</p> <ul><li>没有找到任何匹配的子串，则返回null；</li> <li>如果找到了一个或多个匹配子串，则返回一个数组，数组元素中存放的是字符串中所有的匹配子串，而且也没有index属性或input属性。</li></ul> <p>下例展示了 match 使用 global 和 ignore case 标志。A-E、a-e 的所有字母将会作为一个数组的元素返回。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex">/[A-E]/gi</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> matches_array <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches_array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ['A', 'B', 'C', 'D', 'E', 'a', 'b', 'c', 'd', 'e']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg2 <span class="token operator">=</span> <span class="token regex">/\d(\w)\d/g</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'$1a2b3c4d5e'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ '1a2', '3c4' ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token string">'\t'</span> <span class="token operator">+</span> reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined       0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="split"><a href="#split" aria-hidden="true" class="header-anchor">#</a> split</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>经常使用<code>split</code>方法把字符串分割为字符数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a,b,c,d'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a','b','c','d']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在一些复杂的分割情况下可以使用正则表达式解决：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a1b2c3d'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/\d/g</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a','b','c','d']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="replace"><a href="#replace" aria-hidden="true" class="header-anchor">#</a> replace</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 将字符串中的某些子串替换为需要的内容</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>rex<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>replace</strong>方法返回一个由替换值（<code>replacement</code>）替换一些或所有匹配的模式（<code>pattern</code>）后的新字符串。模式可以是一个字符串或者一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp" target="_blank" rel="noopener noreferrer">正则表达式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，替换值可以是一个字符串或者一个<strong>每次匹配都要调用的回调函数</strong>。即有如下3种形式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> replaceStr<span class="token punctuation">)</span> <span class="token comment">// 匹配模式和替换值都是字符串</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> replaceStr<span class="token punctuation">)</span> <span class="token comment">// 匹配模式是正则，替换值是字符串</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">)</span> <span class="token comment">// 匹配模式是正则，替换值是函数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>function会在每次匹配替换的时候调用，有四个参数：</p> <ol><li>匹配字符串</li> <li>正则表达式分组内容，没有分组则没有该参数</li> <li>匹配项在字符串中的index</li> <li>原字符串</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a2c'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a6c</span>
<span class="token string">'a2c2d2'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a6c2d2</span>
<span class="token string">'a2c2d2'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/2/g</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a6c6d6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a1b2c3d4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\d/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> index<span class="token punctuation">,</span> origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  		<span class="token comment">// 这里match的值会匹配4次，分别为1，2，3，4</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果如下：</span>
<span class="token number">1</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">7</span>
<span class="token string">&quot;a2b3c4d5&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a1b2c3d4e5'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d)(\w)(\d)/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> group1<span class="token punctuation">,</span> group2<span class="token punctuation">,</span> group3<span class="token punctuation">,</span> index<span class="token punctuation">,</span> origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> group1 <span class="token operator">+</span> group3<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果如下：</span>
<span class="token number">1</span>b2
<span class="token number">3</span>d4
<span class="token string">&quot;a12c34e5&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="案例分析"><a href="#案例分析" aria-hidden="true" class="header-anchor">#</a> 案例分析</h2> <h3 id="日期匹配"><a href="#日期匹配" aria-hidden="true" class="header-anchor">#</a> 日期匹配</h3> <p>比如yyyy-mm-dd格式为例。</p> <p>要求匹配：</p> <blockquote><p>2017-06-10</p></blockquote> <p>分析：</p> <ul><li>年，四位数字即可，可用<code>[0-9]{4}</code>。</li> <li>月，共12个月，分两种情况01、02、……、09和10、11、12，可用<code>(0[1-9]|1[0-2])</code>。</li> <li>日，最大31天，可用<code>(0[1-9]|[12][0-9]|3[01])</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/^[0-9]{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01])$/</span><span class="token punctuation">;</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2020-06-05'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2020-6-5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="匹配时间"><a href="#匹配时间" aria-hidden="true" class="header-anchor">#</a> <strong>匹配时间</strong></h3> <p>以24小时制为例。</p> <p>要求匹配：</p> <blockquote><p>23:59</p> <p>02:07</p></blockquote> <p>分析：</p> <ol><li>共4位数字，第一位数字可以为<code>[0-2]</code>。</li> <li>当第1位为2时，第2位可以为<code>[0-3]</code>，其他情况时，第2位为<code>[0-9]</code>。</li> <li>第3位数字为<code>[0-5]</code>，第4位为<code>[0-9]</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/^([01][0-9]|[2][0-3]):[0-5][0-9]$/</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'23:59'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'02:08'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果也要求匹配7:9，也就是说时分前面的0可以省略。</p> <p>此时正则变成：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/^(0?[0-9]|[01][0-9]|[2][0-3]):(0?[0-9]|[0-5][0-9])$/</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'2:8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="匹配16进制颜色值"><a href="#匹配16进制颜色值" aria-hidden="true" class="header-anchor">#</a> <strong>匹配16进制颜色值</strong></h3> <p>要求匹配：</p> <blockquote><p>#ffbbad</p> <p>#Fc01DF</p> <p>#FFF</p> <p>#ffE</p></blockquote> <p>分析：</p> <ul><li>表示一个16进制字符，可以用字符组<code>[0-9a-fA-F]</code>。</li> <li>其中字符可以出现3或6次，需要是用量词和分支结构。</li> <li>使用或结构时，需要注意顺序。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex">/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token string">&quot;#ffbbad #Fc01DF #FFF #ffE&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [&quot;#ffbbad&quot;, &quot;#Fc01DF&quot;, &quot;#FFF&quot;, &quot;#ffE&quot;]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="匹配id"><a href="#匹配id" aria-hidden="true" class="header-anchor">#</a> <strong>匹配id</strong></h3> <p>要求从</p> <blockquote><div id="container" class="main"></div></blockquote> <p>提取出id=&quot;container&quot;。</p> <p>可能最开始想到的正则是：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/id=&quot;.*&quot;/</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'&lt;div id=&quot;container&quot; class=&quot;main&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// =&gt; id=&quot;container&quot; class=&quot;main&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>因为<code>.</code>是通配符，本身就匹配双引号的，而量词<code>*</code>又是贪婪的，当遇到container后面双引号时，不会停下来，会继续匹配，直到遇到最后一个双引号为止。</p> <p>解决之道，可以使用惰性匹配：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/id=&quot;.*?&quot;/</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">'&lt;div id=&quot;container&quot; class=&quot;main&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; id=&quot;container&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="特殊情况注意"><a href="#特殊情况注意" aria-hidden="true" class="header-anchor">#</a> 特殊情况注意</h2> <h3 id="使用new-regexp创建正则实例"><a href="#使用new-regexp创建正则实例" aria-hidden="true" class="header-anchor">#</a> 使用<code>new RegExp</code>创建正则实例</h3> <p>传递一个字符串（参数）给 new RegExp 时，我们需要双倍反斜杠<code>\\</code>，因为字符串引号会消费其中的一个。具体看下面的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\d\.\d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /d.d/</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\\d\\.\\d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /\d\.\d/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="参考文档"><a href="#参考文档" aria-hidden="true" class="header-anchor">#</a> 参考文档</h2> <ol><li><a href="https://juejin.im/post/5965943ff265da6c30653879#heading-5" target="_blank" rel="noopener noreferrer">JS正则表达式完整教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/liujie2019/VuePress-Blog/edit/master/docs/blog/05.正则总结.md" target="_blank" rel="noopener noreferrer">查看原文 | 在GitHub上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-06-28 16:23:26</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/04.前端通过Blob实现文件下载.html" class="prev">4. 前端通过Blob实现文件下载</a></span> <span class="next"><a href="/blog/06.从零实现Koa2.html">从零实现Koa2</a>→
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.c2739f0d.js" defer></script><script src="/assets/js/2.fd8d7b4d.js" defer></script><script src="/assets/js/5.83bd2558.js" defer></script><script src="/assets/js/29.03c53af3.js" defer></script>
  </body>
</html>
